(function(){const mi=document.createElement("link").relList;if(mi&&mi.supports&&mi.supports("modulepreload"))return;for(const bt of document.querySelectorAll('link[rel="modulepreload"]'))Aa(bt);new MutationObserver(bt=>{for(const bn of bt)if(bn.type==="childList")for(const Da of bn.addedNodes)Da.tagName==="LINK"&&Da.rel==="modulepreload"&&Aa(Da)}).observe(document,{childList:!0,subtree:!0});function xu(bt){const bn={};return bt.integrity&&(bn.integrity=bt.integrity),bt.referrerPolicy&&(bn.referrerPolicy=bt.referrerPolicy),bt.crossOrigin==="use-credentials"?bn.credentials="include":bt.crossOrigin==="anonymous"?bn.credentials="omit":bn.credentials="same-origin",bn}function Aa(bt){if(bt.ep)return;bt.ep=!0;const bn=xu(bt);fetch(bt.href,bn)}})();var ZL=(td,mi)=>()=>(mi||td((mi={exports:{}}).exports,mi),mi.exports),eR=ZL((td,Rc)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();function xu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Aa={exports:{}},bt={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var bn;function Da(){if(bn)return bt;bn=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,a,u){var h=null;if(u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),"key"in a){u={};for(var f in a)f!=="key"&&(u[f]=a[f])}else u=a;return a=u.ref,{$$typeof:n,type:o,key:h,ref:a!==void 0?a:null,props:u}}return bt.Fragment=e,bt.jsx=r,bt.jsxs=r,bt}var Ng;function wx(){return Ng||(Ng=1,Aa.exports=Da()),Aa.exports}var re=wx(),Mg={exports:{}},Le={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Lg;function Sx(){if(Lg)return Le;Lg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,z={};function j(E,_,Y){this.props=E,this.context=_,this.refs=z,this.updater=Y||A}j.prototype.isReactComponent={},j.prototype.setState=function(E,_){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,_,"setState")},j.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Z(){}Z.prototype=j.prototype;function te(E,_,Y){this.props=E,this.context=_,this.refs=z,this.updater=Y||A}var oe=te.prototype=new Z;oe.constructor=te,V(oe,j.prototype),oe.isPureReactComponent=!0;var ge=Array.isArray,ae={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function L(E,_,Y,K,J,ue){return Y=ue.ref,{$$typeof:n,type:E,key:_,ref:Y!==void 0?Y:null,props:ue}}function C(E,_){return L(E.type,_,void 0,void 0,void 0,E.props)}function I(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function N(E){var _={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return _[Y]})}var M=/\/+/g;function F(E,_){return typeof E=="object"&&E!==null&&E.key!=null?N(""+E.key):_.toString(36)}function P(){}function $e(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(P,P):(E.status="pending",E.then(function(_){E.status==="pending"&&(E.status="fulfilled",E.value=_)},function(_){E.status==="pending"&&(E.status="rejected",E.reason=_)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function _e(E,_,Y,K,J){var ue=typeof E;(ue==="undefined"||ue==="boolean")&&(E=null);var le=!1;if(E===null)le=!0;else switch(ue){case"bigint":case"string":case"number":le=!0;break;case"object":switch(E.$$typeof){case n:case e:le=!0;break;case v:return le=E._init,_e(le(E._payload),_,Y,K,J)}}if(le)return J=J(E),le=K===""?"."+F(E,0):K,ge(J)?(Y="",le!=null&&(Y=le.replace(M,"$&/")+"/"),_e(J,_,Y,"",function(Ee){return Ee})):J!=null&&(I(J)&&(J=C(J,Y+(J.key==null||E&&E.key===J.key?"":(""+J.key).replace(M,"$&/")+"/")+le)),_.push(J)),1;le=0;var fe=K===""?".":K+":";if(ge(E))for(var he=0;he<E.length;he++)K=E[he],ue=fe+F(K,he),le+=_e(K,_,Y,ue,J);else if(he=T(E),typeof he=="function")for(E=he.call(E),he=0;!(K=E.next()).done;)K=K.value,ue=fe+F(K,he++),le+=_e(K,_,Y,ue,J);else if(ue==="object"){if(typeof E.then=="function")return _e($e(E),_,Y,K,J);throw _=String(E),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return le}function ie(E,_,Y){if(E==null)return E;var K=[],J=0;return _e(E,K,"","",function(ue){return _.call(Y,ue,J++)}),K}function de(E){if(E._status===-1){var _=E._result;_=_(),_.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=_)}if(E._status===1)return E._result.default;throw E._result}var ve=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function We(){}return Le.Children={map:ie,forEach:function(E,_,Y){ie(E,function(){_.apply(this,arguments)},Y)},count:function(E){var _=0;return ie(E,function(){_++}),_},toArray:function(E){return ie(E,function(_){return _})||[]},only:function(E){if(!I(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Le.Component=j,Le.Fragment=r,Le.Profiler=a,Le.PureComponent=te,Le.StrictMode=o,Le.Suspense=m,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(E){return function(){return E.apply(null,arguments)}},Le.cloneElement=function(E,_,Y){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var K=V({},E.props),J=E.key,ue=void 0;if(_!=null)for(le in _.ref!==void 0&&(ue=void 0),_.key!==void 0&&(J=""+_.key),_)!ye.call(_,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&_.ref===void 0||(K[le]=_[le]);var le=arguments.length-2;if(le===1)K.children=Y;else if(1<le){for(var fe=Array(le),he=0;he<le;he++)fe[he]=arguments[he+2];K.children=fe}return L(E.type,J,void 0,void 0,ue,K)},Le.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Le.createElement=function(E,_,Y){var K,J={},ue=null;if(_!=null)for(K in _.key!==void 0&&(ue=""+_.key),_)ye.call(_,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(J[K]=_[K]);var le=arguments.length-2;if(le===1)J.children=Y;else if(1<le){for(var fe=Array(le),he=0;he<le;he++)fe[he]=arguments[he+2];J.children=fe}if(E&&E.defaultProps)for(K in le=E.defaultProps,le)J[K]===void 0&&(J[K]=le[K]);return L(E,ue,void 0,void 0,null,J)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(E){return{$$typeof:f,render:E}},Le.isValidElement=I,Le.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:de}},Le.memo=function(E,_){return{$$typeof:g,type:E,compare:_===void 0?null:_}},Le.startTransition=function(E){var _=ae.T,Y={};ae.T=Y;try{var K=E(),J=ae.S;J!==null&&J(Y,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(We,ve)}catch(ue){ve(ue)}finally{ae.T=_}},Le.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Le.use=function(E){return ae.H.use(E)},Le.useActionState=function(E,_,Y){return ae.H.useActionState(E,_,Y)},Le.useCallback=function(E,_){return ae.H.useCallback(E,_)},Le.useContext=function(E){return ae.H.useContext(E)},Le.useDebugValue=function(){},Le.useDeferredValue=function(E,_){return ae.H.useDeferredValue(E,_)},Le.useEffect=function(E,_){return ae.H.useEffect(E,_)},Le.useId=function(){return ae.H.useId()},Le.useImperativeHandle=function(E,_,Y){return ae.H.useImperativeHandle(E,_,Y)},Le.useInsertionEffect=function(E,_){return ae.H.useInsertionEffect(E,_)},Le.useLayoutEffect=function(E,_){return ae.H.useLayoutEffect(E,_)},Le.useMemo=function(E,_){return ae.H.useMemo(E,_)},Le.useOptimistic=function(E,_){return ae.H.useOptimistic(E,_)},Le.useReducer=function(E,_,Y){return ae.H.useReducer(E,_,Y)},Le.useRef=function(E){return ae.H.useRef(E)},Le.useState=function(E){return ae.H.useState(E)},Le.useSyncExternalStore=function(E,_,Y){return ae.H.useSyncExternalStore(E,_,Y)},Le.useTransition=function(){return ae.H.useTransition()},Le.version="19.0.0",Le}var Rg;function nd(){return Rg||(Rg=1,Mg.exports=Sx()),Mg.exports}var me=nd();const Ex=xu(me);var rd={exports:{}},Pa={},Vg={exports:{}},Og={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var jg;function kx(){return jg||(jg=1,(function(n){function e(ie,de){var ve=ie.length;ie.push(de);e:for(;0<ve;){var We=ve-1>>>1,E=ie[We];if(0<a(E,de))ie[We]=de,ie[ve]=E,ve=We;else break e}}function r(ie){return ie.length===0?null:ie[0]}function o(ie){if(ie.length===0)return null;var de=ie[0],ve=ie.pop();if(ve!==de){ie[0]=ve;e:for(var We=0,E=ie.length,_=E>>>1;We<_;){var Y=2*(We+1)-1,K=ie[Y],J=Y+1,ue=ie[J];if(0>a(K,ve))J<E&&0>a(ue,K)?(ie[We]=ue,ie[J]=ve,We=J):(ie[We]=K,ie[Y]=ve,We=Y);else if(J<E&&0>a(ue,ve))ie[We]=ue,ie[J]=ve,We=J;else break e}}return de}function a(ie,de){var ve=ie.sortIndex-de.sortIndex;return ve!==0?ve:ie.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var m=[],g=[],v=1,S=null,T=3,A=!1,V=!1,z=!1,j=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function oe(ie){for(var de=r(g);de!==null;){if(de.callback===null)o(g);else if(de.startTime<=ie)o(g),de.sortIndex=de.expirationTime,e(m,de);else break;de=r(g)}}function ge(ie){if(z=!1,oe(ie),!V)if(r(m)!==null)V=!0,$e();else{var de=r(g);de!==null&&_e(ge,de.startTime-ie)}}var ae=!1,ye=-1,L=5,C=-1;function I(){return!(n.unstable_now()-C<L)}function N(){if(ae){var ie=n.unstable_now();C=ie;var de=!0;try{e:{V=!1,z&&(z=!1,Z(ye),ye=-1),A=!0;var ve=T;try{t:{for(oe(ie),S=r(m);S!==null&&!(S.expirationTime>ie&&I());){var We=S.callback;if(typeof We=="function"){S.callback=null,T=S.priorityLevel;var E=We(S.expirationTime<=ie);if(ie=n.unstable_now(),typeof E=="function"){S.callback=E,oe(ie),de=!0;break t}S===r(m)&&o(m),oe(ie)}else o(m);S=r(m)}if(S!==null)de=!0;else{var _=r(g);_!==null&&_e(ge,_.startTime-ie),de=!1}}break e}finally{S=null,T=ve,A=!1}de=void 0}}finally{de?M():ae=!1}}}var M;if(typeof te=="function")M=function(){te(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,P=F.port2;F.port1.onmessage=N,M=function(){P.postMessage(null)}}else M=function(){j(N,0)};function $e(){ae||(ae=!0,M())}function _e(ie,de){ye=j(function(){ie(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){V||A||(V=!0,$e())},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return r(m)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var de=3;break;default:de=T}var ve=T;T=de;try{return ie()}finally{T=ve}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,de){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ve=T;T=ie;try{return de()}finally{T=ve}},n.unstable_scheduleCallback=function(ie,de,ve){var We=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?We+ve:We):ve=We,ie){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ve+E,ie={id:v++,callback:de,priorityLevel:ie,startTime:ve,expirationTime:E,sortIndex:-1},ve>We?(ie.sortIndex=ve,e(g,ie),r(m)===null&&ie===r(g)&&(z?(Z(ye),ye=-1):z=!0,_e(ge,ve-We))):(ie.sortIndex=E,e(m,ie),V||A||(V=!0,$e())),ie},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ie){var de=T;return function(){var ve=T;T=de;try{return ie.apply(this,arguments)}finally{T=ve}}}})(Og)),Og}var Fg;function xx(){return Fg||(Fg=1,Vg.exports=kx()),Vg.exports}var id={exports:{}},rn={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ug;function Tx(){if(Ug)return rn;Ug=1;var n=nd();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(m,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:m,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,rn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},rn.flushSync=function(m){var g=h.T,v=o.p;try{if(h.T=null,o.p=2,m)return m()}finally{h.T=g,o.p=v,o.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,S=f(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:A}):v==="script"&&o.d.X(m,{crossOrigin:S,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=f(v,g.crossOrigin);o.d.L(m,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},rn.requestFormReset=function(m){o.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},rn.version="19.0.0",rn}var Bg;function Cx(){if(Bg)return id.exports;Bg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),id.exports=Tx(),id.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var zg;function Ix(){if(zg)return Pa;zg=1;var n=xx(),e=nd(),r=Cx();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ge=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ye(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case f:return"Portal";case v:return"Profiler";case g:return"StrictMode";case z:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A:return(t.displayName||"Context")+".Provider";case T:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,M,F;function P(t){if(M===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",F=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+F}var $e=!1;function _e(t,i){if(!t||$e)return"";$e=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var q=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){q=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],k=p[1];if(w&&k){var D=w.split(`
`),O=k.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===O.length)for(l=D.length-1,d=O.length-1;1<=l&&0<=d&&D[l]!==O[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==O[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==O[d]){var G=`
`+D[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=d);break}}}finally{$e=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?P(s):""}function ie(t){switch(t.tag){case 26:case 27:case 5:return P(t.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return t=_e(t.type,!1),t;case 11:return t=_e(t.type.render,!1),t;case 1:return t=_e(t.type,!0),t;default:return""}}function de(t){try{var i="";do i+=ie(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ve(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function We(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function E(t){if(ve(t)!==t)throw Error(o(188))}function _(t){var i=t.alternate;if(!i){if(i=ve(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,l=i;;){var d=s.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===s)return E(d),t;if(p===l)return E(d),i;p=p.sibling}throw Error(o(188))}if(s.return!==l.return)s=d,l=p;else{for(var w=!1,k=d.child;k;){if(k===s){w=!0,s=d,l=p;break}if(k===l){w=!0,l=d,s=p;break}k=k.sibling}if(!w){for(k=p.child;k;){if(k===s){w=!0,s=p,l=d;break}if(k===l){w=!0,l=p,s=d;break}k=k.sibling}if(!w)throw Error(o(189))}}if(s.alternate!==l)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function Y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=Y(t),i!==null)return i;t=t.sibling}return null}var K=Array.isArray,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},le=[],fe=-1;function he(t){return{current:t}}function Ee(t){0>fe||(t.current=le[fe],le[fe]=null,fe--)}function Ce(t,i){fe++,le[fe]=t.current,t.current=i}var Pe=he(null),Je=he(null),et=he(null),Me=he(null);function ct(t,i){switch(Ce(et,i),Ce(Je,t),Ce(Pe,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?H1(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=H1(t),i=X1(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ee(Pe),Ce(Pe,i)}function Et(){Ee(Pe),Ee(Je),Ee(et)}function Xt(t){t.memoizedState!==null&&Ce(Me,t);var i=Pe.current,s=X1(i,t.type);i!==s&&(Ce(Je,t),Ce(Pe,s))}function cn(t){Je.current===t&&(Ee(Pe),Ee(Je)),Me.current===t&&(Ee(Me),bu._currentValue=ue)}var xn=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,Vi=n.unstable_cancelCallback,Sl=n.unstable_shouldYield,Ro=n.unstable_requestPaint,Yt=n.unstable_now,Bs=n.unstable_getCurrentPriorityLevel,mt=n.unstable_ImmediatePriority,It=n.unstable_UserBlockingPriority,ir=n.unstable_NormalPriority,Vo=n.unstable_LowPriority,Oi=n.unstable_IdlePriority,Oo=n.log,$r=n.unstable_setDisableYieldValue,wr=null,hn=null;function El(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(wr,t,void 0,(t.current.flags&128)===128)}catch{}}function Sr(t){if(typeof Oo=="function"&&$r(t),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(wr,t)}catch{}}var pn=Math.clz32?Math.clz32:Oc,kl=Math.log,Vc=Math.LN2;function Oc(t){return t>>>=0,t===0?32:31-(kl(t)/Vc|0)|0}var Er=128,ji=4194304;function or(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Un(t,i){var s=t.pendingLanes;if(s===0)return 0;var l=0,d=t.suspendedLanes,p=t.pingedLanes,w=t.warmLanes;t=t.finishedLanes!==0;var k=s&134217727;return k!==0?(s=k&~d,s!==0?l=or(s):(p&=k,p!==0?l=or(p):t||(w=k&~w,w!==0&&(l=or(w))))):(k=s&~d,k!==0?l=or(k):p!==0?l=or(p):t||(w=s&~w,w!==0&&(l=or(w)))),l===0?0:i!==0&&i!==l&&(i&d)===0&&(d=l&-l,w=i&-i,d>=w||d===32&&(w&4194176)!==0)?i:l}function Fi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function zs(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var t=Er;return Er<<=1,(Er&4194176)===0&&(Er=128),t}function Ui(){var t=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),t}function $s(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function kt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,i,s,l,d,p){var w=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var k=t.entanglements,D=t.expirationTimes,O=t.hiddenUpdates;for(s=w&~s;0<s;){var G=31-pn(s),ee=1<<G;k[G]=0,D[G]=-1;var q=O[G];if(q!==null)for(O[G]=null,G=0;G<q.length;G++){var Q=q[G];Q!==null&&(Q.lane&=-536870913)}s&=~ee}l!==0&&Bi(t,l,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(w&~i))}function Bi(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function zi(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-pn(s),d=1<<l;d&i|t[l]&i&&(t[l]|=i),s&=~d}}function Fc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uc(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:px(t.type))}function $i(t,i){var s=J.p;try{return J.p=t,i()}finally{J.p=s}}var kr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+kr,Lt="__reactProps$"+kr,qr="__reactContainer$"+kr,jo="__reactEvents$"+kr,qs="__reactListeners$"+kr,xr="__reactHandles$"+kr,Tl="__reactResources$"+kr,qi="__reactMarker$"+kr;function Fo(t){delete t[Ut],delete t[Lt],delete t[jo],delete t[qs],delete t[xr]}function sr(t){var i=t[Ut];if(i)return i;for(var s=t.parentNode;s;){if(i=s[qr]||s[Ut]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Z1(t);t!==null;){if(s=t[Ut])return s;t=Z1(t)}return i}t=s,s=t.parentNode}return null}function Wr(t){if(t=t[Ut]||t[qr]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Wi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function Qi(t){var i=t[Tl];return i||(i=t[Tl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[qi]=!0}var Cl=new Set,Ws={};function Pn(t,i){Tn(t,i),Tn(t+"Capture",i)}function Tn(t,i){for(Ws[t]=i,t=0;t<i.length;t++)Cl.add(i[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},_l={};function Bc(t){return xn.call(_l,t)?!0:xn.call(Il,t)?!1:Vp.test(t)?_l[t]=!0:(Il[t]=!0,!1)}function Gi(t,i,s){if(Bc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Ki(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Bn(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Op(t){var i=zc(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Uo(t){t._valueTracker||(t._valueTracker=Op(t))}function Al(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=zc(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Qs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qr=/[\n"\\]/g;function xt(t){return t.replace(Qr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hi(t,i,s,l,d,p,w,k){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+mn(i)):t.value!==""+mn(i)&&(t.value=""+mn(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?Gs(t,w,mn(i)):s!=null?Gs(t,w,mn(s)):l!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.name=""+mn(k):t.removeAttribute("name")}function Bo(t,i,s,l,d,p,w,k){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+mn(s):"",i=i!=null?""+mn(i):s,k||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=k?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Gs(t,i,s){i==="number"&&Qs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Qe(t,i,s,l){if(t=t.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=i.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+mn(s),i=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function zo(t,i,s){if(i!=null&&(i=""+mn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+mn(s):""}function Xi(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(o(92));if(K(l)){if(1<l.length)throw Error(o(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=mn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function zn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var jp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||jp.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function $c(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&s[d]!==l&&Dl(t,d,l)}else for(var p in i)i.hasOwnProperty(p)&&Dl(t,p,i[p])}function Pl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(t){return Up.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $n=null;function Ks(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gr=null,Kr=null;function Hr(t){var i=Wr(t);if(i&&(t=i.stateNode)){var s=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Hi(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var d=l[Lt]||null;if(!d)throw Error(o(90));Hi(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Al(l)}break e;case"textarea":zo(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Qe(t,!!s.multiple,i,!1)}}}var Nl=!1;function qc(t,i,s){if(Nl)return t(i,s);Nl=!0;try{var l=t(i);return l}finally{if(Nl=!1,(Gr!==null||Kr!==null)&&(Rh(),Gr&&(i=Gr,t=Kr,Kr=Gr=null,Hr(i),t)))for(i=0;i<t.length;i++)Hr(t[i])}}function $o(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Lt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var qn=!1;if(Nn)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){qn=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{qn=!1}var Cr=null,Yi=null,Xr=null;function Ml(){if(Xr)return Xr;var t,i=Yi,s=i.length,l,d="value"in Cr?Cr.value:Cr.textContent,p=d.length;for(t=0;t<s&&i[t]===d[t];t++);var w=s-t;for(l=1;l<=w&&i[s-l]===d[p-l];l++);return Xr=d.slice(t,1<l?1-l:void 0)}function Ir(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function _r(){return!0}function Ll(){return!1}function Bt(t){function i(s,l,d,p,w){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(s=t[k],this[k]=s?s(p):p[k]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_r:Ll,this.isPropagationStopped=Ll,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),i}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Bt(Ze),Wo=N({},Ze,{view:0,detail:0}),Wc=Bt(Wo),Xs,Ys,Ar,Qo=N({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Xs=t.screenX-Ar.screenX,Ys=t.screenY-Ar.screenY):Ys=Xs=0,Ar=t),Xs)},movementY:function(t){return"movementY"in t?t.movementY:Ys}}),Wn=Bt(Qo),Qc=N({},Qo,{dataTransfer:0}),Bp=Bt(Qc),Go=N({},Wo,{relatedTarget:0}),Js=Bt(Go),Rl=N({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Bt(Rl),Gc=N({},Ze,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ea=Bt(Gc),zp=N({},Ze,{data:0}),Vl=Bt(zp),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hc[t])?!!i[t]:!1}function Ho(){return Ol}var Xc=N({},Wo,{key:function(t){if(t.key){var i=Ko[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ta=Bt(Xc),Yc=N({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Bt(Yc),Yr=N({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),Jc=Bt(Yr),Zc=N({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=Bt(Zc),th=N({},Qo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),na=Bt(th),gn=N({},Ze,{newState:0,oldState:0}),nh=Bt(gn),rh=[9,13,27,32],Dr=Nn&&"CompositionEvent"in window,c=null;Nn&&"documentMode"in document&&(c=document.documentMode);var y=Nn&&"TextEvent"in window&&!c,b=Nn&&(!Dr||c&&8<c&&11>=c),x=" ",B=!1;function W(t,i){switch(t){case"keyup":return rh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function Rt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,x);case"textInput":return t=i.data,t===x&&B?null:t;default:return null}}function Xe(t,i){if(Ge)return t==="compositionend"||!Dr&&W(t,i)?(t=Ml(),Xr=Yi=Cr=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zt[t.type]:i==="textarea"}function Jr(t,i,s,l){Gr?Kr?Kr.push(l):Kr=[l]:Gr=l,i=Uh(i,"onChange"),0<i.length&&(s=new Hs("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Zt=null,Pr=null;function Fl(t){q1(t,0)}function ih(t){var i=Wi(t);if(Al(i))return t}function bE(t,i){if(t==="change")return i}var wE=!1;if(Nn){var $p;if(Nn){var qp="oninput"in document;if(!qp){var SE=document.createElement("div");SE.setAttribute("oninput","return;"),qp=typeof SE.oninput=="function"}$p=qp}else $p=!1;wE=$p&&(!document.documentMode||9<document.documentMode)}function EE(){Zt&&(Zt.detachEvent("onpropertychange",kE),Pr=Zt=null)}function kE(t){if(t.propertyName==="value"&&ih(Pr)){var i=[];Jr(i,Pr,t,Ks(t)),qc(Fl,i)}}function A4(t,i,s){t==="focusin"?(EE(),Zt=i,Pr=s,Zt.attachEvent("onpropertychange",kE)):t==="focusout"&&EE()}function D4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(Pr)}function P4(t,i){if(t==="click")return ih(i)}function N4(t,i){if(t==="input"||t==="change")return ih(i)}function M4(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Mn=typeof Object.is=="function"?Object.is:M4;function Ul(t,i){if(Mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!xn.call(i,d)||!Mn(t[d],i[d]))return!1}return!0}function xE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TE(t,i){var s=xE(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xE(s)}}function CE(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?CE(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function IE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Qs(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Qs(t.document)}return i}function Wp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function L4(t,i){var s=IE(i);i=t.focusedElem;var l=t.selectionRange;if(s!==i&&i&&i.ownerDocument&&CE(i.ownerDocument.documentElement,i)){if(l!==null&&Wp(i)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(s,i.value.length);else if(s=(t=i.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var d=i.textContent.length,p=Math.min(l.start,d);l=l.end===void 0?p:Math.min(l.end,d),!s.extend&&p>l&&(d=l,l=p,p=d),d=TE(i,p);var w=TE(i,l);d&&w&&(s.rangeCount!==1||s.anchorNode!==d.node||s.anchorOffset!==d.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),s.removeAllRanges(),p>l?(s.addRange(t),s.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),s.addRange(t)))}}for(t=[],s=i;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)s=t[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var R4=Nn&&"documentMode"in document&&11>=document.documentMode,ra=null,Qp=null,Bl=null,Gp=!1;function _E(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gp||ra==null||ra!==Qs(l)||(l=ra,"selectionStart"in l&&Wp(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&Ul(Bl,l)||(Bl=l,l=Uh(Qp,"onSelect"),0<l.length&&(i=new Hs("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ra)))}function Xo(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var ia={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionrun:Xo("Transition","TransitionRun"),transitionstart:Xo("Transition","TransitionStart"),transitioncancel:Xo("Transition","TransitionCancel"),transitionend:Xo("Transition","TransitionEnd")},Kp={},AE={};Nn&&(AE=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Yo(t){if(Kp[t])return Kp[t];if(!ia[t])return t;var i=ia[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in AE)return Kp[t]=i[s];return t}var DE=Yo("animationend"),PE=Yo("animationiteration"),NE=Yo("animationstart"),V4=Yo("transitionrun"),O4=Yo("transitionstart"),j4=Yo("transitioncancel"),ME=Yo("transitionend"),LE=new Map,RE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ar(t,i){LE.set(t,i),Pn(i,[t])}var Qn=[],oa=0,Hp=0;function oh(){for(var t=oa,i=Hp=oa=0;i<t;){var s=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var d=Qn[i];Qn[i++]=null;var p=Qn[i];if(Qn[i++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}p!==0&&VE(s,d,p)}}function sh(t,i,s,l){Qn[oa++]=t,Qn[oa++]=i,Qn[oa++]=s,Qn[oa++]=l,Hp|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xp(t,i,s,l){return sh(t,i,s,l),ah(t)}function Ji(t,i){return sh(t,null,null,i),ah(t)}function VE(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;d&&i!==null&&t.tag===3&&(p=t.stateNode,d=31-pn(s),p=p.hiddenUpdates,t=p[d],t===null?p[d]=[i]:t.push(i),i.lane=s|536870912)}function ah(t){if(50<du)throw du=0,ng=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var sa={},OE=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var s=OE.get(t);return s!==void 0?s:(i={value:t,source:i,stack:de(i)},OE.set(t,i),i)}return{value:t,source:i,stack:de(i)}}var aa=[],la=0,lh=null,uh=0,Kn=[],Hn=0,Jo=null,Zr=1,ei="";function Zo(t,i){aa[la++]=uh,aa[la++]=lh,lh=t,uh=i}function jE(t,i,s){Kn[Hn++]=Zr,Kn[Hn++]=ei,Kn[Hn++]=Jo,Jo=t;var l=Zr;t=ei;var d=32-pn(l)-1;l&=~(1<<d),s+=1;var p=32-pn(i)+d;if(30<p){var w=d-d%5;p=(l&(1<<w)-1).toString(32),l>>=w,d-=w,Zr=1<<32-pn(i)+d|s<<d|l,ei=p+t}else Zr=1<<p|s<<d|l,ei=t}function Yp(t){t.return!==null&&(Zo(t,1),jE(t,1,0))}function Jp(t){for(;t===lh;)lh=aa[--la],aa[la]=null,uh=aa[--la],aa[la]=null;for(;t===Jo;)Jo=Kn[--Hn],Kn[Hn]=null,ei=Kn[--Hn],Kn[Hn]=null,Zr=Kn[--Hn],Kn[Hn]=null}var yn=null,en=null,Ke=!1,lr=null,Nr=!1,Zp=Error(o(519));function es(t){var i=Error(o(418,""));throw ql(Gn(i,t)),Zp}function FE(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Ut]=t,i[Lt]=l,s){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(s=0;s<pu.length;s++)Ue(pu[s],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Bo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Uo(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Xi(i,l.value,l.defaultValue,l.children),Uo(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||K1(i.textContent,s)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=Bh),i=!0):i=!1,i||es(t)}function UE(t){for(yn=t.return;yn;)switch(yn.tag){case 3:case 27:Nr=!0;return;case 5:case 13:Nr=!1;return;default:yn=yn.return}}function zl(t){if(t!==yn)return!1;if(!Ke)return UE(t),Ke=!0,!1;var i=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||bg(t.type,t.memoizedProps)),s=!s),s&&(i=!0),i&&en&&es(t),UE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){en=cr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}en=null}}else en=yn?cr(t.stateNode.nextSibling):null;return!0}function $l(){en=yn=null,Ke=!1}function ql(t){lr===null?lr=[t]:lr.push(t)}var Wl=Error(o(460)),BE=Error(o(474)),em={then:function(){}};function zE(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ch(){}function $E(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ch,ch),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Wl?Error(o(483)):t;default:if(typeof i.status=="string")i.then(ch,ch);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Wl?Error(o(483)):t}throw Ql=i,Wl}}var Ql=null;function qE(){if(Ql===null)throw Error(o(459));var t=Ql;return Ql=null,t}var ua=null,Gl=0;function hh(t){var i=Gl;return Gl+=1,ua===null&&(ua=[]),$E(ua,t,i)}function Kl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dh(t,i){throw i.$$typeof===u?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function WE(t){var i=t._init;return i(t._payload)}function QE(t){function i(U,R){if(t){var $=U.deletions;$===null?(U.deletions=[R],U.flags|=16):$.push(R)}}function s(U,R){if(!t)return null;for(;R!==null;)i(U,R),R=R.sibling;return null}function l(U){for(var R=new Map;U!==null;)U.key!==null?R.set(U.key,U):R.set(U.index,U),U=U.sibling;return R}function d(U,R){return U=co(U,R),U.index=0,U.sibling=null,U}function p(U,R,$){return U.index=$,t?($=U.alternate,$!==null?($=$.index,$<R?(U.flags|=33554434,R):$):(U.flags|=33554434,R)):(U.flags|=1048576,R)}function w(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function k(U,R,$,H){return R===null||R.tag!==6?(R=Km($,U.mode,H),R.return=U,R):(R=d(R,$),R.return=U,R)}function D(U,R,$,H){var pe=$.type;return pe===m?G(U,R,$.props.children,H,$.key):R!==null&&(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===te&&WE(pe)===R.type)?(R=d(R,$.props),Kl(R,$),R.return=U,R):(R=Dh($.type,$.key,$.props,null,U.mode,H),Kl(R,$),R.return=U,R)}function O(U,R,$,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==$.containerInfo||R.stateNode.implementation!==$.implementation?(R=Hm($,U.mode,H),R.return=U,R):(R=d(R,$.children||[]),R.return=U,R)}function G(U,R,$,H,pe){return R===null||R.tag!==7?(R=cs($,U.mode,H,pe),R.return=U,R):(R=d(R,$),R.return=U,R)}function ee(U,R,$){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Km(""+R,U.mode,$),R.return=U,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case h:return $=Dh(R.type,R.key,R.props,null,U.mode,$),Kl($,R),$.return=U,$;case f:return R=Hm(R,U.mode,$),R.return=U,R;case te:var H=R._init;return R=H(R._payload),ee(U,R,$)}if(K(R)||ye(R))return R=cs(R,U.mode,$,null),R.return=U,R;if(typeof R.then=="function")return ee(U,hh(R),$);if(R.$$typeof===A)return ee(U,Ih(U,R),$);dh(U,R)}return null}function q(U,R,$,H){var pe=R!==null?R.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:k(U,R,""+$,H);if(typeof $=="object"&&$!==null){switch($.$$typeof){case h:return $.key===pe?D(U,R,$,H):null;case f:return $.key===pe?O(U,R,$,H):null;case te:return pe=$._init,$=pe($._payload),q(U,R,$,H)}if(K($)||ye($))return pe!==null?null:G(U,R,$,H,null);if(typeof $.then=="function")return q(U,R,hh($),H);if($.$$typeof===A)return q(U,R,Ih(U,$),H);dh(U,$)}return null}function Q(U,R,$,H,pe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return U=U.get($)||null,k(R,U,""+H,pe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return U=U.get(H.key===null?$:H.key)||null,D(R,U,H,pe);case f:return U=U.get(H.key===null?$:H.key)||null,O(R,U,H,pe);case te:var Oe=H._init;return H=Oe(H._payload),Q(U,R,$,H,pe)}if(K(H)||ye(H))return U=U.get($)||null,G(R,U,H,pe,null);if(typeof H.then=="function")return Q(U,R,$,hh(H),pe);if(H.$$typeof===A)return Q(U,R,$,Ih(R,H),pe);dh(R,H)}return null}function be(U,R,$,H){for(var pe=null,Oe=null,we=R,Te=R=0,Wt=null;we!==null&&Te<$.length;Te++){we.index>Te?(Wt=we,we=null):Wt=we.sibling;var He=q(U,we,$[Te],H);if(He===null){we===null&&(we=Wt);break}t&&we&&He.alternate===null&&i(U,we),R=p(He,R,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He,we=Wt}if(Te===$.length)return s(U,we),Ke&&Zo(U,Te),pe;if(we===null){for(;Te<$.length;Te++)we=ee(U,$[Te],H),we!==null&&(R=p(we,R,Te),Oe===null?pe=we:Oe.sibling=we,Oe=we);return Ke&&Zo(U,Te),pe}for(we=l(we);Te<$.length;Te++)Wt=Q(we,U,Te,$[Te],H),Wt!==null&&(t&&Wt.alternate!==null&&we.delete(Wt.key===null?Te:Wt.key),R=p(Wt,R,Te),Oe===null?pe=Wt:Oe.sibling=Wt,Oe=Wt);return t&&we.forEach(function(vo){return i(U,vo)}),Ke&&Zo(U,Te),pe}function Ne(U,R,$,H){if($==null)throw Error(o(151));for(var pe=null,Oe=null,we=R,Te=R=0,Wt=null,He=$.next();we!==null&&!He.done;Te++,He=$.next()){we.index>Te?(Wt=we,we=null):Wt=we.sibling;var vo=q(U,we,He.value,H);if(vo===null){we===null&&(we=Wt);break}t&&we&&vo.alternate===null&&i(U,we),R=p(vo,R,Te),Oe===null?pe=vo:Oe.sibling=vo,Oe=vo,we=Wt}if(He.done)return s(U,we),Ke&&Zo(U,Te),pe;if(we===null){for(;!He.done;Te++,He=$.next())He=ee(U,He.value,H),He!==null&&(R=p(He,R,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He);return Ke&&Zo(U,Te),pe}for(we=l(we);!He.done;Te++,He=$.next())He=Q(we,U,Te,He.value,H),He!==null&&(t&&He.alternate!==null&&we.delete(He.key===null?Te:He.key),R=p(He,R,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He);return t&&we.forEach(function(JL){return i(U,JL)}),Ke&&Zo(U,Te),pe}function vt(U,R,$,H){if(typeof $=="object"&&$!==null&&$.type===m&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case h:e:{for(var pe=$.key;R!==null;){if(R.key===pe){if(pe=$.type,pe===m){if(R.tag===7){s(U,R.sibling),H=d(R,$.props.children),H.return=U,U=H;break e}}else if(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===te&&WE(pe)===R.type){s(U,R.sibling),H=d(R,$.props),Kl(H,$),H.return=U,U=H;break e}s(U,R);break}else i(U,R);R=R.sibling}$.type===m?(H=cs($.props.children,U.mode,H,$.key),H.return=U,U=H):(H=Dh($.type,$.key,$.props,null,U.mode,H),Kl(H,$),H.return=U,U=H)}return w(U);case f:e:{for(pe=$.key;R!==null;){if(R.key===pe)if(R.tag===4&&R.stateNode.containerInfo===$.containerInfo&&R.stateNode.implementation===$.implementation){s(U,R.sibling),H=d(R,$.children||[]),H.return=U,U=H;break e}else{s(U,R);break}else i(U,R);R=R.sibling}H=Hm($,U.mode,H),H.return=U,U=H}return w(U);case te:return pe=$._init,$=pe($._payload),vt(U,R,$,H)}if(K($))return be(U,R,$,H);if(ye($)){if(pe=ye($),typeof pe!="function")throw Error(o(150));return $=pe.call($),Ne(U,R,$,H)}if(typeof $.then=="function")return vt(U,R,hh($),H);if($.$$typeof===A)return vt(U,R,Ih(U,$),H);dh(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,R!==null&&R.tag===6?(s(U,R.sibling),H=d(R,$),H.return=U,U=H):(s(U,R),H=Km($,U.mode,H),H.return=U,U=H),w(U)):s(U,R)}return function(U,R,$,H){try{Gl=0;var pe=vt(U,R,$,H);return ua=null,pe}catch(we){if(we===Wl)throw we;var Oe=Zn(29,we,null,U.mode);return Oe.lanes=H,Oe.return=U,Oe}finally{}}}var ts=QE(!0),GE=QE(!1),ca=he(null),fh=he(0);function KE(t,i){t=di,Ce(fh,t),Ce(ca,i),di=t|i.baseLanes}function tm(){Ce(fh,di),Ce(ca,ca.current)}function nm(){di=fh.current,Ee(ca),Ee(fh)}var Xn=he(null),ti=null;function Zi(t){var i=t.alternate;Ce(Vt,Vt.current&1),Ce(Xn,t),ti===null&&(i===null||ca.current!==null||i.memoizedState!==null)&&(ti=t)}function HE(t){if(t.tag===22){if(Ce(Vt,Vt.current),Ce(Xn,t),ti===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ti=t)}}else eo()}function eo(){Ce(Vt,Vt.current),Ce(Xn,Xn.current)}function ni(t){Ee(Xn),ti===t&&(ti=null),Ee(Vt)}var Vt=he(0);function ph(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var F4=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},U4=n.unstable_scheduleCallback,B4=n.unstable_NormalPriority,Ot={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new F4,data:new Map,refCount:0}}function Hl(t){t.refCount--,t.refCount===0&&U4(B4,function(){t.controller.abort()})}var Xl=null,im=0,ha=0,da=null;function z4(t,i){if(Xl===null){var s=Xl=[];im=0,ha=cg(),da={status:"pending",value:void 0,then:function(l){s.push(l)}}}return im++,i.then(XE,XE),i}function XE(){if(--im===0&&Xl!==null){da!==null&&(da.status="fulfilled");var t=Xl;Xl=null,ha=0,da=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $4(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var YE=I.S;I.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&z4(t,i),YE!==null&&YE(t,i)};var ns=he(null);function om(){var t=ns.current;return t!==null?t:ot.pooledCache}function mh(t,i){i===null?Ce(ns,ns.current):Ce(ns,i.pool)}function JE(){var t=om();return t===null?null:{parent:Ot._currentValue,pool:t}}var to=0,Ve=null,tt=null,_t=null,gh=!1,fa=!1,rs=!1,yh=0,Yl=0,pa=null,q4=0;function Tt(){throw Error(o(321))}function sm(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Mn(t[s],i[s]))return!1;return!0}function am(t,i,s,l,d,p){return to=p,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=t===null||t.memoizedState===null?is:no,rs=!1,p=s(l,d),rs=!1,fa&&(p=ek(i,s,l,d)),ZE(t),p}function ZE(t){I.H=Mr;var i=tt!==null&&tt.next!==null;if(to=0,_t=tt=Ve=null,gh=!1,Yl=0,pa=null,i)throw Error(o(300));t===null||$t||(t=t.dependencies,t!==null&&Ch(t)&&($t=!0))}function ek(t,i,s,l){Ve=t;var d=0;do{if(fa&&(pa=null),Yl=0,fa=!1,25<=d)throw Error(o(301));if(d+=1,_t=tt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}I.H=os,p=i(s,l)}while(fa);return p}function W4(){var t=I.H,i=t.useState()[0];return i=typeof i.then=="function"?Jl(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ve.flags|=1024),i}function lm(){var t=yh!==0;return yh=0,t}function um(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function cm(t){if(gh){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gh=!1}to=0,_t=tt=Ve=null,fa=!1,Yl=yh=0,pa=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ve.memoizedState=_t=t:_t=_t.next=t,_t}function At(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=_t===null?Ve.memoizedState:_t.next;if(i!==null)_t=i,tt=t;else{if(t===null)throw Ve.alternate===null?Error(o(467)):Error(o(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},_t===null?Ve.memoizedState=_t=t:_t=_t.next=t}return _t}var vh;vh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Jl(t){var i=Yl;return Yl+=1,pa===null&&(pa=[]),t=$E(pa,t,i),i=Ve,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?is:no),t}function bh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jl(t);if(t.$$typeof===A)return dn(t)}throw Error(o(438,String(t)))}function hm(t){var i=null,s=Ve.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=vh(),Ve.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=ge;return i.index++,s}function ri(t,i){return typeof i=="function"?i(t):i}function wh(t){var i=At();return dm(i,tt,t)}function dm(t,i,s){var l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=s;var d=t.baseQueue,p=l.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}i.baseQueue=d=p,l.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{i=d.next;var k=w=null,D=null,O=i,G=!1;do{var ee=O.lane&-536870913;if(ee!==O.lane?(qe&ee)===ee:(to&ee)===ee){var q=O.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),ee===ha&&(G=!0);else if((to&q)===q){O=O.next,q===ha&&(G=!0);continue}else ee={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},D===null?(k=D=ee,w=p):D=D.next=ee,Ve.lanes|=q,ho|=q;ee=O.action,rs&&s(p,ee),p=O.hasEagerState?O.eagerState:s(p,ee)}else q={lane:ee,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},D===null?(k=D=q,w=p):D=D.next=q,Ve.lanes|=ee,ho|=ee;O=O.next}while(O!==null&&O!==i);if(D===null?w=p:D.next=k,!Mn(p,t.memoizedState)&&($t=!0,G&&(s=da,s!==null)))throw s;t.memoizedState=p,t.baseState=w,t.baseQueue=D,l.lastRenderedState=p}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fm(t){var i=At(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,p=i.memoizedState;if(d!==null){s.pending=null;var w=d=d.next;do p=t(p,w.action),w=w.next;while(w!==d);Mn(p,i.memoizedState)||($t=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,l]}function tk(t,i,s){var l=Ve,d=At(),p=Ke;if(p){if(s===void 0)throw Error(o(407));s=s()}else s=i();var w=!Mn((tt||d).memoizedState,s);if(w&&(d.memoizedState=s,$t=!0),d=d.queue,gm(ik.bind(null,l,d,t),[t]),d.getSnapshot!==i||w||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,ma(9,rk.bind(null,l,d,s,i),{destroy:void 0},null),ot===null)throw Error(o(349));p||(to&60)!==0||nk(l,i,s)}return s}function nk(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ve.updateQueue,i===null?(i=vh(),Ve.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function rk(t,i,s,l){i.value=s,i.getSnapshot=l,ok(i)&&sk(t)}function ik(t,i,s){return s(function(){ok(i)&&sk(t)})}function ok(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Mn(t,s)}catch{return!0}}function sk(t){var i=Ji(t,2);i!==null&&vn(i,t,2)}function pm(t){var i=Cn();if(typeof t=="function"){var s=t;if(t=s(),rs){Sr(!0);try{s()}finally{Sr(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:t},i}function ak(t,i,s,l){return t.baseState=s,dm(t,tt,typeof l=="function"?l:ri)}function Q4(t,i,s,l,d){if(kh(t))throw Error(o(485));if(t=i.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};I.T!==null?s(!0):p.isTransition=!1,l(p),s=i.pending,s===null?(p.next=i.pending=p,lk(i,p)):(p.next=s.next,i.pending=s.next=p)}}function lk(t,i){var s=i.action,l=i.payload,d=t.state;if(i.isTransition){var p=I.T,w={};I.T=w;try{var k=s(d,l),D=I.S;D!==null&&D(w,k),uk(t,i,k)}catch(O){mm(t,i,O)}finally{I.T=p}}else try{p=s(d,l),uk(t,i,p)}catch(O){mm(t,i,O)}}function uk(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ck(t,i,l)},function(l){return mm(t,i,l)}):ck(t,i,s)}function ck(t,i,s){i.status="fulfilled",i.value=s,hk(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,lk(t,s)))}function mm(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,hk(i),i=i.next;while(i!==l)}t.action=null}function hk(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dk(t,i){return i}function fk(t,i){if(Ke){var s=ot.formState;if(s!==null){e:{var l=Ve;if(Ke){if(en){t:{for(var d=en,p=Nr;d.nodeType!==8;){if(!p){d=null;break t}if(d=cr(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){en=cr(d.nextSibling),l=d.data==="F!";break e}}es(l)}l=!1}l&&(i=s[0])}}return s=Cn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dk,lastRenderedState:i},s.queue=l,s=Pk.bind(null,Ve,l),l.dispatch=s,l=pm(!1),p=Sm.bind(null,Ve,!1,l.queue),l=Cn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,s=Q4.bind(null,Ve,d,p,s),d.dispatch=s,l.memoizedState=t,[i,s,!1]}function pk(t){var i=At();return mk(i,tt,t)}function mk(t,i,s){i=dm(t,i,dk)[0],t=wh(ri)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Jl(i):i;var l=At(),d=l.queue,p=d.dispatch;return s!==l.memoizedState&&(Ve.flags|=2048,ma(9,G4.bind(null,d,s),{destroy:void 0},null)),[i,p,t]}function G4(t,i){t.action=i}function gk(t){var i=At(),s=tt;if(s!==null)return mk(i,s,t);At(),i=i.memoizedState,s=At();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function ma(t,i,s,l){return t={tag:t,create:i,inst:s,deps:l,next:null},i=Ve.updateQueue,i===null&&(i=vh(),Ve.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function yk(){return At().memoizedState}function Sh(t,i,s,l){var d=Cn();Ve.flags|=t,d.memoizedState=ma(1|i,s,{destroy:void 0},l===void 0?null:l)}function Eh(t,i,s,l){var d=At();l=l===void 0?null:l;var p=d.memoizedState.inst;tt!==null&&l!==null&&sm(l,tt.memoizedState.deps)?d.memoizedState=ma(i,s,p,l):(Ve.flags|=t,d.memoizedState=ma(1|i,s,p,l))}function vk(t,i){Sh(8390656,8,t,i)}function gm(t,i){Eh(2048,8,t,i)}function bk(t,i){return Eh(4,2,t,i)}function wk(t,i){return Eh(4,4,t,i)}function Sk(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ek(t,i,s){s=s!=null?s.concat([t]):null,Eh(4,4,Sk.bind(null,i,t),s)}function ym(){}function kk(t,i){var s=At();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&sm(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function xk(t,i){var s=At();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&sm(i,l[1]))return l[0];if(l=t(),rs){Sr(!0);try{t()}finally{Sr(!1)}}return s.memoizedState=[l,i],l}function vm(t,i,s){return s===void 0||(to&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=C1(),Ve.lanes|=t,ho|=t,s)}function Tk(t,i,s,l){return Mn(s,i)?s:ca.current!==null?(t=vm(t,s,l),Mn(t,i)||($t=!0),t):(to&42)===0?($t=!0,t.memoizedState=s):(t=C1(),Ve.lanes|=t,ho|=t,i)}function Ck(t,i,s,l,d){var p=J.p;J.p=p!==0&&8>p?p:8;var w=I.T,k={};I.T=k,Sm(t,!1,i,s);try{var D=d(),O=I.S;if(O!==null&&O(k,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=$4(D,l);Zl(t,i,G,On(t))}else Zl(t,i,l,On(t))}catch(ee){Zl(t,i,{then:function(){},status:"rejected",reason:ee},On())}finally{J.p=p,I.T=w}}function K4(){}function bm(t,i,s,l){if(t.tag!==5)throw Error(o(476));var d=Ik(t).queue;Ck(t,d,i,ue,s===null?K4:function(){return _k(t),s(l)})}function Ik(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _k(t){var i=Ik(t).next.queue;Zl(t,i,{},On())}function wm(){return dn(bu)}function Ak(){return At().memoizedState}function Dk(){return At().memoizedState}function H4(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=On();t=oo(s);var l=so(i,t,s);l!==null&&(vn(l,i,s),nu(l,i,s)),i={cache:rm()},t.payload=i;return}i=i.return}}function X4(t,i,s){var l=On();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},kh(t)?Nk(i,s):(s=Xp(t,i,s,l),s!==null&&(vn(s,t,l),Mk(s,i,l)))}function Pk(t,i,s){var l=On();Zl(t,i,s,l)}function Zl(t,i,s,l){var d={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(kh(t))Nk(i,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,k=p(w,s);if(d.hasEagerState=!0,d.eagerState=k,Mn(k,w))return sh(t,i,d,0),ot===null&&oh(),!1}catch{}finally{}if(s=Xp(t,i,d,l),s!==null)return vn(s,t,l),Mk(s,i,l),!0}return!1}function Sm(t,i,s,l){if(l={lane:2,revertLane:cg(),action:l,hasEagerState:!1,eagerState:null,next:null},kh(t)){if(i)throw Error(o(479))}else i=Xp(t,s,l,2),i!==null&&vn(i,t,2)}function kh(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function Nk(t,i){fa=gh=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Mk(t,i,s){if((s&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,zi(t,s)}}var Mr={readContext:dn,use:bh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};Mr.useCacheRefresh=Tt,Mr.useMemoCache=Tt,Mr.useHostTransitionStatus=Tt,Mr.useFormState=Tt,Mr.useActionState=Tt,Mr.useOptimistic=Tt;var is={readContext:dn,use:bh,useCallback:function(t,i){return Cn().memoizedState=[t,i===void 0?null:i],t},useContext:dn,useEffect:vk,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Sh(4194308,4,Sk.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Sh(4194308,4,t,i)},useInsertionEffect:function(t,i){Sh(4,2,t,i)},useMemo:function(t,i){var s=Cn();i=i===void 0?null:i;var l=t();if(rs){Sr(!0);try{t()}finally{Sr(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Cn();if(s!==void 0){var d=s(i);if(rs){Sr(!0);try{s(i)}finally{Sr(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=X4.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=Cn();return t={current:t},i.memoizedState=t},useState:function(t){t=pm(t);var i=t.queue,s=Pk.bind(null,Ve,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ym,useDeferredValue:function(t,i){var s=Cn();return vm(s,t,i)},useTransition:function(){var t=pm(!1);return t=Ck.bind(null,Ve,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ve,d=Cn();if(Ke){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),ot===null)throw Error(o(349));(qe&60)!==0||nk(l,i,s)}d.memoizedState=s;var p={value:s,getSnapshot:i};return d.queue=p,vk(ik.bind(null,l,p,t),[t]),l.flags|=2048,ma(9,rk.bind(null,l,p,s,i),{destroy:void 0},null),s},useId:function(){var t=Cn(),i=ot.identifierPrefix;if(Ke){var s=ei,l=Zr;s=(l&~(1<<32-pn(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=yh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=q4++,i=":"+i+"r"+s.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return Cn().memoizedState=H4.bind(null,Ve)}};is.useMemoCache=hm,is.useHostTransitionStatus=wm,is.useFormState=fk,is.useActionState=fk,is.useOptimistic=function(t){var i=Cn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Sm.bind(null,Ve,!0,s),s.dispatch=i,[t,i]};var no={readContext:dn,use:bh,useCallback:kk,useContext:dn,useEffect:gm,useImperativeHandle:Ek,useInsertionEffect:bk,useLayoutEffect:wk,useMemo:xk,useReducer:wh,useRef:yk,useState:function(){return wh(ri)},useDebugValue:ym,useDeferredValue:function(t,i){var s=At();return Tk(s,tt.memoizedState,t,i)},useTransition:function(){var t=wh(ri)[0],i=At().memoizedState;return[typeof t=="boolean"?t:Jl(t),i]},useSyncExternalStore:tk,useId:Ak};no.useCacheRefresh=Dk,no.useMemoCache=hm,no.useHostTransitionStatus=wm,no.useFormState=pk,no.useActionState=pk,no.useOptimistic=function(t,i){var s=At();return ak(s,tt,t,i)};var os={readContext:dn,use:bh,useCallback:kk,useContext:dn,useEffect:gm,useImperativeHandle:Ek,useInsertionEffect:bk,useLayoutEffect:wk,useMemo:xk,useReducer:fm,useRef:yk,useState:function(){return fm(ri)},useDebugValue:ym,useDeferredValue:function(t,i){var s=At();return tt===null?vm(s,t,i):Tk(s,tt.memoizedState,t,i)},useTransition:function(){var t=fm(ri)[0],i=At().memoizedState;return[typeof t=="boolean"?t:Jl(t),i]},useSyncExternalStore:tk,useId:Ak};os.useCacheRefresh=Dk,os.useMemoCache=hm,os.useHostTransitionStatus=wm,os.useFormState=gk,os.useActionState=gk,os.useOptimistic=function(t,i){var s=At();return tt!==null?ak(s,tt,t,i):(s.baseState=t,[t,s.queue.dispatch])};function Em(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:N({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var km={isMounted:function(t){return(t=t._reactInternals)?ve(t)===t:!1},enqueueSetState:function(t,i,s){t=t._reactInternals;var l=On(),d=oo(l);d.payload=i,s!=null&&(d.callback=s),i=so(t,d,l),i!==null&&(vn(i,t,l),nu(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=On(),d=oo(l);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=so(t,d,l),i!==null&&(vn(i,t,l),nu(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=On(),l=oo(s);l.tag=2,i!=null&&(l.callback=i),i=so(t,l,s),i!==null&&(vn(i,t,s),nu(i,t,s))}};function Lk(t,i,s,l,d,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,w):i.prototype&&i.prototype.isPureReactComponent?!Ul(s,l)||!Ul(d,p):!0}function Rk(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&km.enqueueReplaceState(i,i.state,null)}function ss(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=N({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var xh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vk(t){xh(t)}function Ok(t){console.error(t)}function jk(t){xh(t)}function Th(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fk(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xm(t,i,s){return s=oo(s),s.tag=3,s.payload={element:null},s.callback=function(){Th(t,i)},s}function Uk(t){return t=oo(t),t.tag=3,t}function Bk(t,i,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;t.payload=function(){return d(p)},t.callback=function(){Fk(i,s,l)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Fk(i,s,l),typeof d!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})})}function Y4(t,i,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&tu(i,s,d,!0),s=Xn.current,s!==null){switch(s.tag){case 13:return ti===null?og():s.alternate===null&&yt===0&&(yt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===em?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),ag(t,l,d)),!1;case 22:return s.flags|=65536,l===em?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),ag(t,l,d)),!1}throw Error(o(435,s.tag))}return ag(t,l,d),og(),!1}if(Ke)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Zp&&(t=Error(o(422),{cause:l}),ql(Gn(t,s)))):(l!==Zp&&(i=Error(o(423),{cause:l}),ql(Gn(i,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Gn(l,s),d=xm(t.stateNode,l,d),Fm(t,d),yt!==4&&(yt=2)),!1;var p=Error(o(520),{cause:l});if(p=Gn(p,s),cu===null?cu=[p]:cu.push(p),yt!==4&&(yt=2),i===null)return!0;l=Gn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=xm(s.stateNode,l,t),Fm(s,t),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fo===null||!fo.has(p))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Uk(d),Bk(d,t,s,l),Fm(s,d),!1}s=s.return}while(s!==null);return!1}var zk=Error(o(461)),$t=!1;function tn(t,i,s,l){i.child=t===null?GE(i,null,s,l):ts(i,t.child,s,l)}function $k(t,i,s,l,d){s=s.render;var p=i.ref;if("ref"in l){var w={};for(var k in l)k!=="ref"&&(w[k]=l[k])}else w=l;return ls(i),l=am(t,i,s,w,p,d),k=lm(),t!==null&&!$t?(um(t,i,d),ii(t,i,d)):(Ke&&k&&Yp(i),i.flags|=1,tn(t,i,l,d),i.child)}function qk(t,i,s,l,d){if(t===null){var p=s.type;return typeof p=="function"&&!Gm(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,Wk(t,i,p,l,d)):(t=Dh(s.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Mm(t,d)){var w=p.memoizedProps;if(s=s.compare,s=s!==null?s:Ul,s(w,l)&&t.ref===i.ref)return ii(t,i,d)}return i.flags|=1,t=co(p,l),t.ref=i.ref,t.return=i,i.child=t}function Wk(t,i,s,l,d){if(t!==null){var p=t.memoizedProps;if(Ul(p,l)&&t.ref===i.ref)if($t=!1,i.pendingProps=l=p,Mm(t,d))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,ii(t,i,d)}return Tm(t,i,s,l,d)}function Qk(t,i,s){var l=i.pendingProps,d=l.children,p=(i.stateNode._pendingVisibility&2)!==0,w=t!==null?t.memoizedState:null;if(eu(t,i),l.mode==="hidden"||p){if((i.flags&128)!==0){if(l=w!==null?w.baseLanes|s:s,t!==null){for(d=i.child=t.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return Gk(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&mh(i,w!==null?w.cachePool:null),w!==null?KE(i,w):tm(),HE(i);else return i.lanes=i.childLanes=536870912,Gk(t,i,w!==null?w.baseLanes|s:s,s)}else w!==null?(mh(i,w.cachePool),KE(i,w),eo(),i.memoizedState=null):(t!==null&&mh(i,null),tm(),eo());return tn(t,i,d,s),i.child}function Gk(t,i,s,l){var d=om();return d=d===null?null:{parent:Ot._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&mh(i,null),tm(),HE(i),t!==null&&tu(t,i,l,!0),null}function eu(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=2097664)}}function Tm(t,i,s,l,d){return ls(i),s=am(t,i,s,l,void 0,d),l=lm(),t!==null&&!$t?(um(t,i,d),ii(t,i,d)):(Ke&&l&&Yp(i),i.flags|=1,tn(t,i,s,d),i.child)}function Kk(t,i,s,l,d,p){return ls(i),i.updateQueue=null,s=ek(i,l,s,d),ZE(t),l=lm(),t!==null&&!$t?(um(t,i,p),ii(t,i,p)):(Ke&&l&&Yp(i),i.flags|=1,tn(t,i,s,p),i.child)}function Hk(t,i,s,l,d){if(ls(i),i.stateNode===null){var p=sa,w=s.contextType;typeof w=="object"&&w!==null&&(p=dn(w)),p=new s(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=km,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Om(i),w=s.contextType,p.context=typeof w=="object"&&w!==null?dn(w):sa,p.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Em(i,s,w,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&km.enqueueReplaceState(p,p.state,null),iu(i,l,p,d),ru(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){p=i.stateNode;var k=i.memoizedProps,D=ss(s,k);p.props=D;var O=p.context,G=s.contextType;w=sa,typeof G=="object"&&G!==null&&(w=dn(G));var ee=s.getDerivedStateFromProps;G=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(k||O!==w)&&Rk(i,p,l,w),io=!1;var q=i.memoizedState;p.state=q,iu(i,l,p,d),ru(),O=i.memoizedState,k||q!==O||io?(typeof ee=="function"&&(Em(i,s,ee,l),O=i.memoizedState),(D=io||Lk(i,s,D,l,q,O,w))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=O),p.props=l,p.state=O,p.context=w,l=D):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,jm(t,i),w=i.memoizedProps,G=ss(s,w),p.props=G,ee=i.pendingProps,q=p.context,O=s.contextType,D=sa,typeof O=="object"&&O!==null&&(D=dn(O)),k=s.getDerivedStateFromProps,(O=typeof k=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||q!==D)&&Rk(i,p,l,D),io=!1,q=i.memoizedState,p.state=q,iu(i,l,p,d),ru();var Q=i.memoizedState;w!==ee||q!==Q||io||t!==null&&t.dependencies!==null&&Ch(t.dependencies)?(typeof k=="function"&&(Em(i,s,k,l),Q=i.memoizedState),(G=io||Lk(i,s,G,l,q,Q,D)||t!==null&&t.dependencies!==null&&Ch(t.dependencies))?(O||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Q,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Q,D)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),p.props=l,p.state=Q,p.context=D,l=G):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return p=l,eu(t,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&l?(i.child=ts(i,t.child,null,d),i.child=ts(i,null,s,d)):tn(t,i,s,d),i.memoizedState=p.state,t=i.child):t=ii(t,i,d),t}function Xk(t,i,s,l){return $l(),i.flags|=256,tn(t,i,s,l),i.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function Im(t){return{baseLanes:t,cachePool:JE()}}function _m(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=er),t}function Yk(t,i,s){var l=i.pendingProps,d=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(d?Zi(i):eo(),Ke){var k=en,D;if(D=k){e:{for(D=k,k=Nr;D.nodeType!==8;){if(!k){k=null;break e}if(D=cr(D.nextSibling),D===null){k=null;break e}}k=D}k!==null?(i.memoizedState={dehydrated:k,treeContext:Jo!==null?{id:Zr,overflow:ei}:null,retryLane:536870912},D=Zn(18,null,null,0),D.stateNode=k,D.return=i,i.child=D,yn=i,en=null,D=!0):D=!1}D||es(i)}if(k=i.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?i.lanes=16:i.lanes=536870912,null;ni(i)}return k=l.children,l=l.fallback,d?(eo(),d=i.mode,k=Dm({mode:"hidden",children:k},d),l=cs(l,d,s,null),k.return=i,l.return=i,k.sibling=l,i.child=k,d=i.child,d.memoizedState=Im(s),d.childLanes=_m(t,w,s),i.memoizedState=Cm,l):(Zi(i),Am(i,k))}if(D=t.memoizedState,D!==null&&(k=D.dehydrated,k!==null)){if(p)i.flags&256?(Zi(i),i.flags&=-257,i=Pm(t,i,s)):i.memoizedState!==null?(eo(),i.child=t.child,i.flags|=128,i=null):(eo(),d=l.fallback,k=i.mode,l=Dm({mode:"visible",children:l.children},k),d=cs(d,k,s,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,ts(i,t.child,null,s),l=i.child,l.memoizedState=Im(s),l.childLanes=_m(t,w,s),i.memoizedState=Cm,i=d);else if(Zi(i),k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var O=w.dgst;w=O,l=Error(o(419)),l.stack="",l.digest=w,ql({value:l,source:null,stack:null}),i=Pm(t,i,s)}else if($t||tu(t,i,s,!1),w=(s&t.childLanes)!==0,$t||w){if(w=ot,w!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(w.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Ji(t,l),vn(w,t,l),zk}k.data==="$?"||og(),i=Pm(t,i,s)}else k.data==="$?"?(i.flags|=128,i.child=t.child,i=dL.bind(null,t),k._reactRetry=i,i=null):(t=D.treeContext,en=cr(k.nextSibling),yn=i,Ke=!0,lr=null,Nr=!1,t!==null&&(Kn[Hn++]=Zr,Kn[Hn++]=ei,Kn[Hn++]=Jo,Zr=t.id,ei=t.overflow,Jo=i),i=Am(i,l.children),i.flags|=4096);return i}return d?(eo(),d=l.fallback,k=i.mode,D=t.child,O=D.sibling,l=co(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,O!==null?d=co(O,d):(d=cs(d,k,s,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,k=t.child.memoizedState,k===null?k=Im(s):(D=k.cachePool,D!==null?(O=Ot._currentValue,D=D.parent!==O?{parent:O,pool:O}:D):D=JE(),k={baseLanes:k.baseLanes|s,cachePool:D}),d.memoizedState=k,d.childLanes=_m(t,w,s),i.memoizedState=Cm,l):(Zi(i),s=t.child,t=s.sibling,s=co(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=s,i.memoizedState=null,s)}function Am(t,i){return i=Dm({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dm(t,i){return k1(t,i,0,null)}function Pm(t,i,s){return ts(i,t.child,null,s),t=Am(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jk(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rm(t.return,i,s)}function Nm(t,i,s,l,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=d)}function Zk(t,i,s){var l=i.pendingProps,d=l.revealOrder,p=l.tail;if(tn(t,i,l.children,s),l=Vt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jk(t,s,i);else if(t.tag===19)Jk(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ce(Vt,l),d){case"forwards":for(s=i.child,d=null;s!==null;)t=s.alternate,t!==null&&ph(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),Nm(i,!1,d,s,p);break;case"backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&ph(t)===null){i.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Nm(i,!0,s,null,p);break;case"together":Nm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ii(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ho|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(tu(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=co(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=co(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Mm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ch(t)))}function J4(t,i,s){switch(i.tag){case 3:ct(i,i.stateNode.containerInfo),ro(i,Ot,t.memoizedState.cache),$l();break;case 27:case 5:Xt(i);break;case 4:ct(i,i.stateNode.containerInfo);break;case 10:ro(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Yk(t,i,s):(Zi(i),t=ii(t,i,s),t!==null?t.sibling:null);Zi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(tu(t,i,s,!1),l=(s&i.childLanes)!==0),d){if(l)return Zk(t,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ce(Vt,Vt.current),l)break;return null;case 22:case 23:return i.lanes=0,Qk(t,i,s);case 24:ro(i,Ot,t.memoizedState.cache)}return ii(t,i,s)}function e1(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!Mm(t,s)&&(i.flags&128)===0)return $t=!1,J4(t,i,s);$t=(t.flags&131072)!==0}else $t=!1,Ke&&(i.flags&1048576)!==0&&jE(i,uh,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Gm(l)?(t=ss(l,t),i.tag=1,i=Hk(null,i,l,t,s)):(i.tag=0,i=Tm(null,i,l,t,s));else{if(l!=null){if(d=l.$$typeof,d===V){i.tag=11,i=$k(null,i,l,t,s);break e}else if(d===Z){i.tag=14,i=qk(null,i,l,t,s);break e}}throw i=C(l)||l,Error(o(306,i,""))}}return i;case 0:return Tm(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,d=ss(l,i.pendingProps),Hk(t,i,l,d,s);case 3:e:{if(ct(i,i.stateNode.containerInfo),t===null)throw Error(o(387));var p=i.pendingProps;d=i.memoizedState,l=d.element,jm(t,i),iu(i,p,null,s);var w=i.memoizedState;if(p=w.cache,ro(i,Ot,p),p!==d.cache&&Vm(i,[Ot],s,!0),ru(),p=w.element,d.isDehydrated)if(d={element:p,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xk(t,i,p,s);break e}else if(p!==l){l=Gn(Error(o(424)),i),ql(l),i=Xk(t,i,p,s);break e}else for(en=cr(i.stateNode.containerInfo.firstChild),yn=i,Ke=!0,lr=null,Nr=!0,s=GE(i,null,p,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($l(),p===l){i=ii(t,i,s);break e}tn(t,i,p,s)}i=i.child}return i;case 26:return eu(t,i),t===null?(s=rx(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ke||(s=i.type,t=i.pendingProps,l=zh(et.current).createElement(s),l[Ut]=i,l[Lt]=t,nn(l,s,t),ht(l),i.stateNode=l):i.memoizedState=rx(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Xt(i),t===null&&Ke&&(l=i.stateNode=ex(i.type,i.pendingProps,et.current),yn=i,Nr=!0,en=cr(l.firstChild)),l=i.pendingProps.children,t!==null||Ke?tn(t,i,l,s):i.child=ts(i,null,l,s),eu(t,i),i.child;case 5:return t===null&&Ke&&((d=l=en)&&(l=_L(l,i.type,i.pendingProps,Nr),l!==null?(i.stateNode=l,yn=i,en=cr(l.firstChild),Nr=!1,d=!0):d=!1),d||es(i)),Xt(i),d=i.type,p=i.pendingProps,w=t!==null?t.memoizedProps:null,l=p.children,bg(d,p)?l=null:w!==null&&bg(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=am(t,i,W4,null,null,s),bu._currentValue=d),eu(t,i),tn(t,i,l,s),i.child;case 6:return t===null&&Ke&&((t=s=en)&&(s=AL(s,i.pendingProps,Nr),s!==null?(i.stateNode=s,yn=i,en=null,t=!0):t=!1),t||es(i)),null;case 13:return Yk(t,i,s);case 4:return ct(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ts(i,null,l,s):tn(t,i,l,s),i.child;case 11:return $k(t,i,i.type,i.pendingProps,s);case 7:return tn(t,i,i.pendingProps,s),i.child;case 8:return tn(t,i,i.pendingProps.children,s),i.child;case 12:return tn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ro(i,i.type,l.value),tn(t,i,l.children,s),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ls(i),d=dn(d),l=l(d),i.flags|=1,tn(t,i,l,s),i.child;case 14:return qk(t,i,i.type,i.pendingProps,s);case 15:return Wk(t,i,i.type,i.pendingProps,s);case 19:return Zk(t,i,s);case 22:return Qk(t,i,s);case 24:return ls(i),l=dn(Ot),t===null?(d=om(),d===null&&(d=ot,p=rm(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=s),d=p),i.memoizedState={parent:l,cache:d},Om(i),ro(i,Ot,d)):((t.lanes&s)!==0&&(jm(t,i),iu(i,null,null,s),ru()),d=t.memoizedState,p=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),ro(i,Ot,l)):(l=p.cache,ro(i,Ot,l),l!==d.cache&&Vm(i,[Ot],s,!0))),tn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}var Lm=he(null),as=null,oi=null;function ro(t,i,s){Ce(Lm,i._currentValue),i._currentValue=s}function si(t){t._currentValue=Lm.current,Ee(Lm)}function Rm(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Vm(t,i,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var w=d.child;p=p.firstContext;e:for(;p!==null;){var k=p;p=d;for(var D=0;D<i.length;D++)if(k.context===i[D]){p.lanes|=s,k=p.alternate,k!==null&&(k.lanes|=s),Rm(p.return,s,t),l||(w=null);break e}p=k.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(o(341));w.lanes|=s,p=w.alternate,p!==null&&(p.lanes|=s),Rm(w,s,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function tu(t,i,s,l){t=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(o(387));if(w=w.memoizedProps,w!==null){var k=d.type;Mn(d.pendingProps.value,w.value)||(t!==null?t.push(k):t=[k])}}else if(d===Me.current){if(w=d.alternate,w===null)throw Error(o(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(bu):t=[bu])}d=d.return}t!==null&&Vm(i,t,s,l),i.flags|=262144}function Ch(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){as=t,oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return t1(as,t)}function Ih(t,i){return as===null&&ls(t),t1(t,i)}function t1(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},oi===null){if(t===null)throw Error(o(308));oi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else oi=oi.next=i;return s}var io=!1;function Om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oo(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function so(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ft&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=ah(t),VE(t,null,s),i}return sh(t,l,i,s),ah(t)}function nu(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,zi(t,s)}}function Fm(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?d=p=w:p=p.next=w,s=s.next}while(s!==null);p===null?d=p=i:p=p.next=i}else d=p=i;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Um=!1;function ru(){if(Um){var t=da;if(t!==null)throw t}}function iu(t,i,s,l){Um=!1;var d=t.updateQueue;io=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,k=d.shared.pending;if(k!==null){d.shared.pending=null;var D=k,O=D.next;D.next=null,w===null?p=O:w.next=O,w=D;var G=t.alternate;G!==null&&(G=G.updateQueue,k=G.lastBaseUpdate,k!==w&&(k===null?G.firstBaseUpdate=O:k.next=O,G.lastBaseUpdate=D))}if(p!==null){var ee=d.baseState;w=0,G=O=D=null,k=p;do{var q=k.lane&-536870913,Q=q!==k.lane;if(Q?(qe&q)===q:(l&q)===q){q!==0&&q===ha&&(Um=!0),G!==null&&(G=G.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var be=t,Ne=k;q=i;var vt=s;switch(Ne.tag){case 1:if(be=Ne.payload,typeof be=="function"){ee=be.call(vt,ee,q);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ne.payload,q=typeof be=="function"?be.call(vt,ee,q):be,q==null)break e;ee=N({},ee,q);break e;case 2:io=!0}}q=k.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},G===null?(O=G=Q,D=ee):G=G.next=Q,w|=q;if(k=k.next,k===null){if(k=d.shared.pending,k===null)break;Q=k,k=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);G===null&&(D=ee),d.baseState=D,d.firstBaseUpdate=O,d.lastBaseUpdate=G,p===null&&(d.shared.lanes=0),ho|=w,t.lanes=w,t.memoizedState=ee}}function n1(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function r1(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)n1(s[t],i)}function ou(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var p=s.create,w=s.inst;l=p(),w.destroy=l}s=s.next}while(s!==d)}}catch(k){rt(i,i.return,k)}}function ao(t,i,s){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&t)===t){var w=l.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,d=i;var D=s;try{k()}catch(O){rt(d,D,O)}}}l=l.next}while(l!==p)}}catch(O){rt(i,i.return,O)}}function i1(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{r1(i,s)}catch(l){rt(t,t.return,l)}}}function o1(t,i,s){s.props=ss(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){rt(t,i,l)}}function us(t,i){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var d=l;break;default:d=l}typeof s=="function"?t.refCleanup=s(d):s.current=d}}catch(p){rt(t,i,p)}}function Ln(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){rt(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){rt(t,i,d)}else s.current=null}function s1(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){rt(t,t.return,d)}}function a1(t,i,s){try{var l=t.stateNode;kL(l,t.type,s,i),l[Lt]=i}catch(d){rt(t,t.return,d)}}function l1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Bm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zm(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(t,i):s.insertBefore(t,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(t,s)):(i=s,i.appendChild(t)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bh));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(zm(t,i,s),t=t.sibling;t!==null;)zm(t,i,s),t=t.sibling}function _h(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(_h(t,i,s),t=t.sibling;t!==null;)_h(t,i,s),t=t.sibling}var ai=!1,gt=!1,$m=!1,u1=typeof WeakSet=="function"?WeakSet:Set,qt=null,c1=!1;function Z4(t,i){if(t=t.containerInfo,yg=Kh,t=IE(t),Wp(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var w=0,k=-1,D=-1,O=0,G=0,ee=t,q=null;t:for(;;){for(var Q;ee!==s||d!==0&&ee.nodeType!==3||(k=w+d),ee!==p||l!==0&&ee.nodeType!==3||(D=w+l),ee.nodeType===3&&(w+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)q=ee,ee=Q;for(;;){if(ee===t)break t;if(q===s&&++O===d&&(k=w),q===p&&++G===l&&(D=w),(Q=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=Q}s=k===-1||D===-1?null:{start:k,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(vg={focusedElem:t,selectionRange:s},Kh=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=i,d=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var be=ss(s.type,d,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(be,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){rt(s,s.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Eg(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Eg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}return be=c1,c1=!1,be}function h1(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ui(t,s),l&4&&ou(5,s);break;case 1:if(ui(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(k){rt(s,s.return,k)}else{var d=ss(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(k){rt(s,s.return,k)}}l&64&&i1(s),l&512&&us(s,s.return);break;case 3:if(ui(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{r1(l,t)}catch(k){rt(s,s.return,k)}}break;case 26:ui(t,s),l&512&&us(s,s.return);break;case 27:case 5:ui(t,s),i===null&&l&4&&s1(s),l&512&&us(s,s.return);break;case 12:ui(t,s);break;case 13:ui(t,s),l&4&&p1(t,s);break;case 22:if(d=s.memoizedState!==null||ai,!d){i=i!==null&&i.memoizedState!==null||gt;var p=ai,w=gt;ai=d,(gt=i)&&!w?lo(t,s,(s.subtreeFlags&8772)!==0):ui(t,s),ai=p,gt=w}l&512&&(s.memoizedProps.mode==="manual"?us(s,s.return):Ln(s,s.return));break;default:ui(t,s)}}function d1(t){var i=t.alternate;i!==null&&(t.alternate=null,d1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Fo(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Rn=!1;function li(t,i,s){for(s=s.child;s!==null;)f1(t,i,s),s=s.sibling}function f1(t,i,s){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(wr,s)}catch{}switch(s.tag){case 26:gt||Ln(s,i),li(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:gt||Ln(s,i);var l=Dt,d=Rn;for(Dt=s.stateNode,li(t,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Fo(s),Dt=l,Rn=d;break;case 5:gt||Ln(s,i);case 6:d=Dt;var p=Rn;if(Dt=null,li(t,i,s),Dt=d,Rn=p,Dt!==null)if(Rn)try{t=Dt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(w){rt(s,i,w)}else try{Dt.removeChild(s.stateNode)}catch(w){rt(s,i,w)}break;case 18:Dt!==null&&(Rn?(i=Dt,s=s.stateNode,i.nodeType===8?Sg(i.parentNode,s):i.nodeType===1&&Sg(i,s),ku(i)):Sg(Dt,s.stateNode));break;case 4:l=Dt,d=Rn,Dt=s.stateNode.containerInfo,Rn=!0,li(t,i,s),Dt=l,Rn=d;break;case 0:case 11:case 14:case 15:gt||ao(2,s,i),gt||ao(4,s,i),li(t,i,s);break;case 1:gt||(Ln(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&o1(s,i,l)),li(t,i,s);break;case 21:li(t,i,s);break;case 22:gt||Ln(s,i),gt=(l=gt)||s.memoizedState!==null,li(t,i,s),gt=l;break;default:li(t,i,s)}}function p1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ku(t)}catch(s){rt(i,i.return,s)}}function eL(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new u1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new u1),i;default:throw Error(o(435,t.tag))}}function qm(t,i){var s=eL(t);i.forEach(function(l){var d=fL.bind(null,t,l);s.has(l)||(s.add(l),l.then(d,d))})}function Yn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],p=t,w=i,k=w;e:for(;k!==null;){switch(k.tag){case 27:case 5:Dt=k.stateNode,Rn=!1;break e;case 3:Dt=k.stateNode.containerInfo,Rn=!0;break e;case 4:Dt=k.stateNode.containerInfo,Rn=!0;break e}k=k.return}if(Dt===null)throw Error(o(160));f1(p,w,d),Dt=null,Rn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)m1(i,t),i=i.sibling}var ur=null;function m1(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yn(i,t),Jn(t),l&4&&(ao(3,t,t.return),ou(3,t),ao(5,t,t.return));break;case 1:Yn(i,t),Jn(t),l&512&&(gt||s===null||Ln(s,s.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=ur;if(Yn(i,t),Jn(t),l&512&&(gt||s===null||Ln(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[qi]||p[Ut]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),nn(p,l,s),p[Ut]=t,ht(p),l=p;break e;case"link":var w=sx("link","href",d).get(l+(s.href||""));if(w){for(var k=0;k<w.length;k++)if(p=w[k],p.getAttribute("href")===(s.href==null?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(k,1);break t}}p=d.createElement(l),nn(p,l,s),d.head.appendChild(p);break;case"meta":if(w=sx("meta","content",d).get(l+(s.content||""))){for(k=0;k<w.length;k++)if(p=w[k],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(k,1);break t}}p=d.createElement(l),nn(p,l,s),d.head.appendChild(p);break;default:throw Error(o(468,l))}p[Ut]=t,ht(p),l=p}t.stateNode=l}else ax(d,t.type,t.stateNode);else t.stateNode=ox(d,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?ax(d,t.type,t.stateNode):ox(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&a1(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){d=t.stateNode,p=t.memoizedProps;try{for(var D=d.firstChild;D;){var O=D.nextSibling,G=D.nodeName;D[qi]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=O}for(var ee=t.type,q=d.attributes;q.length;)d.removeAttributeNode(q[0]);nn(d,ee,p),d[Ut]=t,d[Lt]=p}catch(be){rt(t,t.return,be)}}case 5:if(Yn(i,t),Jn(t),l&512&&(gt||s===null||Ln(s,s.return)),t.flags&32){d=t.stateNode;try{zn(d,"")}catch(be){rt(t,t.return,be)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,a1(t,d,s!==null?s.memoizedProps:d)),l&1024&&($m=!0);break;case 6:if(Yn(i,t),Jn(t),l&4){if(t.stateNode===null)throw Error(o(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(be){rt(t,t.return,be)}}break;case 3:if(Wh=null,d=ur,ur=$h(i.containerInfo),Yn(i,t),ur=d,Jn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ku(i.containerInfo)}catch(be){rt(t,t.return,be)}$m&&($m=!1,g1(t));break;case 4:l=ur,ur=$h(t.stateNode.containerInfo),Yn(i,t),Jn(t),ur=l;break;case 12:Yn(i,t),Jn(t);break;case 13:Yn(i,t),Jn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zm=Yt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qm(t,l)));break;case 22:if(l&512&&(gt||s===null||Ln(s,s.return)),D=t.memoizedState!==null,O=s!==null&&s.memoizedState!==null,G=ai,ee=gt,ai=G||D,gt=ee||O,Yn(i,t),gt=ee,ai=G,Jn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=ai||gt,s===null||O||i||ga(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){O=s=i;try{if(d=O.stateNode,D)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{w=O.stateNode,k=O.memoizedProps.style;var Q=k!=null&&k.hasOwnProperty("display")?k.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(be){rt(O,O.return,be)}}}else if(i.tag===6){if(s===null){O=i;try{O.stateNode.nodeValue=D?"":O.memoizedProps}catch(be){rt(O,O.return,be)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,qm(t,s))));break;case 19:Yn(i,t),Jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qm(t,l)));break;case 21:break;default:Yn(i,t),Jn(t)}}function Jn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(l1(s)){var l=s;break e}s=s.return}throw Error(o(160))}switch(l.tag){case 27:var d=l.stateNode,p=Bm(t);_h(t,p,d);break;case 5:var w=l.stateNode;l.flags&32&&(zn(w,""),l.flags&=-33);var k=Bm(t);_h(t,k,w);break;case 3:case 4:var D=l.stateNode.containerInfo,O=Bm(t);zm(t,O,D);break;default:throw Error(o(161))}}}catch(G){rt(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function g1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;g1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ui(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h1(t,i.alternate,i),i=i.sibling}function ga(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ao(4,i,i.return),ga(i);break;case 1:Ln(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&o1(i,i.return,s),ga(i);break;case 26:case 27:case 5:Ln(i,i.return),ga(i);break;case 22:Ln(i,i.return),i.memoizedState===null&&ga(i);break;default:ga(i)}t=t.sibling}}function lo(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:lo(d,p,s),ou(4,p);break;case 1:if(lo(d,p,s),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(O){rt(l,l.return,O)}if(l=p,d=l.updateQueue,d!==null){var k=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)n1(D[d],k)}catch(O){rt(l,l.return,O)}}s&&w&64&&i1(p),us(p,p.return);break;case 26:case 27:case 5:lo(d,p,s),s&&l===null&&w&4&&s1(p),us(p,p.return);break;case 12:lo(d,p,s);break;case 13:lo(d,p,s),s&&w&4&&p1(d,p);break;case 22:p.memoizedState===null&&lo(d,p,s),us(p,p.return);break;default:lo(d,p,s)}i=i.sibling}}function Wm(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Hl(s))}function Qm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hl(t))}function uo(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y1(t,i,s,l),i=i.sibling}function y1(t,i,s,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:uo(t,i,s,l),d&2048&&ou(9,i);break;case 3:uo(t,i,s,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hl(t)));break;case 12:if(d&2048){uo(t,i,s,l),t=i.stateNode;try{var p=i.memoizedProps,w=p.id,k=p.onPostCommit;typeof k=="function"&&k(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){rt(i,i.return,D)}}else uo(t,i,s,l);break;case 23:break;case 22:p=i.stateNode,i.memoizedState!==null?p._visibility&4?uo(t,i,s,l):su(t,i):p._visibility&4?uo(t,i,s,l):(p._visibility|=4,ya(t,i,s,l,(i.subtreeFlags&10256)!==0)),d&2048&&Wm(i.alternate,i);break;case 24:uo(t,i,s,l),d&2048&&Qm(i.alternate,i);break;default:uo(t,i,s,l)}}function ya(t,i,s,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,w=i,k=s,D=l,O=w.flags;switch(w.tag){case 0:case 11:case 15:ya(p,w,k,D,d),ou(8,w);break;case 23:break;case 22:var G=w.stateNode;w.memoizedState!==null?G._visibility&4?ya(p,w,k,D,d):su(p,w):(G._visibility|=4,ya(p,w,k,D,d)),d&&O&2048&&Wm(w.alternate,w);break;case 24:ya(p,w,k,D,d),d&&O&2048&&Qm(w.alternate,w);break;default:ya(p,w,k,D,d)}i=i.sibling}}function su(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,d=l.flags;switch(l.tag){case 22:su(s,l),d&2048&&Wm(l.alternate,l);break;case 24:su(s,l),d&2048&&Qm(l.alternate,l);break;default:su(s,l)}i=i.sibling}}var au=8192;function va(t){if(t.subtreeFlags&au)for(t=t.child;t!==null;)v1(t),t=t.sibling}function v1(t){switch(t.tag){case 26:va(t),t.flags&au&&t.memoizedState!==null&&zL(ur,t.memoizedState,t.memoizedProps);break;case 5:va(t);break;case 3:case 4:var i=ur;ur=$h(t.stateNode.containerInfo),va(t),ur=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=au,au=16777216,va(t),au=i):va(t));break;default:va(t)}}function b1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function lu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qt=l,S1(l,t)}b1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w1(t),t=t.sibling}function w1(t){switch(t.tag){case 0:case 11:case 15:lu(t),t.flags&2048&&ao(9,t,t.return);break;case 3:lu(t);break;case 12:lu(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Ah(t)):lu(t);break;default:lu(t)}}function Ah(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qt=l,S1(l,t)}b1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ao(8,i,i.return),Ah(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,Ah(i));break;default:Ah(i)}t=t.sibling}}function S1(t,i){for(;qt!==null;){var s=qt;switch(s.tag){case 0:case 11:case 15:ao(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qt=l;else e:for(s=t;qt!==null;){l=qt;var d=l.sibling,p=l.return;if(d1(l),l===s){qt=null;break e}if(d!==null){d.return=p,qt=d;break e}qt=p}}}function tL(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,i,s,l){return new tL(t,i,s,l)}function Gm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function co(t,i){var s=t.alternate;return s===null?(s=Zn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function E1(t,i){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Dh(t,i,s,l,d,p){var w=0;if(l=t,typeof t=="function")Gm(t)&&(w=1);else if(typeof t=="string")w=UL(t,s,Pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return cs(s.children,d,p,i);case g:w=8,d|=24;break;case v:return t=Zn(12,s,i,d|2),t.elementType=v,t.lanes=p,t;case z:return t=Zn(13,s,i,d),t.elementType=z,t.lanes=p,t;case j:return t=Zn(19,s,i,d),t.elementType=j,t.lanes=p,t;case oe:return k1(s,d,p,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case A:w=10;break e;case T:w=9;break e;case V:w=11;break e;case Z:w=14;break e;case te:w=16,l=null;break e}w=29,s=Error(o(130,t===null?"null":typeof t,"")),l=null}return i=Zn(w,s,i,d),i.elementType=t,i.type=l,i.lanes=p,i}function cs(t,i,s,l){return t=Zn(7,t,l,i),t.lanes=s,t}function k1(t,i,s,l){t=Zn(22,t,l,i),t.elementType=oe,t.lanes=s;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=d._current;if(p===null)throw Error(o(456));if((d._pendingVisibility&2)===0){var w=Ji(p,2);w!==null&&(d._pendingVisibility|=2,vn(w,p,2))}},attach:function(){var p=d._current;if(p===null)throw Error(o(456));if((d._pendingVisibility&2)!==0){var w=Ji(p,2);w!==null&&(d._pendingVisibility&=-3,vn(w,p,2))}}};return t.stateNode=d,t}function Km(t,i,s){return t=Zn(6,t,null,i),t.lanes=s,t}function Hm(t,i,s){return i=Zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function ci(t){t.flags|=4}function x1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lx(i)){if(i=Xn.current,i!==null&&((qe&4194176)===qe?ti!==null:(qe&62914560)!==qe&&(qe&536870912)===0||i!==ti))throw Ql=em,BE;t.flags|=8192}}function Ph(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ui():536870912,t.lanes|=i,wa|=i)}function uu(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&31457280,l|=d.flags&31457280,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function nL(t,i,s){var l=i.pendingProps;switch(Jp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),si(Ot),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(zl(i)?ci(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lr!==null&&(rg(lr),lr=null))),dt(i),null;case 26:return s=i.memoizedState,t===null?(ci(i),s!==null?(dt(i),x1(i,s)):(dt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(ci(i),dt(i),x1(i,s)):(dt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ci(i),dt(i),i.flags&=-16777217),null;case 27:cn(i),s=et.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ci(i);else{if(!l){if(i.stateNode===null)throw Error(o(166));return dt(i),null}t=Pe.current,zl(i)?FE(i):(t=ex(d,l,s),i.stateNode=t,ci(i))}return dt(i),null;case 5:if(cn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ci(i);else{if(!l){if(i.stateNode===null)throw Error(o(166));return dt(i),null}if(t=Pe.current,zl(i))FE(i);else{switch(d=zh(et.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(s,{is:l.is}):d.createElement(s)}}t[Ut]=i,t[Lt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(nn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ci(i)}}return dt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ci(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(o(166));if(t=et.current,zl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,d=yn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Ut]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||K1(t.nodeValue,s)),t||es(i)}else t=zh(t).createTextNode(l),t[Ut]=i,i.stateNode=t}return dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=zl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[Ut]=i}else $l(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),d=!1}else lr!==null&&(rg(lr),lr=null),d=!0;if(!d)return i.flags&256?(ni(i),i):(ni(i),null)}if(ni(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Ph(i,i.updateQueue),dt(i),null;case 4:return Et(),t===null&&pg(i.stateNode.containerInfo),dt(i),null;case 10:return si(i.type),dt(i),null;case 19:if(Ee(Vt),d=i.memoizedState,d===null)return dt(i),null;if(l=(i.flags&128)!==0,p=d.rendering,p===null)if(l)uu(d,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=ph(t),p!==null){for(i.flags|=128,uu(d,!1),t=p.updateQueue,i.updateQueue=t,Ph(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)E1(s,t),s=s.sibling;return Ce(Vt,Vt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Yt()>Nh&&(i.flags|=128,l=!0,uu(d,!1),i.lanes=4194304)}else{if(!l)if(t=ph(p),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Ph(i,t),uu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Ke)return dt(i),null}else 2*Yt()-d.renderingStartTime>Nh&&s!==536870912&&(i.flags|=128,l=!0,uu(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(t=d.last,t!==null?t.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Yt(),i.sibling=null,t=Vt.current,Ce(Vt,l?t&1|2:t&1),i):(dt(i),null);case 22:case 23:return ni(i),nm(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),s=i.updateQueue,s!==null&&Ph(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&Ee(ns),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),si(Ot),dt(i),null;case 25:return null}throw Error(o(156,i.tag))}function rL(t,i){switch(Jp(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return si(Ot),Et(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return cn(i),null;case 13:if(ni(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));$l()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ee(Vt),null;case 4:return Et(),null;case 10:return si(i.type),null;case 22:case 23:return ni(i),nm(),t!==null&&Ee(ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return si(Ot),null;case 25:return null;default:return null}}function T1(t,i){switch(Jp(i),i.tag){case 3:si(Ot),Et();break;case 26:case 27:case 5:cn(i);break;case 4:Et();break;case 13:ni(i);break;case 19:Ee(Vt);break;case 10:si(i.type);break;case 22:case 23:ni(i),nm(),t!==null&&Ee(ns);break;case 24:si(Ot)}}var iL={getCacheForType:function(t){var i=dn(Ot),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},oL=typeof WeakMap=="function"?WeakMap:Map,ft=0,ot=null,je=null,qe=0,st=0,Vn=null,hi=!1,ba=!1,Xm=!1,di=0,yt=0,ho=0,hs=0,Ym=0,er=0,wa=0,cu=null,Lr=null,Jm=!1,Zm=0,Nh=1/0,Mh=null,fo=null,Lh=!1,ds=null,hu=0,eg=0,tg=null,du=0,ng=null;function On(){if((ft&2)!==0&&qe!==0)return qe&-qe;if(I.T!==null){var t=ha;return t!==0?t:cg()}return Uc()}function C1(){er===0&&(er=(qe&536870912)===0||Ke?xl():536870912);var t=Xn.current;return t!==null&&(t.flags|=32),er}function vn(t,i,s){(t===ot&&st===2||t.cancelPendingCommit!==null)&&(Sa(t,0),fi(t,qe,er,!1)),kt(t,s),((ft&2)===0||t!==ot)&&(t===ot&&((ft&2)===0&&(hs|=s),yt===4&&fi(t,qe,er,!1)),Rr(t))}function I1(t,i,s){if((ft&6)!==0)throw Error(o(327));var l=!s&&(i&60)===0&&(i&t.expiredLanes)===0||Fi(t,i),d=l?lL(t,i):sg(t,i,!0),p=l;do{if(d===0){ba&&!l&&fi(t,i,0,!1);break}else if(d===6)fi(t,i,0,!hi);else{if(s=t.current.alternate,p&&!sL(s)){d=sg(t,i,!1),p=!1;continue}if(d===2){if(p=i,t.errorRecoveryDisabledLanes&p)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var k=t;d=cu;var D=k.current.memoizedState.isDehydrated;if(D&&(Sa(k,w).flags|=256),w=sg(k,w,!1),w!==2){if(Xm&&!D){k.errorRecoveryDisabledLanes|=p,hs|=p,d=4;break e}p=Lr,Lr=d,p!==null&&rg(p)}d=w}if(p=!1,d!==2)continue}}if(d===1){Sa(t,0),fi(t,i,0,!0);break}e:{switch(l=t,d){case 0:case 1:throw Error(o(345));case 4:if((i&4194176)===i){fi(l,i,er,!hi);break e}break;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(o(329))}if(l.finishedWork=s,l.finishedLanes=i,(i&62914560)===i&&(p=Zm+300-Yt(),10<p)){if(fi(l,i,er,!hi),Un(l,0)!==0)break e;l.timeoutHandle=Y1(_1.bind(null,l,s,Lr,Mh,Jm,i,er,hs,wa,hi,2,-0,0),p);break e}_1(l,s,Lr,Mh,Jm,i,er,hs,wa,hi,0,-0,0)}}break}while(!0);Rr(t)}function rg(t){Lr===null?Lr=t:Lr.push.apply(Lr,t)}function _1(t,i,s,l,d,p,w,k,D,O,G,ee,q){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(vu={stylesheets:null,count:0,unsuspend:BL},v1(i),i=$L(),i!==null)){t.cancelPendingCommit=i(R1.bind(null,t,s,l,d,w,k,D,1,ee,q)),fi(t,p,w,!O);return}R1(t,s,l,d,w,k,D,G,ee,q)}function sL(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],p=d.getSnapshot;d=d.value;try{if(!Mn(p(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fi(t,i,s,l){i&=~Ym,i&=~hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var p=31-pn(d),w=1<<p;l[p]=-1,d&=~w}s!==0&&Bi(t,s,i)}function Rh(){return(ft&6)===0?(fu(0),!1):!0}function ig(){if(je!==null){if(st===0)var t=je.return;else t=je,oi=as=null,cm(t),ua=null,Gl=0,t=je;for(;t!==null;)T1(t.alternate,t),t=t.return;je=null}}function Sa(t,i){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,TL(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ig(),ot=t,je=s=co(t.current,null),qe=i,st=0,Vn=null,hi=!1,ba=Fi(t,i),Xm=!1,wa=er=Ym=hs=ho=yt=0,Lr=cu=null,Jm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-pn(l),p=1<<d;i|=t[d],l&=~p}return di=i,oh(),s}function A1(t,i){Ve=null,I.H=Mr,i===Wl?(i=qE(),st=3):i===BE?(i=qE(),st=4):st=i===zk?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,je===null&&(yt=1,Th(t,Gn(i,t.current)))}function D1(){var t=I.H;return I.H=Mr,t===null?Mr:t}function P1(){var t=I.A;return I.A=iL,t}function og(){yt=4,hi||(qe&4194176)!==qe&&Xn.current!==null||(ba=!0),(ho&134217727)===0&&(hs&134217727)===0||ot===null||fi(ot,qe,er,!1)}function sg(t,i,s){var l=ft;ft|=2;var d=D1(),p=P1();(ot!==t||qe!==i)&&(Mh=null,Sa(t,i)),i=!1;var w=yt;e:do try{if(st!==0&&je!==null){var k=je,D=Vn;switch(st){case 8:ig(),w=6;break e;case 3:case 2:case 6:Xn.current===null&&(i=!0);var O=st;if(st=0,Vn=null,Ea(t,k,D,O),s&&ba){w=0;break e}break;default:O=st,st=0,Vn=null,Ea(t,k,D,O)}}aL(),w=yt;break}catch(G){A1(t,G)}while(!0);return i&&t.shellSuspendCounter++,oi=as=null,ft=l,I.H=d,I.A=p,je===null&&(ot=null,qe=0,oh()),w}function aL(){for(;je!==null;)N1(je)}function lL(t,i){var s=ft;ft|=2;var l=D1(),d=P1();ot!==t||qe!==i?(Mh=null,Nh=Yt()+500,Sa(t,i)):ba=Fi(t,i);e:do try{if(st!==0&&je!==null){i=je;var p=Vn;t:switch(st){case 1:st=0,Vn=null,Ea(t,i,p,1);break;case 2:if(zE(p)){st=0,Vn=null,M1(i);break}i=function(){st===2&&ot===t&&(st=7),Rr(t)},p.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:zE(p)?(st=0,Vn=null,M1(i)):(st=0,Vn=null,Ea(t,i,p,7));break;case 5:var w=null;switch(je.tag){case 26:w=je.memoizedState;case 5:case 27:var k=je;if(!w||lx(w)){st=0,Vn=null;var D=k.sibling;if(D!==null)je=D;else{var O=k.return;O!==null?(je=O,Vh(O)):je=null}break t}}st=0,Vn=null,Ea(t,i,p,5);break;case 6:st=0,Vn=null,Ea(t,i,p,6);break;case 8:ig(),yt=6;break e;default:throw Error(o(462))}}uL();break}catch(G){A1(t,G)}while(!0);return oi=as=null,I.H=l,I.A=d,ft=s,je!==null?0:(ot=null,qe=0,oh(),yt)}function uL(){for(;je!==null&&!Sl();)N1(je)}function N1(t){var i=e1(t.alternate,t,di);t.memoizedProps=t.pendingProps,i===null?Vh(t):je=i}function M1(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Kk(s,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=Kk(s,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:cm(i);default:T1(s,i),i=je=E1(i,di),i=e1(s,i,di)}t.memoizedProps=t.pendingProps,i===null?Vh(t):je=i}function Ea(t,i,s,l){oi=as=null,cm(i),ua=null,Gl=0;var d=i.return;try{if(Y4(t,d,i,s,qe)){yt=1,Th(t,Gn(s,t.current)),je=null;return}}catch(p){if(d!==null)throw je=d,p;yt=1,Th(t,Gn(s,t.current)),je=null;return}i.flags&32768?(Ke||l===1?t=!0:ba||(qe&536870912)!==0?t=!1:(hi=t=!0,(l===2||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L1(i,t)):Vh(i)}function Vh(t){var i=t;do{if((i.flags&32768)!==0){L1(i,hi);return}t=i.return;var s=nL(i.alternate,i,di);if(s!==null){je=s;return}if(i=i.sibling,i!==null){je=i;return}je=i=t}while(i!==null);yt===0&&(yt=5)}function L1(t,i){do{var s=rL(t.alternate,t);if(s!==null){s.flags&=32767,je=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){je=t;return}je=t=s}while(t!==null);yt=6,je=null}function R1(t,i,s,l,d,p,w,k,D,O){var G=I.T,ee=J.p;try{J.p=2,I.T=null,cL(t,i,s,l,ee,d,p,w,k,D,O)}finally{I.T=G,J.p=ee}}function cL(t,i,s,l,d,p,w,k){do ka();while(ds!==null);if((ft&6)!==0)throw Error(o(327));var D=t.finishedWork;if(l=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=D.lanes|D.childLanes;if(O|=Hp,jc(t,l,O,p,w,k),t===ot&&(je=ot=null,qe=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Lh||(Lh=!0,eg=O,tg=s,pL(ir,function(){return ka(),null})),s=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||s?(s=I.T,I.T=null,p=J.p,J.p=2,w=ft,ft|=4,Z4(t,D),m1(D,t),L4(vg,t.containerInfo),Kh=!!yg,vg=yg=null,t.current=D,h1(t,D.alternate,D),Ro(),ft=w,J.p=p,I.T=s):t.current=D,Lh?(Lh=!1,ds=t,hu=l):V1(t,O),O=t.pendingLanes,O===0&&(fo=null),El(D.stateNode),Rr(t),i!==null)for(d=t.onRecoverableError,D=0;D<i.length;D++)O=i[D],d(O.value,{componentStack:O.stack});return(hu&3)!==0&&ka(),O=t.pendingLanes,(l&4194218)!==0&&(O&42)!==0?t===ng?du++:(du=0,ng=t):du=0,fu(0),null}function V1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Hl(i)))}function ka(){if(ds!==null){var t=ds,i=eg;eg=0;var s=Fc(hu),l=I.T,d=J.p;try{if(J.p=32>s?32:s,I.T=null,ds===null)var p=!1;else{s=tg,tg=null;var w=ds,k=hu;if(ds=null,hu=0,(ft&6)!==0)throw Error(o(331));var D=ft;if(ft|=4,w1(w.current),y1(w,w.current,k,s),ft=D,fu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(wr,w)}catch{}p=!0}return p}finally{J.p=d,I.T=l,V1(t,i)}}return!1}function O1(t,i,s){i=Gn(s,i),i=xm(t.stateNode,i,2),t=so(t,i,2),t!==null&&(kt(t,2),Rr(t))}function rt(t,i,s){if(t.tag===3)O1(t,t,s);else for(;i!==null;){if(i.tag===3){O1(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fo===null||!fo.has(l))){t=Gn(s,t),s=Uk(2),l=so(i,s,2),l!==null&&(Bk(s,l,i,t),kt(l,2),Rr(l));break}}i=i.return}}function ag(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new oL;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(s)||(Xm=!0,d.add(s),t=hL.bind(null,t,i,s),i.then(t,t))}function hL(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ot===t&&(qe&s)===s&&(yt===4||yt===3&&(qe&62914560)===qe&&300>Yt()-Zm?(ft&2)===0&&Sa(t,0):Ym|=s,wa===qe&&(wa=0)),Rr(t)}function j1(t,i){i===0&&(i=Ui()),t=Ji(t,i),t!==null&&(kt(t,i),Rr(t))}function dL(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),j1(t,s)}function fL(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(i),j1(t,s)}function pL(t,i){return Ft(t,i)}var Oh=null,xa=null,lg=!1,jh=!1,ug=!1,fs=0;function Rr(t){t!==xa&&t.next===null&&(xa===null?Oh=xa=t:xa=xa.next=t),jh=!0,lg||(lg=!0,gL(mL))}function fu(t,i){if(!ug&&jh){ug=!0;do for(var s=!1,l=Oh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var w=l.suspendedLanes,k=l.pingedLanes;p=(1<<31-pn(42|t)+1)-1,p&=d&~(w&~k),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(s=!0,B1(l,p))}else p=qe,p=Un(l,l===ot?p:0),(p&3)===0||Fi(l,p)||(s=!0,B1(l,p));l=l.next}while(s);ug=!1}}function mL(){jh=lg=!1;var t=0;fs!==0&&(xL()&&(t=fs),fs=0);for(var i=Yt(),s=null,l=Oh;l!==null;){var d=l.next,p=F1(l,i);p===0?(l.next=null,s===null?Oh=d:s.next=d,d===null&&(xa=s)):(s=l,(t!==0||(p&3)!==0)&&(jh=!0)),l=d}fu(t)}function F1(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var w=31-pn(p),k=1<<w,D=d[w];D===-1?((k&s)===0||(k&l)!==0)&&(d[w]=zs(k,i)):D<=i&&(t.expiredLanes|=k),p&=~k}if(i=ot,s=qe,s=Un(t,t===i?s:0),l=t.callbackNode,s===0||t===i&&st===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Fi(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Vi(l),Fc(s)){case 2:case 8:s=It;break;case 32:s=ir;break;case 268435456:s=Oi;break;default:s=ir}return l=U1.bind(null,t),s=Ft(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Vi(l),t.callbackPriority=2,t.callbackNode=null,2}function U1(t,i){var s=t.callbackNode;if(ka()&&t.callbackNode!==s)return null;var l=qe;return l=Un(t,t===ot?l:0),l===0?null:(I1(t,l,i),F1(t,Yt()),t.callbackNode!=null&&t.callbackNode===s?U1.bind(null,t):null)}function B1(t,i){if(ka())return null;I1(t,i,!0)}function gL(t){CL(function(){(ft&6)!==0?Ft(mt,t):t()})}function cg(){return fs===0&&(fs=xl()),fs}function z1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tr(""+t)}function $1(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function yL(t,i,s,l,d){if(i==="submit"&&s&&s.stateNode===d){var p=z1((d[Lt]||null).action),w=l.submitter;w&&(i=(i=w[Lt]||null)?z1(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var k=new Hs("action","action",null,l,d);t.push({event:k,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var D=w?$1(d,w):new FormData(d);bm(s,{pending:!0,data:D,method:d.method,action:p},null,D)}}else typeof p=="function"&&(k.preventDefault(),D=w?$1(d,w):new FormData(d),bm(s,{pending:!0,data:D,method:d.method,action:p},p,D))},currentTarget:d}]})}}for(var hg=0;hg<RE.length;hg++){var dg=RE[hg],vL=dg.toLowerCase(),bL=dg[0].toUpperCase()+dg.slice(1);ar(vL,"on"+bL)}ar(DE,"onAnimationEnd"),ar(PE,"onAnimationIteration"),ar(NE,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(V4,"onTransitionRun"),ar(O4,"onTransitionStart"),ar(j4,"onTransitionCancel"),ar(ME,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function q1(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var w=l.length-1;0<=w;w--){var k=l[w],D=k.instance,O=k.currentTarget;if(k=k.listener,D!==p&&d.isPropagationStopped())break e;p=k,d.currentTarget=O;try{p(d)}catch(G){xh(G)}d.currentTarget=null,p=D}else for(w=0;w<l.length;w++){if(k=l[w],D=k.instance,O=k.currentTarget,k=k.listener,D!==p&&d.isPropagationStopped())break e;p=k,d.currentTarget=O;try{p(d)}catch(G){xh(G)}d.currentTarget=null,p=D}}}}function Ue(t,i){var s=i[jo];s===void 0&&(s=i[jo]=new Set);var l=t+"__bubble";s.has(l)||(W1(i,t,2,!1),s.add(l))}function fg(t,i,s){var l=0;i&&(l|=4),W1(s,t,l,i)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function pg(t){if(!t[Fh]){t[Fh]=!0,Cl.forEach(function(s){s!=="selectionchange"&&(wL.has(s)||fg(s,!1,t),fg(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fh]||(i[Fh]=!0,fg("selectionchange",!1,i))}}function W1(t,i,s,l){switch(px(i)){case 2:var d=QL;break;case 8:d=GL;break;default:d=Ig}s=d.bind(null,i,s,t),d=void 0,!qn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,s,{capture:!0,passive:d}):t.addEventListener(i,s,!0):d!==void 0?t.addEventListener(i,s,{passive:d}):t.addEventListener(i,s,!1)}function mg(t,i,s,l,d){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var k=l.stateNode.containerInfo;if(k===d||k.nodeType===8&&k.parentNode===d)break;if(w===4)for(w=l.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;w=w.return}for(;k!==null;){if(w=sr(k),w===null)return;if(D=w.tag,D===5||D===6||D===26||D===27){l=p=w;continue e}k=k.parentNode}}l=l.return}qc(function(){var O=p,G=Ks(s),ee=[];e:{var q=LE.get(t);if(q!==void 0){var Q=Hs,be=t;switch(t){case"keypress":if(Ir(s)===0)break e;case"keydown":case"keyup":Q=ta;break;case"focusin":be="focus",Q=Js;break;case"focusout":be="blur",Q=Js;break;case"beforeblur":case"afterblur":Q=Js;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Jc;break;case DE:case PE:case NE:Q=Zs;break;case ME:Q=eh;break;case"scroll":case"scrollend":Q=Wc;break;case"wheel":Q=na;break;case"copy":case"cut":case"paste":Q=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=jl;break;case"toggle":case"beforetoggle":Q=nh}var Ne=(i&4)!==0,vt=!Ne&&(t==="scroll"||t==="scrollend"),U=Ne?q!==null?q+"Capture":null:q;Ne=[];for(var R=O,$;R!==null;){var H=R;if($=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||$===null||U===null||(H=$o(R,U),H!=null&&Ne.push(mu(R,H,$))),vt)break;R=R.return}0<Ne.length&&(q=new Q(q,be,null,s,G),ee.push({event:q,listeners:Ne}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&s!==$n&&(be=s.relatedTarget||s.fromElement)&&(sr(be)||be[qr]))break e;if((Q||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(be=s.relatedTarget||s.toElement,Q=O,be=be?sr(be):null,be!==null&&(vt=ve(be),Ne=be.tag,be!==vt||Ne!==5&&Ne!==27&&Ne!==6)&&(be=null)):(Q=null,be=O),Q!==be)){if(Ne=Wn,H="onMouseLeave",U="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=jl,H="onPointerLeave",U="onPointerEnter",R="pointer"),vt=Q==null?q:Wi(Q),$=be==null?q:Wi(be),q=new Ne(H,R+"leave",Q,s,G),q.target=vt,q.relatedTarget=$,H=null,sr(G)===O&&(Ne=new Ne(U,R+"enter",be,s,G),Ne.target=$,Ne.relatedTarget=vt,H=Ne),vt=H,Q&&be)t:{for(Ne=Q,U=be,R=0,$=Ne;$;$=Ta($))R++;for($=0,H=U;H;H=Ta(H))$++;for(;0<R-$;)Ne=Ta(Ne),R--;for(;0<$-R;)U=Ta(U),$--;for(;R--;){if(Ne===U||U!==null&&Ne===U.alternate)break t;Ne=Ta(Ne),U=Ta(U)}Ne=null}else Ne=null;Q!==null&&Q1(ee,q,Q,Ne,!1),be!==null&&vt!==null&&Q1(ee,vt,be,Ne,!0)}}e:{if(q=O?Wi(O):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var pe=bE;else if(Jt(q))if(wE)pe=N4;else{pe=D4;var Oe=A4}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?O&&Pl(O.elementType)&&(pe=bE):pe=P4;if(pe&&(pe=pe(t,O))){Jr(ee,pe,s,G);break e}Oe&&Oe(t,q,O),t==="focusout"&&O&&q.type==="number"&&O.memoizedProps.value!=null&&Gs(q,"number",q.value)}switch(Oe=O?Wi(O):window,t){case"focusin":(Jt(Oe)||Oe.contentEditable==="true")&&(ra=Oe,Qp=O,Bl=null);break;case"focusout":Bl=Qp=ra=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,_E(ee,s,G);break;case"selectionchange":if(R4)break;case"keydown":case"keyup":_E(ee,s,G)}var we;if(Dr)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ge?W(t,s)&&(Te="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Te="onCompositionStart");Te&&(b&&s.locale!=="ko"&&(Ge||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ge&&(we=Ml()):(Cr=G,Yi="value"in Cr?Cr.value:Cr.textContent,Ge=!0)),Oe=Uh(O,Te),0<Oe.length&&(Te=new Vl(Te,t,null,s,G),ee.push({event:Te,listeners:Oe}),we?Te.data=we:(we=se(s),we!==null&&(Te.data=we)))),(we=y?Rt(t,s):Xe(t,s))&&(Te=Uh(O,"onBeforeInput"),0<Te.length&&(Oe=new Vl("onBeforeInput","beforeinput",null,s,G),ee.push({event:Oe,listeners:Te}),Oe.data=we)),yL(ee,t,O,s,G)}q1(ee,i)})}function mu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Uh(t,i){for(var s=i+"Capture",l=[];t!==null;){var d=t,p=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=$o(t,s),d!=null&&l.unshift(mu(t,d,p)),d=$o(t,i),d!=null&&l.push(mu(t,d,p))),t=t.return}return l}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q1(t,i,s,l,d){for(var p=i._reactName,w=[];s!==null&&s!==l;){var k=s,D=k.alternate,O=k.stateNode;if(k=k.tag,D!==null&&D===l)break;k!==5&&k!==26&&k!==27||O===null||(D=O,d?(O=$o(s,p),O!=null&&w.unshift(mu(s,O,D))):d||(O=$o(s,p),O!=null&&w.push(mu(s,O,D)))),s=s.return}w.length!==0&&t.push({event:i,listeners:w})}var SL=/\r\n?/g,EL=/\u0000|\uFFFD/g;function G1(t){return(typeof t=="string"?t:""+t).replace(SL,`
`).replace(EL,"")}function K1(t,i){return i=G1(i),G1(t)===i}function Bh(){}function nt(t,i,s,l,d,p){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,s,l);break;case"style":$c(t,l,p);break;case"data":if(i!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Tr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&nt(t,i,"name",d.name,d,null),nt(t,i,"formEncType",d.formEncType,d,null),nt(t,i,"formMethod",d.formMethod,d,null),nt(t,i,"formTarget",d.formTarget,d,null)):(nt(t,i,"encType",d.encType,d,null),nt(t,i,"method",d.method,d,null),nt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Tr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Bh);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Tr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Gi(t,"popover",l);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Fp.get(s)||s,Gi(t,s,l))}}function gg(t,i,s,l,d,p){switch(s){case"style":$c(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),p=t[Lt]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(i,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Gi(t,s,l)}}}function nn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,d=!1,p;for(p in s)if(s.hasOwnProperty(p)){var w=s[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:nt(t,i,p,w,s,null)}}d&&nt(t,i,"srcSet",s.srcSet,s,null),l&&nt(t,i,"src",s.src,s,null);return;case"input":Ue("invalid",t);var k=p=w=d=null,D=null,O=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":d=G;break;case"type":w=G;break;case"checked":D=G;break;case"defaultChecked":O=G;break;case"value":p=G;break;case"defaultValue":k=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,i));break;default:nt(t,i,l,G,s,null)}}Bo(t,p,k,D,O,w,d,!1),Uo(t);return;case"select":Ue("invalid",t),l=w=p=null;for(d in s)if(s.hasOwnProperty(d)&&(k=s[d],k!=null))switch(d){case"value":p=k;break;case"defaultValue":w=k;break;case"multiple":l=k;default:nt(t,i,d,k,s,null)}i=p,s=w,t.multiple=!!l,i!=null?Qe(t,!!l,i,!1):s!=null&&Qe(t,!!l,s,!0);return;case"textarea":Ue("invalid",t),p=d=l=null;for(w in s)if(s.hasOwnProperty(w)&&(k=s[w],k!=null))switch(w){case"value":l=k;break;case"defaultValue":d=k;break;case"children":p=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(91));break;default:nt(t,i,w,k,s,null)}Xi(t,l,d,p),Uo(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,i,D,l,s,null)}return;case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<pu.length;l++)Ue(pu[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:nt(t,i,O,l,s,null)}return;default:if(Pl(i)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&gg(t,i,G,l,s,void 0));return}}for(k in s)s.hasOwnProperty(k)&&(l=s[k],l!=null&&nt(t,i,k,l,s,null))}function kL(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,w=null,k=null,D=null,O=null,G=null;for(Q in s){var ee=s[Q];if(s.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Q)||nt(t,i,Q,null,l,ee)}}for(var q in l){var Q=l[q];if(ee=s[q],l.hasOwnProperty(q)&&(Q!=null||ee!=null))switch(q){case"type":p=Q;break;case"name":d=Q;break;case"checked":O=Q;break;case"defaultChecked":G=Q;break;case"value":w=Q;break;case"defaultValue":k=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,i));break;default:Q!==ee&&nt(t,i,q,Q,l,ee)}}Hi(t,w,k,D,O,G,p,d);return;case"select":Q=w=k=q=null;for(p in s)if(D=s[p],s.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(p)||nt(t,i,p,null,l,D)}for(d in l)if(p=l[d],D=s[d],l.hasOwnProperty(d)&&(p!=null||D!=null))switch(d){case"value":q=p;break;case"defaultValue":k=p;break;case"multiple":w=p;default:p!==D&&nt(t,i,d,p,l,D)}i=k,s=w,l=Q,q!=null?Qe(t,!!s,q,!1):!!l!=!!s&&(i!=null?Qe(t,!!s,i,!0):Qe(t,!!s,s?[]:"",!1));return;case"textarea":Q=q=null;for(k in s)if(d=s[k],s.hasOwnProperty(k)&&d!=null&&!l.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:nt(t,i,k,null,l,d)}for(w in l)if(d=l[w],p=s[w],l.hasOwnProperty(w)&&(d!=null||p!=null))switch(w){case"value":q=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==p&&nt(t,i,w,d,l,p)}zo(t,q,Q);return;case"option":for(var be in s)if(q=s[be],s.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:nt(t,i,be,null,l,q)}for(D in l)if(q=l[D],Q=s[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:nt(t,i,D,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in s)q=s[Ne],s.hasOwnProperty(Ne)&&q!=null&&!l.hasOwnProperty(Ne)&&nt(t,i,Ne,null,l,q);for(O in l)if(q=l[O],Q=s[O],l.hasOwnProperty(O)&&q!==Q&&(q!=null||Q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,i));break;default:nt(t,i,O,q,l,Q)}return;default:if(Pl(i)){for(var vt in s)q=s[vt],s.hasOwnProperty(vt)&&q!==void 0&&!l.hasOwnProperty(vt)&&gg(t,i,vt,void 0,l,q);for(G in l)q=l[G],Q=s[G],!l.hasOwnProperty(G)||q===Q||q===void 0&&Q===void 0||gg(t,i,G,q,l,Q);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&nt(t,i,U,null,l,q);for(ee in l)q=l[ee],Q=s[ee],!l.hasOwnProperty(ee)||q===Q||q==null&&Q==null||nt(t,i,ee,q,l,Q)}var yg=null,vg=null;function zh(t){return t.nodeType===9?t:t.ownerDocument}function H1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function bg(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wg=null;function xL(){var t=window.event;return t&&t.type==="popstate"?t===wg?!1:(wg=t,!0):(wg=null,!1)}var Y1=typeof setTimeout=="function"?setTimeout:void 0,TL=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,CL=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(t){return J1.resolve(null).then(t).catch(IL)}:Y1;function IL(t){setTimeout(function(){throw t})}function Sg(t,i){var s=i,l=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(l===0){t.removeChild(d),ku(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=d}while(s);ku(i)}function Eg(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Eg(s),Fo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function _L(t,i,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence")||p!==d.rel||t.getAttribute("href")!==(d.href==null?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=cr(t.nextSibling),t===null)break}return null}function AL(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=cr(t.nextSibling),t===null))return null;return t}function cr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Z1(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function ex(t,i,s){switch(i=zh(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}var tr=new Map,tx=new Set;function $h(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var pi=J.d;J.d={f:DL,r:PL,D:NL,C:ML,L:LL,m:RL,X:OL,S:VL,M:jL};function DL(){var t=pi.f(),i=Rh();return t||i}function PL(t){var i=Wr(t);i!==null&&i.tag===5&&i.type==="form"?_k(i):pi.r(t)}var Ca=typeof document>"u"?null:document;function nx(t,i,s){var l=Ca;if(l&&typeof i=="string"&&i){var d=xt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),tx.has(d)||(tx.add(d),t={rel:t,crossOrigin:s,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),nn(i,"link",t),ht(i),l.head.appendChild(i)))}}function NL(t){pi.D(t),nx("dns-prefetch",t,null)}function ML(t,i){pi.C(t,i),nx("preconnect",t,i)}function LL(t,i,s){pi.L(t,i,s);var l=Ca;if(l&&t&&i){var d='link[rel="preload"][as="'+xt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+xt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+xt(s.imageSizes)+'"]')):d+='[href="'+xt(t)+'"]';var p=d;switch(i){case"style":p=Ia(t);break;case"script":p=_a(t)}tr.has(p)||(t=N({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),tr.set(p,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(gu(p))||i==="script"&&l.querySelector(yu(p))||(i=l.createElement("link"),nn(i,"link",t),ht(i),l.head.appendChild(i)))}}function RL(t,i){pi.m(t,i);var s=Ca;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(t)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=_a(t)}if(!tr.has(p)&&(t=N({rel:"modulepreload",href:t},i),tr.set(p,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yu(p)))return}l=s.createElement("link"),nn(l,"link",t),ht(l),s.head.appendChild(l)}}}function VL(t,i,s){pi.S(t,i,s);var l=Ca;if(l&&t){var d=Qi(l).hoistableStyles,p=Ia(t);i=i||"default";var w=d.get(p);if(!w){var k={loading:0,preload:null};if(w=l.querySelector(gu(p)))k.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},s),(s=tr.get(p))&&kg(t,s);var D=w=l.createElement("link");ht(D),nn(D,"link",t),D._p=new Promise(function(O,G){D.onload=O,D.onerror=G}),D.addEventListener("load",function(){k.loading|=1}),D.addEventListener("error",function(){k.loading|=2}),k.loading|=4,qh(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:k},d.set(p,w)}}}function OL(t,i){pi.X(t,i);var s=Ca;if(s&&t){var l=Qi(s).hoistableScripts,d=_a(t),p=l.get(d);p||(p=s.querySelector(yu(d)),p||(t=N({src:t,async:!0},i),(i=tr.get(d))&&xg(t,i),p=s.createElement("script"),ht(p),nn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function jL(t,i){pi.M(t,i);var s=Ca;if(s&&t){var l=Qi(s).hoistableScripts,d=_a(t),p=l.get(d);p||(p=s.querySelector(yu(d)),p||(t=N({src:t,async:!0,type:"module"},i),(i=tr.get(d))&&xg(t,i),p=s.createElement("script"),ht(p),nn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function rx(t,i,s,l){var d=(d=et.current)?$h(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ia(s.href),s=Qi(d).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ia(s.href);var p=Qi(d).hoistableStyles,w=p.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,w),(p=d.querySelector(gu(t)))&&!p._p&&(w.instance=p,w.state.loading=5),tr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},tr.set(t,s),p||FL(d,t,s,w.state))),i&&l===null)throw Error(o(528,""));return w}if(i&&l!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=_a(s),s=Qi(d).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Ia(t){return'href="'+xt(t)+'"'}function gu(t){return'link[rel="stylesheet"]['+t+"]"}function ix(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function FL(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",s),ht(i),t.head.appendChild(i))}function _a(t){return'[src="'+xt(t)+'"]'}function yu(t){return"script[async]"+t}function ox(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+xt(s.href)+'"]');if(l)return i.instance=l,ht(l),l;var d=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),nn(l,"style",d),qh(l,s.precedence,t),i.instance=l;case"stylesheet":d=Ia(s.href);var p=t.querySelector(gu(d));if(p)return i.state.loading|=4,i.instance=p,ht(p),p;l=ix(s),(d=tr.get(d))&&kg(l,d),p=(t.ownerDocument||t).createElement("link"),ht(p);var w=p;return w._p=new Promise(function(k,D){w.onload=k,w.onerror=D}),nn(p,"link",l),i.state.loading|=4,qh(p,s.precedence,t),i.instance=p;case"script":return p=_a(s.src),(d=t.querySelector(yu(p)))?(i.instance=d,ht(d),d):(l=s,(d=tr.get(p))&&(l=N({},s),xg(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),ht(d),nn(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qh(l,s.precedence,t));return i.instance}function qh(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,w=0;w<l.length;w++){var k=l[w];if(k.dataset.precedence===i)p=k;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function kg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function xg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wh=null;function sx(t,i,s){if(Wh===null){var l=new Map,d=Wh=new Map;d.set(s,l)}else d=Wh,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var p=s[d];if(!(p[qi]||p[Ut]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=t+w;var k=l.get(w);k?k.push(p):l.set(w,[p])}}return l}function ax(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function UL(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var vu=null;function BL(){}function zL(t,i,s){if(vu===null)throw Error(o(475));var l=vu;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Ia(s.href),p=t.querySelector(gu(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Qh.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=p,ht(p);return}p=t.ownerDocument||t,s=ix(s),(d=tr.get(d))&&kg(s,d),p=p.createElement("link"),ht(p);var w=p;w._p=new Promise(function(k,D){w.onload=k,w.onerror=D}),nn(p,"link",s),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Qh.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function $L(){if(vu===null)throw Error(o(475));var t=vu;return t.stylesheets&&t.count===0&&Tg(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Tg(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gh=null;function Tg(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gh=new Map,i.forEach(qL,t),Gh=null,Qh.call(t))}function qL(t,i){if(!(i.state.loading&4)){var s=Gh.get(t);if(s)var l=s.get(null);else{s=new Map,Gh.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var w=d[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),l=w)}l&&s.set(null,l)}d=i.instance,w=d.getAttribute("data-precedence"),p=s.get(w)||l,p===l&&s.set(null,d),s.set(w,d),this.count++,l=Qh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var bu={$$typeof:A,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function WL(t,i,s,l,d,p,w,k){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function ux(t,i,s,l,d,p,w,k,D,O,G,ee){return t=new WL(t,i,s,w,k,D,O,ee),i=1,p===!0&&(i|=24),p=Zn(3,null,null,i),t.current=p,p.stateNode=t,i=rm(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:i},Om(p),t}function cx(t){return t?(t=sa,t):sa}function hx(t,i,s,l,d,p){d=cx(d),l.context===null?l.context=d:l.pendingContext=d,l=oo(i),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=so(t,l,i),s!==null&&(vn(s,t,i),nu(s,t,i))}function dx(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Cg(t,i){dx(t,i),(t=t.alternate)&&dx(t,i)}function fx(t){if(t.tag===13){var i=Ji(t,67108864);i!==null&&vn(i,t,67108864),Cg(t,67108864)}}var Kh=!0;function QL(t,i,s,l){var d=I.T;I.T=null;var p=J.p;try{J.p=2,Ig(t,i,s,l)}finally{J.p=p,I.T=d}}function GL(t,i,s,l){var d=I.T;I.T=null;var p=J.p;try{J.p=8,Ig(t,i,s,l)}finally{J.p=p,I.T=d}}function Ig(t,i,s,l){if(Kh){var d=_g(l);if(d===null)mg(t,i,l,Hh,s),mx(t,l);else if(HL(d,t,i,s,l))l.stopPropagation();else if(mx(t,l),i&4&&-1<KL.indexOf(t)){for(;d!==null;){var p=Wr(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=or(p.pendingLanes);if(w!==0){var k=p;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var D=1<<31-pn(w);k.entanglements[1]|=D,w&=~D}Rr(p),(ft&6)===0&&(Nh=Yt()+500,fu(0))}}break;case 13:k=Ji(p,2),k!==null&&vn(k,p,2),Rh(),Cg(p,2)}if(p=_g(l),p===null&&mg(t,i,l,Hh,s),p===d)break;d=p}d!==null&&l.stopPropagation()}else mg(t,i,l,null,s)}}function _g(t){return t=Ks(t),Ag(t)}var Hh=null;function Ag(t){if(Hh=null,t=sr(t),t!==null){var i=ve(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=We(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hh=t,null}function px(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bs()){case mt:return 2;case It:return 8;case ir:case Vo:return 32;case Oi:return 268435456;default:return 32}default:return 32}}var Dg=!1,po=null,mo=null,go=null,wu=new Map,Su=new Map,yo=[],KL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mx(t,i){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":wu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(i.pointerId)}}function Eu(t,i,s,l,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Wr(i),i!==null&&fx(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function HL(t,i,s,l,d){switch(i){case"focusin":return po=Eu(po,t,i,s,l,d),!0;case"dragenter":return mo=Eu(mo,t,i,s,l,d),!0;case"mouseover":return go=Eu(go,t,i,s,l,d),!0;case"pointerover":var p=d.pointerId;return wu.set(p,Eu(wu.get(p)||null,t,i,s,l,d)),!0;case"gotpointercapture":return p=d.pointerId,Su.set(p,Eu(Su.get(p)||null,t,i,s,l,d)),!0}return!1}function gx(t){var i=sr(t.target);if(i!==null){var s=ve(i);if(s!==null){if(i=s.tag,i===13){if(i=We(s),i!==null){t.blockedOn=i,$i(t.priority,function(){if(s.tag===13){var l=On(),d=Ji(s,l);d!==null&&vn(d,s,l),Cg(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=_g(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);$n=l,s.target.dispatchEvent(l),$n=null}else return i=Wr(s),i!==null&&fx(i),t.blockedOn=s,!1;i.shift()}return!0}function yx(t,i,s){Xh(t)&&s.delete(i)}function XL(){Dg=!1,po!==null&&Xh(po)&&(po=null),mo!==null&&Xh(mo)&&(mo=null),go!==null&&Xh(go)&&(go=null),wu.forEach(yx),Su.forEach(yx)}function Yh(t,i){t.blockedOn===i&&(t.blockedOn=null,Dg||(Dg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XL)))}var Jh=null;function vx(t){Jh!==t&&(Jh=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Jh===t&&(Jh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Ag(l||s)===null)continue;break}var p=Wr(s);p!==null&&(t.splice(i,3),i-=3,bm(p,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function ku(t){function i(D){return Yh(D,t)}po!==null&&Yh(po,t),mo!==null&&Yh(mo,t),go!==null&&Yh(go,t),wu.forEach(i),Su.forEach(i);for(var s=0;s<yo.length;s++){var l=yo[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yo.length&&(s=yo[0],s.blockedOn===null);)gx(s),s.blockedOn===null&&yo.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],p=s[l+1],w=d[Lt]||null;if(typeof p=="function")w||vx(s);else if(w){var k=null;if(p&&p.hasAttribute("formAction")){if(d=p,w=p[Lt]||null)k=w.formAction;else if(Ag(d)!==null)continue}else k=w.action;typeof k=="function"?s[l+1]=k:(s.splice(l,3),l-=3),vx(s)}}}function Pg(t){this._internalRoot=t}Zh.prototype.render=Pg.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,l=On();hx(s,l,t,i,null,null)},Zh.prototype.unmount=Pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&ka(),hx(t.current,2,null,t,null,null),Rh(),i[qr]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Uc();t={blockedOn:null,target:t,priority:i};for(var s=0;s<yo.length&&i!==0&&i<yo[s].priority;s++);yo.splice(s,0,t),s===0&&gx(t)}};var bx=e.version;if(bx!=="19.0.0")throw Error(o(527,bx,"19.0.0"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=_(i),t=t!==null?Y(t):null,t=t===null?null:t.stateNode,t};var YL={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:sr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{wr=ed.inject(YL),hn=ed}catch{}}return Pa.createRoot=function(t,i){if(!a(t))throw Error(o(299));var s=!1,l="",d=Vk,p=Ok,w=jk,k=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(k=i.unstable_transitionCallbacks)),i=ux(t,1,!1,null,null,s,l,d,p,w,k,null),t[qr]=i.current,pg(t.nodeType===8?t.parentNode:t),new Pg(i)},Pa.hydrateRoot=function(t,i,s){if(!a(t))throw Error(o(299));var l=!1,d="",p=Vk,w=Ok,k=jk,D=null,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(O=s.formState)),i=ux(t,1,!0,i,s??null,l,d,p,w,k,D,O),i.context=cx(null),s=i.current,l=On(),d=oo(l),d.callback=null,so(s,d,l),i.current.lanes=l,kt(i,l),Rr(i),t[qr]=i.current,pg(t),new Zh(i)},Pa.version="19.0.0",Pa}var $g;function _x(){if($g)return rd.exports;$g=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rd.exports=Ix(),rd.exports}var Ax=_x();const Dx=xu(Ax),Px=()=>{};var qg={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wg=function(n){const e=[];let r=0;for(let o=0;o<n.length;o++){let a=n.charCodeAt(o);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++o)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Nx=function(n){const e=[];let r=0,o=0;for(;r<n.length;){const a=n[r++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[r++];e[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[r++],h=n[r++],f=n[r++],m=((a&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(m>>10)),e[o++]=String.fromCharCode(56320+(m&1023))}else{const u=n[r++],h=n[r++];e[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Qg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,f=h?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=u>>2,S=(u&3)<<4|f>>4;let T=(f&15)<<2|g>>6,A=g&63;m||(A=64,h||(T=64)),o.push(r[v],r[S],r[T],r[A])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Wg(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Nx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<n.length;){const u=r[n.charAt(a++)],h=a<n.length?r[n.charAt(a)]:0;++a;const f=a<n.length?r[n.charAt(a)]:64;++a;const m=a<n.length?r[n.charAt(a)]:64;if(++a,u==null||h==null||f==null||m==null)throw new Mx;const g=u<<2|h>>4;if(o.push(g),f!==64){const v=h<<4&240|f>>2;if(o.push(v),m!==64){const S=f<<6&192|m;o.push(S)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Mx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lx=function(n){const e=Wg(n);return Qg.encodeByteArray(e,!0)},Tu=function(n){return Lx(n).replace(/\./g,"")},Rx=function(n){try{return Qg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ox=()=>Vx().__FIREBASE_DEFAULTS__,jx=()=>{if(typeof process>"u"||typeof qg>"u")return;const n=qg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Fx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Rx(n[1]);return e&&JSON.parse(e)},od=()=>{try{return Px()||Ox()||jx()||Fx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ux=n=>{var e,r;return(r=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},Bx=n=>{const e=Ux(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},Gg=()=>{var n;return(n=od())===null||n===void 0?void 0:n.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $x(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Tu(JSON.stringify(r)),Tu(JSON.stringify(h)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wx(){var n;const e=(n=od())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kg(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Qx(){return!Wx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sd(){try{return typeof indexedDB=="object"}catch{return!1}}function ad(){return new Promise((n,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),n(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function Hg(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gx="FirebaseError";class gi extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=Gx,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?Kx(u,o):"Error",f=`${this.serviceName}: ${h} (${a}).`;return new gi(a,f,o)}}function Kx(n,e){return n.replace(Hx,(r,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const Hx=/\{\$([^}]+)}/g;function Na(n,e){if(n===e)return!0;const r=Object.keys(n),o=Object.keys(e);for(const a of r){if(!o.includes(a))return!1;const u=n[a],h=e[a];if(Xg(u)&&Xg(h)){if(!Na(u,h))return!1}else if(u!==h)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function Xg(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xx=1e3,Yx=2,Jx=14400*1e3,Zx=.5;function Yg(n,e=Xx,r=Yx){const o=e*Math.pow(r,n),a=Math.round(Zx*o*(Math.random()-.5)*2);return Math.min(Jx,o+a)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nr(n){return n&&n._delegate?n._delegate:n}class Vr{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bo="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e2{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new zx;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n2(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);o===f&&h.resolve(a)}return a}onInit(e,r){var o;const a=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:t2(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t2(n){return n===bo?void 0:n}function n2(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new e2(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const i2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},o2=Be.INFO,s2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},a2=(n,e,...r)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),a=s2[e];if(a)console[a](`[${o}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ld{constructor(e){this.name=e,this._logLevel=o2,this._logHandler=a2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const l2=(n,e)=>e.some(r=>n instanceof r);let Jg,Zg;function u2(){return Jg||(Jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return Zg||(Zg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ey=new WeakMap,ud=new WeakMap,ty=new WeakMap,cd=new WeakMap,hd=new WeakMap;function h2(n){const e=new Promise((r,o)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{r(yi(n.result)),a()},h=()=>{o(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&ey.set(r,n)}).catch(()=>{}),hd.set(e,n),e}function d2(n){if(ud.has(n))return;const e=new Promise((r,o)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{r(),a()},h=()=>{o(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});ud.set(n,e)}let dd={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return ud.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ty.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yi(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function f2(n){dd=n(dd)}function p2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=n.call(fd(this),e,...r);return ty.set(o,e.sort?e.sort():[e]),yi(o)}:c2().includes(n)?function(...e){return n.apply(fd(this),e),yi(ey.get(this))}:function(...e){return yi(n.apply(fd(this),e))}}function m2(n){return typeof n=="function"?p2(n):(n instanceof IDBTransaction&&d2(n),l2(n,u2())?new Proxy(n,dd):n)}function yi(n){if(n instanceof IDBRequest)return h2(n);if(cd.has(n))return cd.get(n);const e=m2(n);return e!==n&&(cd.set(n,e),hd.set(e,n)),e}const fd=n=>hd.get(n);function ny(n,e,{blocked:r,upgrade:o,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),f=yi(h);return o&&h.addEventListener("upgradeneeded",m=>{o(yi(h.result),m.oldVersion,m.newVersion,yi(h.transaction),m)}),r&&h.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),f.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const g2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],pd=new Map;function ry(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,a=y2.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||g2.includes(r)))return;const u=async function(h,...f){const m=this.transaction(h,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(f.shift())),(await Promise.all([g[r](...f),a&&m.done]))[0]};return pd.set(e,u),u}f2(n=>({...n,get:(e,r,o)=>ry(e,r)||n.get(e,r,o),has:(e,r)=>!!ry(e,r)||n.has(e,r)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(b2(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function b2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const md="@firebase/app",iy="0.11.3";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Or=new ld("@firebase/app"),w2="@firebase/app-compat",S2="@firebase/analytics-compat",E2="@firebase/analytics",k2="@firebase/app-check-compat",x2="@firebase/app-check",T2="@firebase/auth",C2="@firebase/auth-compat",I2="@firebase/database",_2="@firebase/data-connect",A2="@firebase/database-compat",D2="@firebase/functions",P2="@firebase/functions-compat",N2="@firebase/installations",M2="@firebase/installations-compat",L2="@firebase/messaging",R2="@firebase/messaging-compat",V2="@firebase/performance",O2="@firebase/performance-compat",j2="@firebase/remote-config",F2="@firebase/remote-config-compat",U2="@firebase/storage",B2="@firebase/storage-compat",z2="@firebase/firestore",$2="@firebase/vertexai",q2="@firebase/firestore-compat",W2="firebase",Q2="11.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gd="[DEFAULT]",G2={[md]:"fire-core",[w2]:"fire-core-compat",[E2]:"fire-analytics",[S2]:"fire-analytics-compat",[x2]:"fire-app-check",[k2]:"fire-app-check-compat",[T2]:"fire-auth",[C2]:"fire-auth-compat",[I2]:"fire-rtdb",[_2]:"fire-data-connect",[A2]:"fire-rtdb-compat",[D2]:"fire-fn",[P2]:"fire-fn-compat",[N2]:"fire-iid",[M2]:"fire-iid-compat",[L2]:"fire-fcm",[R2]:"fire-fcm-compat",[V2]:"fire-perf",[O2]:"fire-perf-compat",[j2]:"fire-rc",[F2]:"fire-rc-compat",[U2]:"fire-gcs",[B2]:"fire-gcs-compat",[z2]:"fire-fst",[q2]:"fire-fst-compat",[$2]:"fire-vertex","fire-js":"fire-js",[W2]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Iu=new Map,K2=new Map,yd=new Map;function oy(n,e){try{n.container.addComponent(e)}catch(r){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function vi(n){const e=n.name;if(yd.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;yd.set(e,n);for(const r of Iu.values())oy(r,n);for(const r of K2.values())oy(r,n);return!0}function Ma(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function H2(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Cu("app","Firebase",X2);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y2{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J2=Q2;function sy(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const o=Object.assign({name:gd,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw bi.create("bad-app-name",{appName:String(a)});if(r||(r=Gg()),!r)throw bi.create("no-options");const u=Iu.get(a);if(u){if(Na(r,u.options)&&Na(o,u.config))return u;throw bi.create("duplicate-app",{appName:a})}const h=new r2(a);for(const m of yd.values())h.addComponent(m);const f=new Y2(r,o,h);return Iu.set(a,f),f}function ay(n=gd){const e=Iu.get(n);if(!e&&n===gd&&Gg())return sy();if(!e)throw bi.create("no-app",{appName:n});return e}function hr(n,e,r){var o;let a=(o=G2[n])!==null&&o!==void 0?o:n;r&&(a+=`-${r}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${a}" with version "${e}":`];u&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(f.join(" "));return}vi(new Vr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Z2="firebase-heartbeat-database",eT=1,La="firebase-heartbeat-store";let vd=null;function ly(){return vd||(vd=ny(Z2,eT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(La)}catch(r){console.warn(r)}}}}).catch(n=>{throw bi.create("idb-open",{originalErrorMessage:n.message})})),vd}async function tT(n){try{const e=(await ly()).transaction(La),r=await e.objectStore(La).get(cy(n));return await e.done,r}catch(e){if(e instanceof gi)Or.warn(e.message);else{const r=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(r.message)}}}async function uy(n,e){try{const r=(await ly()).transaction(La,"readwrite");await r.objectStore(La).put(e,cy(n)),await r.done}catch(r){if(r instanceof gi)Or.warn(r.message);else{const o=bi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Or.warn(o.message)}}}function cy(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nT=1024,rT=30;class iT{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new sT(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>rT){const u=aT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){Or.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hy(),{heartbeatsToSend:o,unsentEntries:a}=oT(this._heartbeatsCache.heartbeats),u=Tu(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Or.warn(r),""}}}function hy(){return new Date().toISOString().substring(0,10)}function oT(n,e=nT){const r=[];let o=n.slice();for(const a of n){const u=r.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),dy(r)>e){u.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),dy(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class sT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sd()?ad().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await tT(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function dy(n){return Tu(JSON.stringify({version:2,heartbeats:n})).length}function aT(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let o=1;o<n.length;o++)n[o].date<r&&(r=n[o].date,e=o);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lT(n){vi(new Vr("platform-logger",e=>new v2(e),"PRIVATE")),vi(new Vr("heartbeat",e=>new iT(e),"PRIVATE")),hr(md,iy,n),hr(md,iy,"esm2017"),hr("fire-js","")}lT("");const fy="@firebase/installations",bd="0.6.13";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const py=1e4,my=`w:${bd}`,gy="FIS_v2",uT="https://firebaseinstallations.googleapis.com/v1",cT=3600*1e3,hT="installations",dT="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wo=new Cu(hT,dT,fT);function yy(n){return n instanceof gi&&n.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vy({projectId:n}){return`${uT}/projects/${n}/installations`}function by(n){return{token:n.token,requestStatus:2,expiresIn:mT(n.expiresIn),creationTime:Date.now()}}async function wy(n,e){const r=(await e.json()).error;return wo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Sy({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pT(n,{refreshToken:e}){const r=Sy(n);return r.append("Authorization",gT(e)),r}async function Ey(n){const e=await n();return e.status>=500&&e.status<600?n():e}function mT(n){return Number(n.replace("s","000"))}function gT(n){return`${gy} ${n}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yT({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const o=vy(n),a=Sy(n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const h={fid:r,authVersion:gy,appId:n.appId,sdkVersion:my},f={method:"POST",headers:a,body:JSON.stringify(h)},m=await Ey(()=>fetch(o,f));if(m.ok){const g=await m.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:by(g.authToken)}}else throw await wy("Create Installation",m)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ky(n){return new Promise(e=>{setTimeout(e,n)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vT(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bT=/^[cdef][\w-]{21}$/,wd="";function wT(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=ST(n);return bT.test(e)?e:wd}catch{return wd}}function ST(n){return vT(n).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _u(n){return`${n.appName}!${n.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xy=new Map;function Ty(n,e){const r=_u(n);Cy(r,e),ET(r,e)}function Cy(n,e){const r=xy.get(n);if(r)for(const o of r)o(e)}function ET(n,e){const r=kT();r&&r.postMessage({key:n,fid:e}),xT()}let So=null;function kT(){return!So&&"BroadcastChannel"in self&&(So=new BroadcastChannel("[Firebase] FID Change"),So.onmessage=n=>{Cy(n.data.key,n.data.fid)}),So}function xT(){xy.size===0&&So&&(So.close(),So=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TT="firebase-installations-database",CT=1,Eo="firebase-installations-store";let Sd=null;function Ed(){return Sd||(Sd=ny(TT,CT,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Eo)}}})),Sd}async function Au(n,e){const r=_u(n),o=(await Ed()).transaction(Eo,"readwrite"),a=o.objectStore(Eo),u=await a.get(r);return await a.put(e,r),await o.done,(!u||u.fid!==e.fid)&&Ty(n,e.fid),e}async function Iy(n){const e=_u(n),r=(await Ed()).transaction(Eo,"readwrite");await r.objectStore(Eo).delete(e),await r.done}async function Du(n,e){const r=_u(n),o=(await Ed()).transaction(Eo,"readwrite"),a=o.objectStore(Eo),u=await a.get(r),h=e(u);return h===void 0?await a.delete(r):await a.put(h,r),await o.done,h&&(!u||u.fid!==h.fid)&&Ty(n,h.fid),h}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function kd(n){let e;const r=await Du(n.appConfig,o=>{const a=IT(o),u=_T(n,a);return e=u.registrationPromise,u.installationEntry});return r.fid===wd?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function IT(n){const e=n||{fid:wT(),registrationStatus:0};return Ay(e)}function _T(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(wo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=AT(n,r);return{installationEntry:r,registrationPromise:o}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DT(n)}:{installationEntry:e}}async function AT(n,e){try{const r=await yT(n,e);return Au(n.appConfig,r)}catch(r){throw yy(r)&&r.customData.serverCode===409?await Iy(n.appConfig):await Au(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function DT(n){let e=await _y(n.appConfig);for(;e.registrationStatus===1;)await ky(100),e=await _y(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:o}=await kd(n);return o||r}return e}function _y(n){return Du(n,e=>{if(!e)throw wo.create("installation-not-found");return Ay(e)})}function Ay(n){return PT(n)?{fid:n.fid,registrationStatus:0}:n}function PT(n){return n.registrationStatus===1&&n.registrationTime+py<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function NT({appConfig:n,heartbeatServiceProvider:e},r){const o=MT(n,r),a=pT(n,r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const h={installation:{sdkVersion:my,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(h)},m=await Ey(()=>fetch(o,f));if(m.ok){const g=await m.json();return by(g)}else throw await wy("Generate Auth Token",m)}function MT(n,{fid:e}){return`${vy(n)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function xd(n,e=!1){let r;const o=await Du(n.appConfig,a=>{if(!Py(a))throw wo.create("not-registered");const u=a.authToken;if(!e&&VT(u))return a;if(u.requestStatus===1)return r=LT(n,e),a;{if(!navigator.onLine)throw wo.create("app-offline");const h=jT(a);return r=RT(n,h),h}});return r?await r:o.authToken}async function LT(n,e){let r=await Dy(n.appConfig);for(;r.authToken.requestStatus===1;)await ky(100),r=await Dy(n.appConfig);const o=r.authToken;return o.requestStatus===0?xd(n,e):o}function Dy(n){return Du(n,e=>{if(!Py(e))throw wo.create("not-registered");const r=e.authToken;return FT(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function RT(n,e){try{const r=await NT(n,e),o=Object.assign(Object.assign({},e),{authToken:r});return await Au(n.appConfig,o),r}catch(r){if(yy(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Iy(n.appConfig);else{const o=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Au(n.appConfig,o)}throw r}}function Py(n){return n!==void 0&&n.registrationStatus===2}function VT(n){return n.requestStatus===2&&!OT(n)}function OT(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+cT}function jT(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function FT(n){return n.requestStatus===1&&n.requestTime+py<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function UT(n){const e=n,{installationEntry:r,registrationPromise:o}=await kd(e);return o?o.catch(console.error):xd(e).catch(console.error),r.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BT(n,e=!1){const r=n;return await zT(r),(await xd(r,e)).token}async function zT(n){const{registrationPromise:e}=await kd(n);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $T(n){if(!n||!n.options)throw Td("App Configuration");if(!n.name)throw Td("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw Td(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Td(n){return wo.create("missing-app-config-values",{valueName:n})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ny="installations",qT="installations-internal",WT=n=>{const e=n.getProvider("app").getImmediate(),r=$T(e),o=Ma(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},QT=n=>{const e=n.getProvider("app").getImmediate(),r=Ma(e,Ny).getImmediate();return{getId:()=>UT(r),getToken:o=>BT(r,o)}};function GT(){vi(new Vr(Ny,WT,"PUBLIC")),vi(new Vr(qT,QT,"PRIVATE"))}GT(),hr(fy,bd),hr(fy,bd,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pu="analytics",KT="firebase_id",HT="origin",XT=60*1e3,YT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cd="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wn=new ld("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JT={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new Cu("analytics","Analytics",JT);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZT(n){if(!n.startsWith(Cd)){const e=In.create("invalid-gtag-resource",{gtagURL:n});return wn.warn(e.message),""}return n}function My(n){return Promise.all(n.map(e=>e.catch(r=>r)))}function eC(n,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,e)),r}function tC(n,e){const r=eC("firebase-js-sdk-policy",{createScriptURL:ZT}),o=document.createElement("script"),a=`${Cd}?l=${n}&id=${e}`;o.src=r?r==null?void 0:r.createScriptURL(a):a,o.async=!0,document.head.appendChild(o)}function nC(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rC(n,e,r,o,a,u){const h=o[a];try{if(h)await e[h];else{const f=(await My(r)).find(m=>m.measurementId===a);f&&await e[f.appId]}}catch(f){wn.error(f)}n("config",a,u)}async function iC(n,e,r,o,a){try{let u=[];if(a&&a.send_to){let h=a.send_to;Array.isArray(h)||(h=[h]);const f=await My(r);for(const m of h){const g=f.find(S=>S.measurementId===m),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",o,a||{})}catch(u){wn.error(u)}}function oC(n,e,r,o){async function a(u,...h){try{if(u==="event"){const[f,m]=h;await iC(n,e,r,f,m)}else if(u==="config"){const[f,m]=h;await rC(n,e,r,o,f,m)}else if(u==="consent"){const[f,m]=h;n("consent",f,m)}else if(u==="get"){const[f,m,g]=h;n("get",f,m,g)}else if(u==="set"){const[f]=h;n("set",f)}else n(u,...h)}catch(f){wn.error(f)}}return a}function sC(n,e,r,o,a){let u=function(...h){window[o].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=oC(u,n,e,r),{gtagCore:u,wrappedGtag:window[a]}}function aC(n){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Cd)&&r.src.includes(n))return r;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lC=30,uC=1e3;class cC{constructor(e={},r=uC){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ly=new cC;function hC(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function dC(n){var e;const{appId:r,apiKey:o}=n,a={method:"GET",headers:hC(o)},u=YT.replace("{app-id}",r),h=await fetch(u,a);if(h.status!==200&&h.status!==304){let f="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(f=m.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function fC(n,e=Ly,r){const{appId:o,apiKey:a,measurementId:u}=n.options;if(!o)throw In.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:o};throw In.create("no-api-key")}const h=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new gC;return setTimeout(async()=>{f.abort()},XT),Ry({appId:o,apiKey:a,measurementId:u},h,f,e)}async function Ry(n,{throttleEndTimeMillis:e,backoffCount:r},o,a=Ly){var u;const{appId:h,measurementId:f}=n;try{await pC(o,e)}catch(m){if(f)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:f};throw m}try{const m=await dC(n);return a.deleteThrottleMetadata(h),m}catch(m){const g=m;if(!mC(g)){if(a.deleteThrottleMetadata(h),f)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw m}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Yg(r,a.intervalMillis,lC):Yg(r,a.intervalMillis),S={throttleEndTimeMillis:Date.now()+v,backoffCount:r+1};return a.setThrottleMetadata(h,S),wn.debug(`Calling attemptFetch again in ${v} millis`),Ry(n,S,o,a)}}function pC(n,e){return new Promise((r,o)=>{const a=Math.max(e-Date.now(),0),u=setTimeout(r,a);n.addEventListener(()=>{clearTimeout(u),o(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mC(n){if(!(n instanceof gi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yC(n,e,r,o,a){if(a&&a.global){n("event",r,o);return}else{const u=await e,h=Object.assign(Object.assign({},o),{send_to:u});n("event",r,h)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vC(){if(sd())try{await ad()}catch(n){return wn.warn(In.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return wn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bC(n,e,r,o,a,u,h){var f;const m=fC(n);m.then(A=>{r[A.measurementId]=A.appId,n.options.measurementId&&A.measurementId!==n.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>wn.error(A)),e.push(m);const g=vC().then(A=>{if(A)return o.getId()}),[v,S]=await Promise.all([m,g]);aC(u)||tC(u,v.measurementId),a("js",new Date);const T=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return T[HT]="firebase",T.update=!0,S!=null&&(T[KT]=S),a("config",v.measurementId,T),v.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wC{constructor(e){this.app=e}_delete(){return delete Ra[this.app.options.appId],Promise.resolve()}}let Ra={},Vy=[];const Oy={};let Id="dataLayer",SC="gtag",jy,Fy,Uy=!1;function EC(){const n=[];if(Kg()&&n.push("This is a browser extension environment."),Hg()||n.push("Cookies are not available."),n.length>0){const e=n.map((o,a)=>`(${a+1}) ${o}`).join(" "),r=In.create("invalid-analytics-context",{errorInfo:e});wn.warn(r.message)}}function kC(n,e,r){EC();const o=n.options.appId;if(!o)throw In.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(Ra[o]!=null)throw In.create("already-exists",{id:o});if(!Uy){nC(Id);const{wrappedGtag:a,gtagCore:u}=sC(Ra,Vy,Oy,Id,SC);Fy=a,jy=u,Uy=!0}return Ra[o]=bC(n,Vy,Oy,e,jy,Id,r),new wC(n)}function xC(n=ay()){n=nr(n);const e=Ma(n,Pu);return e.isInitialized()?e.getImmediate():TC(n)}function TC(n,e={}){const r=Ma(n,Pu);if(r.isInitialized()){const o=r.getImmediate();if(Na(e,r.getOptions()))return o;throw In.create("already-initialized")}return r.initialize({options:e})}async function CC(){if(Kg()||!Hg()||!sd())return!1;try{return await ad()}catch{return!1}}function By(n,e,r,o){n=nr(n),yC(Fy,Ra[n.app.options.appId],e,r,o).catch(a=>wn.error(a))}const zy="@firebase/analytics",$y="0.10.12";function IC(){vi(new Vr(Pu,(e,{options:r})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return kC(o,a,r)},"PUBLIC")),vi(new Vr("analytics-internal",n,"PRIVATE")),hr(zy,$y),hr(zy,$y,"esm2017");function n(e){try{const r=e.getProvider(Pu).getImmediate();return{logEvent:(o,a,u)=>By(r,o,a,u)}}catch(r){throw In.create("interop-component-reg-failed",{reason:r})}}}IC();var _C="firebase",AC="11.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/hr(_C,AC,"app");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,Wy;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,C){function I(){}I.prototype=C.prototype,L.D=C.prototype,L.prototype=new I,L.prototype.constructor=L,L.C=function(N,M,F){for(var P=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)P[$e-2]=arguments[$e];return C.prototype[M].apply(N,P)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,C,I){I||(I=0);var N=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)N[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)N[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=L.g[0],I=L.g[1],M=L.g[2];var F=L.g[3],P=C+(F^I&(M^F))+N[0]+3614090360&4294967295;C=I+(P<<7&4294967295|P>>>25),P=F+(M^C&(I^M))+N[1]+3905402710&4294967295,F=C+(P<<12&4294967295|P>>>20),P=M+(I^F&(C^I))+N[2]+606105819&4294967295,M=F+(P<<17&4294967295|P>>>15),P=I+(C^M&(F^C))+N[3]+3250441966&4294967295,I=M+(P<<22&4294967295|P>>>10),P=C+(F^I&(M^F))+N[4]+4118548399&4294967295,C=I+(P<<7&4294967295|P>>>25),P=F+(M^C&(I^M))+N[5]+1200080426&4294967295,F=C+(P<<12&4294967295|P>>>20),P=M+(I^F&(C^I))+N[6]+2821735955&4294967295,M=F+(P<<17&4294967295|P>>>15),P=I+(C^M&(F^C))+N[7]+4249261313&4294967295,I=M+(P<<22&4294967295|P>>>10),P=C+(F^I&(M^F))+N[8]+1770035416&4294967295,C=I+(P<<7&4294967295|P>>>25),P=F+(M^C&(I^M))+N[9]+2336552879&4294967295,F=C+(P<<12&4294967295|P>>>20),P=M+(I^F&(C^I))+N[10]+4294925233&4294967295,M=F+(P<<17&4294967295|P>>>15),P=I+(C^M&(F^C))+N[11]+2304563134&4294967295,I=M+(P<<22&4294967295|P>>>10),P=C+(F^I&(M^F))+N[12]+1804603682&4294967295,C=I+(P<<7&4294967295|P>>>25),P=F+(M^C&(I^M))+N[13]+4254626195&4294967295,F=C+(P<<12&4294967295|P>>>20),P=M+(I^F&(C^I))+N[14]+2792965006&4294967295,M=F+(P<<17&4294967295|P>>>15),P=I+(C^M&(F^C))+N[15]+1236535329&4294967295,I=M+(P<<22&4294967295|P>>>10),P=C+(M^F&(I^M))+N[1]+4129170786&4294967295,C=I+(P<<5&4294967295|P>>>27),P=F+(I^M&(C^I))+N[6]+3225465664&4294967295,F=C+(P<<9&4294967295|P>>>23),P=M+(C^I&(F^C))+N[11]+643717713&4294967295,M=F+(P<<14&4294967295|P>>>18),P=I+(F^C&(M^F))+N[0]+3921069994&4294967295,I=M+(P<<20&4294967295|P>>>12),P=C+(M^F&(I^M))+N[5]+3593408605&4294967295,C=I+(P<<5&4294967295|P>>>27),P=F+(I^M&(C^I))+N[10]+38016083&4294967295,F=C+(P<<9&4294967295|P>>>23),P=M+(C^I&(F^C))+N[15]+3634488961&4294967295,M=F+(P<<14&4294967295|P>>>18),P=I+(F^C&(M^F))+N[4]+3889429448&4294967295,I=M+(P<<20&4294967295|P>>>12),P=C+(M^F&(I^M))+N[9]+568446438&4294967295,C=I+(P<<5&4294967295|P>>>27),P=F+(I^M&(C^I))+N[14]+3275163606&4294967295,F=C+(P<<9&4294967295|P>>>23),P=M+(C^I&(F^C))+N[3]+4107603335&4294967295,M=F+(P<<14&4294967295|P>>>18),P=I+(F^C&(M^F))+N[8]+1163531501&4294967295,I=M+(P<<20&4294967295|P>>>12),P=C+(M^F&(I^M))+N[13]+2850285829&4294967295,C=I+(P<<5&4294967295|P>>>27),P=F+(I^M&(C^I))+N[2]+4243563512&4294967295,F=C+(P<<9&4294967295|P>>>23),P=M+(C^I&(F^C))+N[7]+1735328473&4294967295,M=F+(P<<14&4294967295|P>>>18),P=I+(F^C&(M^F))+N[12]+2368359562&4294967295,I=M+(P<<20&4294967295|P>>>12),P=C+(I^M^F)+N[5]+4294588738&4294967295,C=I+(P<<4&4294967295|P>>>28),P=F+(C^I^M)+N[8]+2272392833&4294967295,F=C+(P<<11&4294967295|P>>>21),P=M+(F^C^I)+N[11]+1839030562&4294967295,M=F+(P<<16&4294967295|P>>>16),P=I+(M^F^C)+N[14]+4259657740&4294967295,I=M+(P<<23&4294967295|P>>>9),P=C+(I^M^F)+N[1]+2763975236&4294967295,C=I+(P<<4&4294967295|P>>>28),P=F+(C^I^M)+N[4]+1272893353&4294967295,F=C+(P<<11&4294967295|P>>>21),P=M+(F^C^I)+N[7]+4139469664&4294967295,M=F+(P<<16&4294967295|P>>>16),P=I+(M^F^C)+N[10]+3200236656&4294967295,I=M+(P<<23&4294967295|P>>>9),P=C+(I^M^F)+N[13]+681279174&4294967295,C=I+(P<<4&4294967295|P>>>28),P=F+(C^I^M)+N[0]+3936430074&4294967295,F=C+(P<<11&4294967295|P>>>21),P=M+(F^C^I)+N[3]+3572445317&4294967295,M=F+(P<<16&4294967295|P>>>16),P=I+(M^F^C)+N[6]+76029189&4294967295,I=M+(P<<23&4294967295|P>>>9),P=C+(I^M^F)+N[9]+3654602809&4294967295,C=I+(P<<4&4294967295|P>>>28),P=F+(C^I^M)+N[12]+3873151461&4294967295,F=C+(P<<11&4294967295|P>>>21),P=M+(F^C^I)+N[15]+530742520&4294967295,M=F+(P<<16&4294967295|P>>>16),P=I+(M^F^C)+N[2]+3299628645&4294967295,I=M+(P<<23&4294967295|P>>>9),P=C+(M^(I|~F))+N[0]+4096336452&4294967295,C=I+(P<<6&4294967295|P>>>26),P=F+(I^(C|~M))+N[7]+1126891415&4294967295,F=C+(P<<10&4294967295|P>>>22),P=M+(C^(F|~I))+N[14]+2878612391&4294967295,M=F+(P<<15&4294967295|P>>>17),P=I+(F^(M|~C))+N[5]+4237533241&4294967295,I=M+(P<<21&4294967295|P>>>11),P=C+(M^(I|~F))+N[12]+1700485571&4294967295,C=I+(P<<6&4294967295|P>>>26),P=F+(I^(C|~M))+N[3]+2399980690&4294967295,F=C+(P<<10&4294967295|P>>>22),P=M+(C^(F|~I))+N[10]+4293915773&4294967295,M=F+(P<<15&4294967295|P>>>17),P=I+(F^(M|~C))+N[1]+2240044497&4294967295,I=M+(P<<21&4294967295|P>>>11),P=C+(M^(I|~F))+N[8]+1873313359&4294967295,C=I+(P<<6&4294967295|P>>>26),P=F+(I^(C|~M))+N[15]+4264355552&4294967295,F=C+(P<<10&4294967295|P>>>22),P=M+(C^(F|~I))+N[6]+2734768916&4294967295,M=F+(P<<15&4294967295|P>>>17),P=I+(F^(M|~C))+N[13]+1309151649&4294967295,I=M+(P<<21&4294967295|P>>>11),P=C+(M^(I|~F))+N[4]+4149444226&4294967295,C=I+(P<<6&4294967295|P>>>26),P=F+(I^(C|~M))+N[11]+3174756917&4294967295,F=C+(P<<10&4294967295|P>>>22),P=M+(C^(F|~I))+N[2]+718787259&4294967295,M=F+(P<<15&4294967295|P>>>17),P=I+(F^(M|~C))+N[9]+3951481745&4294967295,L.g[0]=L.g[0]+C&4294967295,L.g[1]=L.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,L.g[2]=L.g[2]+M&4294967295,L.g[3]=L.g[3]+F&4294967295}o.prototype.u=function(L,C){C===void 0&&(C=L.length);for(var I=C-this.blockSize,N=this.B,M=this.h,F=0;F<C;){if(M==0)for(;F<=I;)a(this,L,F),F+=this.blockSize;if(typeof L=="string"){for(;F<C;)if(N[M++]=L.charCodeAt(F++),M==this.blockSize){a(this,N),M=0;break}}else for(;F<C;)if(N[M++]=L[F++],M==this.blockSize){a(this,N),M=0;break}}this.h=M,this.o+=C},o.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var C=1;C<L.length-8;++C)L[C]=0;var I=8*this.o;for(C=L.length-8;C<L.length;++C)L[C]=I&255,I/=256;for(this.u(L),L=Array(16),C=I=0;4>C;++C)for(var N=0;32>N;N+=8)L[I++]=this.g[C]>>>N&255;return L};function u(L,C){var I=f;return Object.prototype.hasOwnProperty.call(I,L)?I[L]:I[L]=C(L)}function h(L,C){this.h=C;for(var I=[],N=!0,M=L.length-1;0<=M;M--){var F=L[M]|0;N&&F==C||(I[M]=F,N=!1)}this.g=I}var f={};function m(L){return-128<=L&&128>L?u(L,function(C){return new h([C|0],0>C?-1:0)}):new h([L|0],0>L?-1:0)}function g(L){if(isNaN(L)||!isFinite(L))return S;if(0>L)return j(g(-L));for(var C=[],I=1,N=0;L>=I;N++)C[N]=L/I|0,I*=4294967296;return new h(C,0)}function v(L,C){if(L.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L.charAt(0)=="-")return j(v(L.substring(1),C));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(C,8)),N=S,M=0;M<L.length;M+=8){var F=Math.min(8,L.length-M),P=parseInt(L.substring(M,M+F),C);8>F?(F=g(Math.pow(C,F)),N=N.j(F).add(g(P))):(N=N.j(I),N=N.add(g(P)))}return N}var S=m(0),T=m(1),A=m(16777216);n=h.prototype,n.m=function(){if(z(this))return-j(this).m();for(var L=0,C=1,I=0;I<this.g.length;I++){var N=this.i(I);L+=(0<=N?N:4294967296+N)*C,C*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(V(this))return"0";if(z(this))return"-"+j(this).toString(L);for(var C=g(Math.pow(L,6)),I=this,N="";;){var M=ge(I,C).g;I=Z(I,M.j(C));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(L);if(I=M,V(I))return F+N;for(;6>F.length;)F="0"+F;N=F+N}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function V(L){if(L.h!=0)return!1;for(var C=0;C<L.g.length;C++)if(L.g[C]!=0)return!1;return!0}function z(L){return L.h==-1}n.l=function(L){return L=Z(this,L),z(L)?-1:V(L)?0:1};function j(L){for(var C=L.g.length,I=[],N=0;N<C;N++)I[N]=~L.g[N];return new h(I,~L.h).add(T)}n.abs=function(){return z(this)?j(this):this},n.add=function(L){for(var C=Math.max(this.g.length,L.g.length),I=[],N=0,M=0;M<=C;M++){var F=N+(this.i(M)&65535)+(L.i(M)&65535),P=(F>>>16)+(this.i(M)>>>16)+(L.i(M)>>>16);N=P>>>16,F&=65535,P&=65535,I[M]=P<<16|F}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Z(L,C){return L.add(j(C))}n.j=function(L){if(V(this)||V(L))return S;if(z(this))return z(L)?j(this).j(j(L)):j(j(this).j(L));if(z(L))return j(this.j(j(L)));if(0>this.l(A)&&0>L.l(A))return g(this.m()*L.m());for(var C=this.g.length+L.g.length,I=[],N=0;N<2*C;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<L.g.length;M++){var F=this.i(N)>>>16,P=this.i(N)&65535,$e=L.i(M)>>>16,_e=L.i(M)&65535;I[2*N+2*M]+=P*_e,te(I,2*N+2*M),I[2*N+2*M+1]+=F*_e,te(I,2*N+2*M+1),I[2*N+2*M+1]+=P*$e,te(I,2*N+2*M+1),I[2*N+2*M+2]+=F*$e,te(I,2*N+2*M+2)}for(N=0;N<C;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=C;N<2*C;N++)I[N]=0;return new h(I,0)};function te(L,C){for(;(L[C]&65535)!=L[C];)L[C+1]+=L[C]>>>16,L[C]&=65535,C++}function oe(L,C){this.g=L,this.h=C}function ge(L,C){if(V(C))throw Error("division by zero");if(V(L))return new oe(S,S);if(z(L))return C=ge(j(L),C),new oe(j(C.g),j(C.h));if(z(C))return C=ge(L,j(C)),new oe(j(C.g),C.h);if(30<L.g.length){if(z(L)||z(C))throw Error("slowDivide_ only works with positive integers.");for(var I=T,N=C;0>=N.l(L);)I=ae(I),N=ae(N);var M=ye(I,1),F=ye(N,1);for(N=ye(N,2),I=ye(I,2);!V(N);){var P=F.add(N);0>=P.l(L)&&(M=M.add(I),F=P),N=ye(N,1),I=ye(I,1)}return C=Z(L,M.j(C)),new oe(M,C)}for(M=S;0<=L.l(C);){for(I=Math.max(1,Math.floor(L.m()/C.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),F=g(I),P=F.j(C);z(P)||0<P.l(L);)I-=N,F=g(I),P=F.j(C);V(F)&&(F=T),M=M.add(F),L=Z(L,P)}return new oe(M,L)}n.A=function(L){return ge(this,L).h},n.and=function(L){for(var C=Math.max(this.g.length,L.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)&L.i(N);return new h(I,this.h&L.h)},n.or=function(L){for(var C=Math.max(this.g.length,L.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)|L.i(N);return new h(I,this.h|L.h)},n.xor=function(L){for(var C=Math.max(this.g.length,L.g.length),I=[],N=0;N<C;N++)I[N]=this.i(N)^L.i(N);return new h(I,this.h^L.h)};function ae(L){for(var C=L.g.length+1,I=[],N=0;N<C;N++)I[N]=L.i(N)<<1|L.i(N-1)>>>31;return new h(I,L.h)}function ye(L,C){var I=C>>5;C%=32;for(var N=L.g.length-I,M=[],F=0;F<N;F++)M[F]=0<C?L.i(F+I)>>>C|L.i(F+I+1)<<32-C:L.i(F+I);return new h(M,L.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Wy=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,wi=h}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qy,Va,Gy,Mu,_d,Ky,Hy,Xy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var o=r(this);function a(c,y){if(y)e:{var b=o;c=c.split(".");for(var x=0;x<c.length-1;x++){var B=c[x];if(!(B in b))break e;b=b[B]}c=c[c.length-1],x=b[c],y=y(x),y!=x&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,x=!1,B={next:function(){if(!x&&b<c.length){var W=b++;return{value:y(W,c[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}a("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function S(c,y,b){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function T(c,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,T.apply(null,arguments)}function A(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function V(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(x,B,W){for(var se=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)se[Ge-2]=arguments[Ge];return y.prototype[B].apply(x,se)}}function z(c){const y=c.length;if(0<y){const b=Array(y);for(let x=0;x<y;x++)b[x]=c[x];return b}return[]}function j(c,y){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(m(x)){const B=c.length||0,W=x.length||0;c.length=B+W;for(let se=0;se<W;se++)c[B+se]=x[se]}else c.push(x)}}class Z{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var ae=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function ye(c,y,b){for(const x in c)y.call(b,c[x],x,c)}function L(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function C(c){const y={};for(const b in c)y[b]=c[b];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let b,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(b in x)c[b]=x[b];for(let W=0;W<I.length;W++)b=I[W],Object.prototype.hasOwnProperty.call(x,b)&&(c[b]=x[b])}}function M(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function F(c){f.setTimeout(()=>{throw c},0)}function P(){var c=We;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class $e{constructor(){this.h=this.g=null}add(y,b){const x=_e.get();x.set(y,b),this.h?this.h.next=x:this.g=x,this.h=x}}var _e=new Z(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ve=!1,We=new $e,E=()=>{const c=f.Promise.resolve(void 0);de=()=>{c.then(_)}};var _=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(b){F(b)}var y=_e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function ue(c,y){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{ge(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ue.aa.h.call(this)}}V(ue,K);var le={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),he=0;function Ee(c,y,b,x,B){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!x,this.ha=B,this.key=++he,this.da=this.fa=!1}function Ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,y,b,x,B){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var se=et(c,y,x,B);return-1<se?(y=c[se],b||(y.fa=!1)):(y=new Ee(y,this.src,W,!!x,B),y.fa=b,c.push(y)),y};function Je(c,y){var b=y.type;if(b in c.g){var x=c.g[b],B=Array.prototype.indexOf.call(x,y,void 0),W;(W=0<=B)&&Array.prototype.splice.call(x,B,1),W&&(Ce(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function et(c,y,b,x){for(var B=0;B<c.length;++B){var W=c[B];if(!W.da&&W.listener==y&&W.capture==!!b&&W.ha==x)return B}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ct={};function Et(c,y,b,x,B){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Et(c,y[W],b,x,B);return null}return b=Bs(b),c&&c[fe]?c.K(y,b,g(x)?!!x.capture:!1,B):Xt(c,y,b,!1,x,B)}function Xt(c,y,b,x,B,W){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Ge=Ro(c);if(Ge||(c[Me]=Ge=new Pe(c)),b=Ge.add(y,b,x,se,W),b.proxy)return b;if(x=cn(),b.proxy=x,x.src=c,x.listener=b,c.addEventListener)J||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),x,B);else if(c.attachEvent)c.attachEvent(Vi(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function cn(){function c(b){return y.call(c.src,c.listener,b)}const y=Sl;return c}function xn(c,y,b,x,B){if(Array.isArray(y))for(var W=0;W<y.length;W++)xn(c,y[W],b,x,B);else x=g(x)?!!x.capture:!!x,b=Bs(b),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],b=et(W,b,x,B),-1<b&&(Ce(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ro(c))&&(y=c.g[y.toString()],c=-1,y&&(c=et(y,b,x,B)),(b=-1<c?y[c]:null)&&Ft(b))}function Ft(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])Je(y.i,c);else{var b=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(b,x,c.capture):y.detachEvent?y.detachEvent(Vi(b),x):y.addListener&&y.removeListener&&y.removeListener(x),(b=Ro(y))?(Je(b,c),b.h==0&&(b.src=null,y[Me]=null)):Ce(c)}}}function Vi(c){return c in ct?ct[c]:ct[c]="on"+c}function Sl(c,y){if(c.da)c=!0;else{y=new ue(y,this);var b=c.listener,x=c.ha||c.src;c.fa&&Ft(c),c=b.call(x,y)}return c}function Ro(c){return c=c[Me],c instanceof Pe?c:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(c){return typeof c=="function"?c:(c[Yt]||(c[Yt]=function(y){return c.handleEvent(y)}),c[Yt])}function mt(){Y.call(this),this.i=new Pe(this),this.M=this,this.F=null}V(mt,Y),mt.prototype[fe]=!0,mt.prototype.removeEventListener=function(c,y,b,x){xn(this,c,y,b,x)};function It(c,y){var b,x=c.F;if(x)for(b=[];x;x=x.F)b.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new K(y,c);else if(y instanceof K)y.target=y.target||c;else{var B=y;y=new K(x,c),N(y,B)}if(B=!0,b)for(var W=b.length-1;0<=W;W--){var se=y.g=b[W];B=ir(se,x,!0,y)&&B}if(se=y.g=c,B=ir(se,x,!0,y)&&B,B=ir(se,x,!1,y)&&B,b)for(W=0;W<b.length;W++)se=y.g=b[W],B=ir(se,x,!1,y)&&B}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],x=0;x<b.length;x++)Ce(b[x]);delete c.g[y],c.h--}}this.F=null},mt.prototype.K=function(c,y,b,x){return this.i.add(String(c),y,!1,b,x)},mt.prototype.L=function(c,y,b,x){return this.i.add(String(c),y,!0,b,x)};function ir(c,y,b,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,W=0;W<y.length;++W){var se=y[W];if(se&&!se.da&&se.capture==b){var Ge=se.listener,Rt=se.ha||se.src;se.fa&&Je(c.i,se),B=Ge.call(Rt,x)!==!1&&B}}return B&&!x.defaultPrevented}function Vo(c,y,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(c,y||0)}function Oi(c){c.g=Vo(()=>{c.g=null,c.i&&(c.i=!1,Oi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Oo extends Y{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){Y.call(this),this.h=c,this.g={}}V($r,Y);var wr=[];function hn(c){ye(c.g,function(y,b){this.g.hasOwnProperty(b)&&Ft(y)},c),c.g={}}$r.prototype.N=function(){$r.aa.N.call(this),hn(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var El=f.JSON.stringify,Sr=f.JSON.parse,pn=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function kl(){}kl.prototype.h=null;function Vc(c){return c.h||(c.h=c.i())}function Oc(){}var Er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){K.call(this,"d")}V(ji,K);function or(){K.call(this,"c")}V(or,K);var Un={},Fi=null;function zs(){return Fi=Fi||new mt}Un.La="serverreachability";function xl(c){K.call(this,Un.La,c)}V(xl,K);function Ui(c){const y=zs();It(y,new xl(y))}Un.STAT_EVENT="statevent";function $s(c,y){K.call(this,Un.STAT_EVENT,c),this.stat=y}V($s,K);function kt(c){const y=zs();It(y,new $s(y,c))}Un.Ma="timingevent";function jc(c,y){K.call(this,Un.Ma,c),this.size=y}V(jc,K);function Bi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function Fc(c,y,b,x,B,W){c.info(function(){if(c.g)if(W)for(var se="",Ge=W.split("&"),Rt=0;Rt<Ge.length;Rt++){var Xe=Ge[Rt].split("=");if(1<Xe.length){var zt=Xe[0];Xe=Xe[1];var Jt=zt.split("_");se=2<=Jt.length&&Jt[1]=="type"?se+(zt+"="+Xe+"&"):se+(zt+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+y+`
`+b+`
`+se})}function Uc(c,y,b,x,B,W,se){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+y+`
`+b+`
`+W+" "+se})}function $i(c,y,b,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ut(c,b)+(x?" "+x:"")})}function kr(c,y){c.info(function(){return"TIMEOUT: "+y})}zi.prototype.info=function(){};function Ut(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var x=b[c];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return El(b)}catch{return y}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jo;function qs(){}V(qs,kl),qs.prototype.g=function(){return new XMLHttpRequest},qs.prototype.i=function(){return{}},jo=new qs;function xr(c,y,b,x){this.j=c,this.i=y,this.l=b,this.R=x||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tl}function Tl(){this.i=null,this.g="",this.h=!1}var qi={},Fo={};function sr(c,y,b){c.L=1,c.v=zo(xt(y)),c.m=b,c.P=!0,Wr(c,null)}function Wr(c,y){c.F=Date.now(),ht(c),c.A=xt(c.v);var b=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Kr(b.i,"t",x),c.C=0,b=c.j.J,c.h=new Tl,c.g=eh(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Oo(T(c.Y,c,c.g),c.O)),y=c.U,b=c.g,x=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(wr[0]=B.toString()),B=wr);for(var W=0;W<B.length;W++){var se=Et(b,B[W],x||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ui(),Fc(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;const y=this.M;y&&Wn(c)==3?y.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{const Jt=Wn(this.g);var y=this.g.Ba();const Jr=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||Jt!=4||y==7||(y==8||0>=Jr?Ui(3):Ui(2)),Ws(this);var b=this.g.Z();this.X=b;t:if(Wi(this)){var x=Qc(this.g);c="";var B=x.length,W=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),Pn(this);var se="";break t}this.h.i=new f.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(W&&y==B-1)});x.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=b==200,Uc(this.i,this.u,this.A,this.l,this.R,Jt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Rt=this.g;if((Ge=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ge)){var Xe=Ge;break t}}Xe=null}if(b=Xe)$i(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,b);else{this.o=!1,this.s=3,kt(12),Tn(this),Pn(this);break e}}if(this.P){b=!0;let Zt;for(;!this.J&&this.C<se.length;)if(Zt=Qi(this,se),Zt==Fo){Jt==4&&(this.s=4,kt(14),b=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==qi){this.s=4,kt(15),$i(this.i,this.l,se,"[Invalid Chunk]"),b=!1;break}else $i(this.i,this.l,Zt,null),Nn(this,Zt);if(Wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||se.length!=0||this.h.h||(this.s=1,kt(16),b=!1),this.o=this.o&&b,!b)$i(this.i,this.l,se,"[Invalid Chunked Response]"),Tn(this),Pn(this);else if(0<se.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ho(zt),zt.M=!0,kt(11))}}else $i(this.i,this.l,se,null),Nn(this,se);Jt==4&&Tn(this),this.o&&!this.J&&(Jt==4?Yc(this.j,this):(this.o=!1,ht(this)))}else Bp(this.g),b==400&&0<se.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Tn(this),Pn(this)}}}catch{}finally{}};function Wi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qi(c,y){var b=c.C,x=y.indexOf(`
`,b);return x==-1?Fo:(b=Number(y.substring(b,x)),isNaN(b)?qi:(x+=1,x+b>y.length?Fo:(y=y.slice(x,x+b),c.C=x+b,y)))}xr.prototype.cancel=function(){this.J=!0,Tn(this)};function ht(c){c.S=Date.now()+c.I,Cl(c,c.I)}function Cl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Bi(T(c.ba,c),y)}function Ws(c){c.B&&(f.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(kr(this.i,this.A),this.L!=2&&(Ui(),kt(17)),Tn(this),this.s=2,Pn(this)):Cl(this,this.S-c)};function Pn(c){c.j.G==0||c.J||Yc(c.j,c)}function Tn(c){Ws(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,hn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Nn(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Gi(b.h,c))){if(!c.K&&Gi(b.h,c)&&b.G==3){try{var x=b.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)ta(b),Zs(b);else break e;Ol(b),kt(18)}}else b.za=B[1],0<b.za-b.T&&37500>B[2]&&b.F&&b.v==0&&!b.C&&(b.C=Bi(T(b.Za,b),6e3));if(1>=Bc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Yr(b,11)}else if((c.K||b.g==c)&&ta(b),!te(y))for(B=b.Da.g.parse(y),y=0;y<B.length;y++){let Xe=B[y];if(b.T=Xe[0],Xe=Xe[1],b.G==2)if(Xe[0]=="c"){b.K=Xe[1],b.ia=Xe[2];const zt=Xe[3];zt!=null&&(b.la=zt,b.j.info("VER="+b.la));const Jt=Xe[4];Jt!=null&&(b.Aa=Jt,b.j.info("SVER="+b.Aa));const Jr=Xe[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(x=1.5*Jr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Zt=c.g;if(Zt){const Pr=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var W=x.h;W.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ki(W,W.h),W.h=null))}if(x.D){const Fl=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(x.ya=Fl,Qe(x.I,x.D,Fl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var se=c;if(x.qa=Zc(x,x.J?x.ia:null,x.W),se.K){Bn(x.h,se);var Ge=se,Rt=x.L;Rt&&(Ge.I=Rt),Ge.B&&(Ws(Ge),ht(Ge)),x.g=se}else Hc(x);0<b.i.length&&ea(b)}else Xe[0]!="stop"&&Xe[0]!="close"||Yr(b,7);else b.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Yr(b,7):Rl(b):Xe[0]!="noop"&&b.l&&b.l.ta(Xe),b.v=0)}}Ui(4)}catch{}}var Vp=class{constructor(c,y){this.g=c,this.map=y}};function Il(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _l(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bc(c){return c.h?1:c.g?c.g.size:0}function Gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ki(c,y){c.g?c.g.add(y):c.h=y}function Bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Il.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return z(c.i)}function zc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,x=0;x<b;x++)y.push(c[x]);return y}y=[],b=0;for(x in c)y[b++]=c[x];return y}function Op(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const x in c)y[b++]=x;return y}}}function Uo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Op(c),x=zc(c),B=x.length,W=0;W<B;W++)y.call(void 0,x[W],b&&b[W],c)}var Al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var x=c[b].indexOf("="),B=null;if(0<=x){var W=c[b].substring(0,x);B=c[b].substring(x+1)}else W=c[b];y(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qr){this.h=c.h,Hi(this,c.j),this.o=c.o,this.g=c.g,Bo(this,c.s),this.l=c.l;var y=c.i,b=new Tr;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Gs(this,b),this.m=c.m}else c&&(y=String(c).match(Al))?(this.h=!1,Hi(this,y[1]||"",!0),this.o=Xi(y[2]||""),this.g=Xi(y[3]||"",!0),Bo(this,y[4]),this.l=Xi(y[5]||"",!0),Gs(this,y[6]||"",!0),this.m=Xi(y[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}Qr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(zn(y,Dl,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(zn(y,Dl,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(zn(b,b.charAt(0)=="/"?Pl:$c,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",zn(b,Up)),c.join("")};function xt(c){return new Qr(c)}function Hi(c,y,b){c.j=b?Xi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Bo(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Gs(c,y,b){y instanceof Tr?(c.i=y,Nl(c.i,c.h)):(b||(y=zn(y,Fp)),c.i=new Tr(y,c.h))}function Qe(c,y,b){c.i.set(y,b)}function zo(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zn(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,jp),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jp(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Dl=/[#\/\?@]/g,$c=/[#\?:]/g,Pl=/[#\?]/g,Fp=/[#\?@]/g,Up=/#/g;function Tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function $n(c){c.g||(c.g=new Map,c.h=0,c.i&&Qs(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=Tr.prototype,n.add=function(c,y){$n(this),this.i=null,c=Hr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Ks(c,y){$n(c),y=Hr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gr(c,y){return $n(c),y=Hr(c,y),c.g.has(y)}n.forEach=function(c,y){$n(this),this.g.forEach(function(b,x){b.forEach(function(B){c.call(y,B,x,this)},this)},this)},n.na=function(){$n(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let x=0;x<y.length;x++){const B=c[x];for(let W=0;W<B.length;W++)b.push(y[x])}return b},n.V=function(c){$n(this);let y=[];if(typeof c=="string")Gr(this,c)&&(y=y.concat(this.g.get(Hr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},n.set=function(c,y){return $n(this),this.i=null,c=Hr(this,c),Gr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Kr(c,y,b){Ks(c,y),0<b.length&&(c.i=null,c.g.set(Hr(c,y),z(b)),c.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var x=y[b];const W=encodeURIComponent(String(x)),se=this.V(x);for(x=0;x<se.length;x++){var B=W;se[x]!==""&&(B+="="+encodeURIComponent(String(se[x]))),c.push(B)}}return this.i=c.join("&")};function Hr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Nl(c,y){y&&!c.j&&($n(c),c.i=null,c.g.forEach(function(b,x){var B=x.toLowerCase();x!=B&&(Ks(this,x),Kr(this,B,b))},c)),c.j=y}function qc(c,y){const b=new zi;if(f.Image){const x=new Image;x.onload=A(qn,b,"TestLoadImage: loaded",!0,y,x),x.onerror=A(qn,b,"TestLoadImage: error",!1,y,x),x.onabort=A(qn,b,"TestLoadImage: abort",!1,y,x),x.ontimeout=A(qn,b,"TestLoadImage: timeout",!1,y,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function $o(c,y){const b=new zi,x=new AbortController,B=setTimeout(()=>{x.abort(),qn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(W=>{clearTimeout(B),W.ok?qn(b,"TestPingServer: ok",!0,y):qn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),qn(b,"TestPingServer: error",!1,y)})}function qn(c,y,b,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(b)}catch{}}function qo(){this.g=new pn}function Cr(c,y,b){const x=b||"";try{Uo(c,function(B,W){let se=B;g(B)&&(se=El(B)),y.push(x+W+"="+encodeURIComponent(se))})}catch(B){throw y.push(x+"type="+encodeURIComponent("_badmap")),B}}function Yi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Yi,kl),Yi.prototype.g=function(){return new Xr(this.l,this.j)},Yi.prototype.i=(function(c){return function(){return c}})({});function Xr(c,y){mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Xr,mt),n=Xr.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,_r(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):_r(this),this.readyState==3&&Ml(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},n.Qa=function(c){this.g&&(this.response=c,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_r(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function _r(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ll(c){let y="";return ye(c,function(b,x){y+=x,y+=":",y+=b,y+=`\r
`}),y}function Bt(c,y,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Ll(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):Qe(c,y,b))}function Ze(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ze,mt);var Hs=/^https?$/i,Wo=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jo.g(),this.v=this.o?Vc(this.o):Vc(jo),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Wc(this,W);return}if(c=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)b.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())b.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Wo,y,void 0))||x||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of b)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qo(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Wc(this,W)}};function Wc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Xs(c),Ar(c)}function Xs(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ys(this):this.bb())},n.bb=function(){Ys(this)};function Ys(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)Vo(c.Ea,0,c);else if(It(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var x;if(x=se===0){var B=String(c.D).match(Al)[1]||null;!B&&f.self&&f.self.location&&(B=f.self.location.protocol.slice(0,-1)),x=!Hs.test(B?B.toLowerCase():"")}b=x}if(b)It(c,"complete"),It(c,"success");else{c.m=6;try{var W=2<Wn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Xs(c)}}finally{Ar(c)}}}}function Ar(c,y){if(c.g){Qo(c);const b=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||It(c,"ready");try{b.onreadystatechange=x}catch{}}}function Qo(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Sr(y)}};function Qc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bp(c){const y={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(te(c[x]))continue;var b=M(c[x]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=y[B]||[];y[B]=W,W.push(b)}L(y,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Js(c){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,c),this.cb=Go("retryDelaySeedMs",1e4,c),this.Wa=Go("forwardChannelMaxRetries",2,c),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Il(c&&c.concurrentRequestLimit),this.Da=new qo,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Js.prototype,n.la=8,n.G=1,n.connect=function(c,y,b,x){kt(0),this.W=c,this.H=y||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=Zc(this,null,this.W),ea(this)};function Rl(c){if(Gc(c),c.G==3){var y=c.U++,b=xt(c.I);if(Qe(b,"SID",c.K),Qe(b,"RID",y),Qe(b,"TYPE","terminate"),Ko(c,b),y=new xr(c,c.j,y),y.L=2,y.v=zo(xt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.v,b=!0),b||(y.g=eh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ht(y)}Jc(c)}function Zs(c){c.g&&(Ho(c),c.g.cancel(),c.g=null)}function Gc(c){Zs(c),c.u&&(f.clearTimeout(c.u),c.u=null),ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ea(c){if(!_l(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||E(),ve||(de(),ve=!0),We.add(y,c),c.B=0}}function zp(c,y){return Bc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Bi(T(c.Ga,c,y),jl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new xr(this,this.j,c);let W=this.o;if(this.S&&(W?(W=C(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Kc(this,B,y),b=xt(this.I),Qe(b,"RID",c),Qe(b,"CVER",22),this.D&&Qe(b,"X-HTTP-Session-Id",this.D),Ko(this,b),W&&(this.O?y="headers="+encodeURIComponent(String(Ll(W)))+"&"+y:this.m&&Bt(b,this.m,W)),Ki(this.h,B),this.Ua&&Qe(b,"TYPE","init"),this.P?(Qe(b,"$req",y),Qe(b,"SID","null"),B.T=!0,sr(B,b,null)):sr(B,b,y),this.G=2}}else this.G==3&&(c?Vl(this,c):this.i.length==0||_l(this.h)||Vl(this))};function Vl(c,y){var b;y?b=y.l:b=c.U++;const x=xt(c.I);Qe(x,"SID",c.K),Qe(x,"RID",b),Qe(x,"AID",c.T),Ko(c,x),c.m&&c.o&&Bt(x,c.m,c.o),b=new xr(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Kc(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ki(c.h,b),sr(b,x,y)}function Ko(c,y){c.H&&ye(c.H,function(b,x){Qe(y,x,b)}),c.l&&Uo({},function(b,x){Qe(y,x,b)})}function Kc(c,y,b){b=Math.min(c.i.length,b);var x=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let W=-1;for(;;){const se=["count="+b];W==-1?0<b?(W=B[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let Ge=!0;for(let Rt=0;Rt<b;Rt++){let Xe=B[Rt].g;const zt=B[Rt].map;if(Xe-=W,0>Xe)W=Math.max(0,B[Rt].g-100),Ge=!1;else try{Cr(zt,se,"req"+Xe+"_")}catch{x&&x(zt)}}if(Ge){x=se.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,x}function Hc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||E(),ve||(de(),ve=!0),We.add(y,c),c.v=0}}function Ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Bi(T(c.Fa,c),jl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Bi(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Zs(this),Xc(this))};function Ho(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Xc(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=xt(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Ko(c,y),c.m&&c.o&&Bt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=zo(xt(y)),b.m=null,b.P=!0,Wr(b,c)}n.Za=function(){this.C!=null&&(this.C=null,Zs(this),Ol(this),kt(19))};function ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Yc(c,y){var b=null;if(c.g==y){ta(c),Ho(c),c.g=null;var x=2}else if(Gi(c.h,y))b=y.D,Bn(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;x=zs(),It(x,new jc(x,b)),ea(c)}else Hc(c);else if(B=y.s,B==3||B==0&&0<y.X||!(x==1&&zp(c,y)||x==2&&Ol(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),B){case 1:Yr(c,5);break;case 4:Yr(c,10);break;case 3:Yr(c,6);break;default:Yr(c,2)}}}function jl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function Yr(c,y){if(c.j.info("Error code "+y),y==2){var b=T(c.fb,c),x=c.Xa;const B=!x;x=new Qr(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Hi(x,"https"),zo(x),B?qc(x.toString(),b):$o(x.toString(),b)}else kt(2);c.G=0,c.l&&c.l.sa(y),Jc(c),Gc(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Jc(c){if(c.G=0,c.ka=[],c.l){const y=mn(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Zc(c,y,b){var x=b instanceof Qr?xt(b):new Qr(b);if(x.g!="")y&&(x.g=y+"."+x.g),Bo(x,x.s);else{var B=f.location;x=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var W=new Qr(null);x&&Hi(W,x),y&&(W.g=y),B&&Bo(W,B),b&&(W.l=b),x=W}return b=c.D,y=c.ya,b&&y&&Qe(x,b,y),Qe(x,"VER",c.la),Ko(c,x),x}function eh(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new Yi({eb:b})):new Ze(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}n=th.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function na(){}na.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){mt.call(this),this.g=new Js(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Dr(this)}V(gn,mt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Rl(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=El(c),c=b);y.i.push(new Vp(y.Ya++,c)),y.G==3&&ea(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,gn.aa.N.call(this)};function nh(c){ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(nh,ji);function rh(){or.call(this),this.status=1}V(rh,or);function Dr(c){this.g=c}V(Dr,th),Dr.prototype.ua=function(){It(this.g,"a")},Dr.prototype.ta=function(c){It(this.g,new nh(c))},Dr.prototype.sa=function(c){It(this.g,new rh)},Dr.prototype.ra=function(){It(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Xy=function(){return new na},Hy=function(){return zs()},Ky=Un,_d={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,Mu=Lt,qr.COMPLETE="complete",Gy=qr,Oc.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Va=Oc,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Qy=Ze}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const Yy="@firebase/firestore",Jy="4.7.10";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ps="11.5.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ko=new ld("@firebase/firestore");function ms(){return ko.logLevel}function ce(n,...e){if(ko.logLevel<=Be.DEBUG){const r=e.map(Ad);ko.debug(`Firestore (${ps}): ${n}`,...r)}}function jr(n,...e){if(ko.logLevel<=Be.ERROR){const r=e.map(Ad);ko.error(`Firestore (${ps}): ${n}`,...r)}}function gs(n,...e){if(ko.logLevel<=Be.WARN){const r=e.map(Ad);ko.warn(`Firestore (${ps}): ${n}`,...r)}}function Ad(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ie(n="Unexpected state"){const e=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: `+n;throw jr(e),new Error(e)}function Ye(n,e){n||Ie()}function De(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends gi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zy{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(on.UNAUTHENTICATED))}shutdown(){}}class PC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class NC{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ye(this.o===void 0);let o=this.i;const a=m=>this.i!==o?(o=this.i,r(m)):Promise.resolve();let u=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xo,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xo)}},0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ye(typeof o.accessToken=="string"),new Zy(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new on(e)}}class MC{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class LC{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new MC(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,H2(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Ye(this.o===void 0);const o=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ev(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ye(typeof r.token=="string"),this.R=r.token,new ev(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<n;o++)r[o]=Math.floor(256*Math.random());return r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tv(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const a=VC(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<r&&(o+=e.charAt(a[u]%62))}return o}}function Re(n,e){return n<e?-1:n>e?1:0}function Dd(n,e){let r=0;for(;r<n.length&&r<e.length;){const o=n.codePointAt(r),a=e.codePointAt(r);if(o!==a){if(o<128&&a<128)return Re(o,a);{const u=tv(),h=OC(u.encode(rv(n,r)),u.encode(rv(e,r)));return h!==0?h:Re(o,a)}}r+=o>65535?2:1}return Re(n.length,e.length)}function rv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function OC(n,e){for(let r=0;r<n.length&&r<e.length;++r)if(n[r]!==e[r])return Re(n[r],e[r]);return Re(n.length,e.length)}function ys(n,e,r){return n.length===e.length&&n.every((o,a)=>r(o,e[a]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iv=-62135596800,ov=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor((e-1e3*r)*ov);return new Pt(r,o)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<iv)throw new Se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Pt(0,0))}static max(){return new Ae(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sv="__name__";class dr{constructor(e,r,o){r===void 0?r=0:r>e.length&&Ie(),o===void 0?o=e.length-r:o>e.length-r&&Ie(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let a=0;a<o;a++){const u=dr.compareSegments(e.get(a),r.get(a));if(u!==0)return u}return Re(e.length,r.length)}static compareSegments(e,r){const o=dr.isNumericId(e),a=dr.isNumericId(r);return o&&!a?-1:!o&&a?1:o&&a?dr.extractNumericId(e).compare(dr.extractNumericId(r)):Dd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class at extends dr{construct(e,r,o){return new at(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Se(ne.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new at(r)}static emptyPath(){return new at([])}}const jC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends dr{construct(e,r,o){return new Qt(e,r,o)}static isValidIdentifier(e){return jC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new Qt([sv])}static fromServerFormat(e){const r=[];let o="",a=0;const u=()=>{if(o.length===0)throw new Se(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let h=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Se(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Se(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=m,a+=2}else f==="`"?(h=!h,a++):f!=="."||h?(o+=f,a++):(u(),a++)}if(u(),h)throw new Se(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(r)}static emptyPath(){return new Qt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ke{constructor(e){this.path=e}static fromPath(e){return new ke(at.fromString(e))}static fromName(e){return new ke(at.fromString(e).popFirst(5))}static empty(){return new ke(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return at.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new at(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Oa=-1;function FC(n,e){const r=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(o===1e9?new Pt(r+1,0):new Pt(r,o));return new Si(a,ke.empty(),e)}function UC(n){return new Si(n.readTime,n.key,Oa)}class Si{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Si(Ae.min(),ke.empty(),Oa)}static max(){return new Si(Ae.max(),ke.empty(),Oa)}}function BC(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=ke.comparator(n.documentKey,e.documentKey),r!==0?r:Re(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vs(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==zC)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new X((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(r,u).next(o,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof X?r:X.resolve(r)}catch(r){return X.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):X.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):X.reject(r)}static resolve(e){return new X((r,o)=>{r(e)})}static reject(e){return new X((r,o)=>{o(e)})}static waitFor(e){return new X((r,o)=>{let a=0,u=0,h=!1;e.forEach(f=>{++a,f.next(()=>{++u,h&&u===a&&r()},m=>o(m))}),h=!0,u===a&&r()})}static or(e){let r=X.resolve(!1);for(const o of e)r=r.next(a=>a?X.resolve(a):o());return r}static forEach(e,r){const o=[];return e.forEach((a,u)=>{o.push(r.call(this,a,u))}),this.waitFor(o)}static mapArray(e,r){return new X((o,a)=>{const u=e.length,h=new Array(u);let f=0;for(let m=0;m<u;m++){const g=m;r(e[g]).next(v=>{h[g]=v,++f,f===u&&o(h)},v=>a(v))}})}static doWhile(e,r){return new X((o,a)=>{const u=()=>{e()===!0?r().next(()=>{u()},a):o()};u()})}}function qC(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function bs(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.oe(o),this._e=o=>r.writeSequenceNumber(o))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lu.ae=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pd=-1;function Ru(n){return n==null}function Vu(n){return n===0&&1/n==-1/0}function WC(n){return typeof n=="number"&&Number.isInteger(n)&&!Vu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const av="";function QC(n){let e="";for(let r=0;r<n.length;r++)e.length>0&&(e=lv(e)),e=GC(n.get(r),e);return lv(e)}function GC(n,e){let r=e;const o=n.length;for(let a=0;a<o;a++){const u=n.charAt(a);switch(u){case"\0":r+="";break;case av:r+="";break;default:r+=u}}return r}function lv(n){return n+av+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uv(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function Ei(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function cv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lt{constructor(e,r){this.comparator=e,this.root=r||Gt.EMPTY}insert(e,r){return new lt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,r,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?o(e.key,r):1,r&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,r,o,a,u){this.key=e,this.value=r,this.color=o??Gt.RED,this.left=a??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,a,u){return new Gt(e??this.key,r??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,r,o),null):u===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Gt.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1,Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(n,e,r,o,a){return this}insert(n,e,r){return new Gt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(e){return new hv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Nt(this.comparator);return r.data=e,r}}class hv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new _n([])}unionWith(e){let r=new Nt(Qt.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new _n(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dv("Invalid base64 string: "+a):a}})(e);return new Kt(r)}static fromUint8Array(e){const r=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Kt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const KC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(n){if(Ye(!!n),typeof n=="string"){let e=0;const r=KC.exec(n);if(Ye(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xi(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fv="server_timestamp",pv="__type__",mv="__previous_value__",gv="__local_write_time__";function Nd(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pv])===null||r===void 0?void 0:r.stringValue)===fv}function ju(n){const e=n.mapValue.fields[mv];return Nd(e)?ju(e):e}function ja(n){const e=ki(n.mapValue.fields[gv].timestampValue);return new Pt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HC{constructor(e,r,o,a,u,h,f,m,g){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g}}const Fu="(default)";class Fa{constructor(e,r){this.projectId=e,this.database=r||Fu}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database===Fu}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yv="__type__",XC="__max__",Uu={mapValue:{}},vv="__vector__",Bu="value";function Ti(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nd(n)?4:JC(n)?9007199254740991:YC(n)?10:11:Ie()}function fr(n,e){if(n===e)return!0;const r=Ti(n);if(r!==Ti(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ja(n).isEqual(ja(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ki(o.timestampValue),h=ki(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return xi(o.bytesValue).isEqual(xi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return wt(o.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return wt(o.integerValue)===wt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=wt(o.doubleValue),h=wt(a.doubleValue);return u===h?Vu(u)===Vu(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return ys(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(uv(u)!==uv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!fr(u[f],h[f])))return!1;return!0})(n,e);default:return Ie()}}function Ua(n,e){return(n.values||[]).find(r=>fr(r,e))!==void 0}function ws(n,e){if(n===e)return 0;const r=Ti(n),o=Ti(e);if(r!==o)return Re(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=wt(a.integerValue||a.doubleValue),f=wt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return bv(n.timestampValue,e.timestampValue);case 4:return bv(ja(n),ja(e));case 5:return Dd(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=xi(a),f=xi(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const g=Re(h[m],f[m]);if(g!==0)return g}return Re(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Re(wt(a.latitude),wt(u.latitude));return h!==0?h:Re(wt(a.longitude),wt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return wv(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var h,f,m,g;const v=a.fields||{},S=u.fields||{},T=(h=v[Bu])===null||h===void 0?void 0:h.arrayValue,A=(f=S[Bu])===null||f===void 0?void 0:f.arrayValue,V=Re(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return V!==0?V:wv(T,A)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Uu.mapValue&&u===Uu.mapValue)return 0;if(a===Uu.mapValue)return 1;if(u===Uu.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const S=Dd(f[v],g[v]);if(S!==0)return S;const T=ws(h[f[v]],m[g[v]]);if(T!==0)return T}return Re(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Ie()}}function bv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const r=ki(n),o=ki(e),a=Re(r.seconds,o.seconds);return a!==0?a:Re(r.nanos,o.nanos)}function wv(n,e){const r=n.values||[],o=e.values||[];for(let a=0;a<r.length&&a<o.length;++a){const u=ws(r[a],o[a]);if(u)return u}return Re(r.length,o.length)}function Ss(n){return Md(n)}function Md(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=ki(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return xi(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ke.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const a of e.values||[])o?o=!1:r+=",",r+=Md(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Md(e.fields[u])}`;return o+"}"})(n.mapValue):Ie()}function zu(n){switch(Ti(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ju(n);return e?16+zu(e):16;case 5:return 2*n.stringValue.length;case 6:return xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((o,a)=>o+zu(a),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Ei(r.fields,(a,u)=>{o+=a.length+zu(u)}),o})(n.mapValue);default:throw Ie()}}function Ld(n){return!!n&&"integerValue"in n}function Rd(n){return!!n&&"arrayValue"in n}function Sv(n){return!!n&&"nullValue"in n}function Ev(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $u(n){return!!n&&"mapValue"in n}function YC(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[yv])===null||r===void 0?void 0:r.stringValue)===vv}function Ba(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ei(n.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Ba(o)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ba(n.arrayValue.values[r]);return e}return Object.assign({},n)}function JC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===XC}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!$u(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(r)}setAll(e){let r=Qt.emptyPath(),o={},a=[];e.forEach((h,f)=>{if(!r.isImmediateParentOf(f)){const m=this.getFieldsMap(r);this.applyChanges(m,o,a),o={},a=[],r=f.popLast()}h?o[f.lastSegment()]=Ba(h):a.push(f.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,o,a)}delete(e){const r=this.field(e.popLast());$u(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=r.mapValue.fields[e.get(o)];$u(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,o){Ei(r,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new Sn(Ba(this.value))}}function kv(n){const e=[];return Ei(n.fields,(r,o)=>{const a=new Qt([r]);if($u(o)){const u=kv(o.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new _n(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sn{constructor(e,r,o,a,u,h,f){this.key=e,this.documentType=r,this.version=o,this.readTime=a,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),Sn.empty(),0)}static newFoundDocument(e,r,o,a){return new sn(e,1,r,Ae.min(),o,a,0)}static newNoDocument(e,r){return new sn(e,2,r,Ae.min(),Ae.min(),Sn.empty(),0)}static newUnknownDocument(e,r){return new sn(e,3,r,Ae.min(),Ae.min(),Sn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qu{constructor(e,r){this.position=e,this.inclusive=r}}function xv(n,e,r){let o=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(u.field.isKeyField()?o=ke.comparator(ke.fromName(h.referenceValue),r.key):o=ws(h,r.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function Tv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!fr(n.position[r],e.position[r]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wu{constructor(e,r="asc"){this.field=e,this.dir=r}}function ZC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cv{}class Mt extends Cv{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new tI(e,r,o):r==="array-contains"?new iI(e,o):r==="in"?new oI(e,o):r==="not-in"?new sI(e,o):r==="array-contains-any"?new aI(e,o):new Mt(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new nI(e,o):new rI(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ws(r,this.value)):r!==null&&Ti(this.value)===Ti(r)&&this.matchesComparison(ws(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends Cv{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new pr(e,r)}matches(e){return Iv(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Iv(n){return n.op==="and"}function _v(n){return eI(n)&&Iv(n)}function eI(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function Vd(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Ss(n.value);if(_v(n))return n.filters.map(e=>Vd(e)).join(",");{const e=n.filters.map(r=>Vd(r)).join(",");return`${n.op}(${e})`}}function Av(n,e){return n instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&fr(r.value,o.value)})(n,e):n instanceof pr?(function(r,o){return o instanceof pr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&Av(u,o.filters[h]),!0):!1})(n,e):void Ie()}function Dv(n){return n instanceof Mt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ss(e.value)}`})(n):n instanceof pr?(function(e){return e.op.toString()+" {"+e.getFilters().map(Dv).join(" ,")+"}"})(n):"Filter"}class tI extends Mt{constructor(e,r,o){super(e,r,o),this.key=ke.fromName(o.referenceValue)}matches(e){const r=ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class nI extends Mt{constructor(e,r){super(e,"in",r),this.keys=Pv("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class rI extends Mt{constructor(e,r){super(e,"not-in",r),this.keys=Pv("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Pv(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>ke.fromName(o.referenceValue))}class iI extends Mt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Rd(r)&&Ua(r.arrayValue,this.value)}}class oI extends Mt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ua(this.value.arrayValue,r)}}class sI extends Mt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ua(this.value.arrayValue,r)}}class aI extends Mt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Rd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ua(this.value.arrayValue,o))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lI{constructor(e,r=null,o=[],a=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function Nv(n,e=null,r=[],o=[],a=null,u=null,h=null){return new lI(n,e,r,o,a,u,h)}function Od(n){const e=De(n);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Vd(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>(function(a){return a.field.canonicalString()+a.dir})(o)).join(","),Ru(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Ss(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Ss(o)).join(",")),e.le=r}return e.le}function jd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!ZC(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!Av(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Tv(n.startAt,e.startAt)&&Tv(n.endAt,e.endAt)}function Fd(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qu{constructor(e,r=null,o=[],a=[],u=null,h="F",f=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uI(n,e,r,o,a,u,h,f){return new Qu(n,e,r,o,a,u,h,f)}function Ud(n){return new Qu(n)}function Mv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cI(n){return n.collectionGroup!==null}function za(n){const e=De(n);if(e.he===null){e.he=[];const r=new Set;for(const a of e.explicitOrderBy)e.he.push(a),r.add(a.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Nt(Qt.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.he.push(new Wu(a,o))}),r.has(Qt.keyField().canonicalString())||e.he.push(new Wu(Qt.keyField(),o))}return e.he}function mr(n){const e=De(n);return e.Pe||(e.Pe=hI(e,za(n))),e.Pe}function hI(n,e){if(n.limitType==="F")return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new Wu(a.field,u)});const r=n.endAt?new qu(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new qu(n.startAt.position,n.startAt.inclusive):null;return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,r,o)}}function Bd(n,e,r){return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function Gu(n,e){return jd(mr(n),mr(e))&&n.limitType===e.limitType}function Lv(n){return`${Od(mr(n))}|lt:${n.limitType}`}function Es(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>Dv(o)).join(", ")}]`),Ru(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Ss(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Ss(o)).join(",")),`Target(${r})`})(mr(n))}; limitType=${n.limitType})`}function Ku(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of za(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(a,u,h){const f=xv(a,u,h);return a.inclusive?f<=0:f<0})(r.startAt,za(r),o)||r.endAt&&!(function(a,u,h){const f=xv(a,u,h);return a.inclusive?f>=0:f>0})(r.endAt,za(r),o))})(n,e)}function dI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rv(n){return(e,r)=>{let o=!1;for(const a of za(n)){const u=fI(a,e,r);if(u!==0)return u;o=o||a.field.isKeyField()}return 0}}function fI(n,e,r){const o=n.field.isKeyField()?ke.comparator(e.key,r.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?ws(f,m):Ie()})(n.field,e,r);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return Ie()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class To{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[a,u]of o)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(r,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pI=new lt(ke.comparator);function Fr(){return pI}const Vv=new lt(ke.comparator);function $a(...n){let e=Vv;for(const r of n)e=e.insert(r.key,r);return e}function Ov(n){let e=Vv;return n.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Co(){return qa()}function jv(){return qa()}function qa(){return new To(n=>n.toString(),(n,e)=>n.isEqual(e))}const mI=new lt(ke.comparator),gI=new Nt(ke.comparator);function Fe(...n){let e=gI;for(const r of n)e=e.add(r);return e}const yI=new Nt(Re);function vI(){return yI}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zd(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function Fv(n){return{integerValue:""+n}}function Uv(n,e){return WC(e)?Fv(e):zd(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hu{constructor(){this._=void 0}}function bI(n,e,r){return n instanceof Xu?(function(o,a){const u={fields:{[pv]:{stringValue:fv},[gv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Nd(a)&&(a=ju(a)),a&&(u.fields[mv]=a),{mapValue:u}})(r,e):n instanceof Wa?zv(n,e):n instanceof Qa?$v(n,e):(function(o,a){const u=Bv(o,a),h=qv(u)+qv(o.Ie);return Ld(u)&&Ld(o.Ie)?Fv(h):zd(o.serializer,h)})(n,e)}function wI(n,e,r){return n instanceof Wa?zv(n,e):n instanceof Qa?$v(n,e):r}function Bv(n,e){return n instanceof Ga?(function(r){return Ld(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Xu extends Hu{}class Wa extends Hu{constructor(e){super(),this.elements=e}}function zv(n,e){const r=Wv(e);for(const o of n.elements)r.some(a=>fr(a,o))||r.push(o);return{arrayValue:{values:r}}}class Qa extends Hu{constructor(e){super(),this.elements=e}}function $v(n,e){let r=Wv(e);for(const o of n.elements)r=r.filter(a=>!fr(a,o));return{arrayValue:{values:r}}}class Ga extends Hu{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function qv(n){return wt(n.integerValue||n.doubleValue)}function Wv(n){return Rd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SI{constructor(e,r){this.field=e,this.transform=r}}function EI(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Wa&&o instanceof Wa||r instanceof Qa&&o instanceof Qa?ys(r.elements,o.elements,fr):r instanceof Ga&&o instanceof Ga?fr(r.Ie,o.Ie):r instanceof Xu&&o instanceof Xu})(n.transform,e.transform)}class kI{constructor(e,r){this.version=e,this.transformResults=r}}class gr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ju{}function Qv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yv(n.key,gr.none()):new Ha(n.key,n.data,gr.none());{const r=n.data,o=Sn.empty();let a=new Nt(Qt.comparator);for(let u of e.fields)if(!a.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?o.delete(u):o.set(u,h),a=a.add(u)}return new Ci(n.key,o,new _n(a.toArray()),gr.none())}}function xI(n,e,r){n instanceof Ha?(function(o,a,u){const h=o.value.clone(),f=Hv(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,r):n instanceof Ci?(function(o,a,u){if(!Yu(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Hv(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Kv(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,r):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,r)}function Ka(n,e,r,o){return n instanceof Ha?(function(a,u,h,f){if(!Yu(a.precondition,u))return h;const m=a.value.clone(),g=Xv(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,r,o):n instanceof Ci?(function(a,u,h,f){if(!Yu(a.precondition,u))return h;const m=Xv(a.fieldTransforms,f,u),g=u.data;return g.setAll(Kv(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))})(n,e,r,o):(function(a,u,h){return Yu(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,r)}function TI(n,e){let r=null;for(const o of n.fieldTransforms){const a=e.data.field(o.field),u=Bv(o.transform,a||null);u!=null&&(r===null&&(r=Sn.empty()),r.set(o.field,u))}return r||null}function Gv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ys(r,o,(a,u)=>EI(a,u))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ha extends Ju{constructor(e,r,o,a=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ci extends Ju{constructor(e,r,o,a,u=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Kv(n){const e=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=n.data.field(r);e.set(r,o)}}),e}function Hv(n,e,r){const o=new Map;Ye(n.length===r.length);for(let a=0;a<r.length;a++){const u=n[a],h=u.transform,f=e.data.field(u.field);o.set(u.field,wI(h,f,r[a]))}return o}function Xv(n,e,r){const o=new Map;for(const a of n){const u=a.transform,h=r.data.field(a.field);o.set(a.field,bI(u,h,e))}return o}class Yv extends Ju{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends Ju{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class II{constructor(e,r,o,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&xI(u,e,o[a])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Ka(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Ka(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=jv();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=r.has(a.key)?null:f;const m=Qv(h,f);m!==null&&o.set(a.key,m),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(r,o)=>Gv(r,o))&&ys(this.baseMutations,e.baseMutations,(r,o)=>Gv(r,o))}}class $d{constructor(e,r,o,a){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(e,r,o){Ye(e.mutations.length===o.length);let a=(function(){return mI})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,o[h].version);return new $d(e,r,o,a)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _I{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AI{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ct,ze;function DI(n){switch(n){case ne.OK:return Ie();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ie()}}function Jv(n){if(n===void 0)return jr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Ct.OK:return ne.OK;case Ct.CANCELLED:return ne.CANCELLED;case Ct.UNKNOWN:return ne.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ne.INTERNAL;case Ct.UNAVAILABLE:return ne.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ne.NOT_FOUND;case Ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ct.ABORTED:return ne.ABORTED;case Ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ct.DATA_LOSS:return ne.DATA_LOSS;default:return Ie()}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PI=new wi([4294967295,4294967295],0);function Zv(n){const e=tv().encode(n),r=new Wy;return r.update(e),new Uint8Array(r.digest())}function e0(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new wi([r,o],0),new wi([a,u],0)]}class qd{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Xa(`Invalid padding: ${r}`);if(o<0)throw new Xa(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=wi.fromNumber(this.Ee)}Ae(e,r,o){let a=e.add(r.multiply(wi.fromNumber(o)));return a.compare(PI)===1&&(a=new wi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=Zv(e),[o,a]=e0(r);for(let u=0;u<this.hashCount;u++){const h=this.Ae(o,a,u);if(!this.Re(h))return!1}return!0}static create(e,r,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new qd(u,a,r);return o.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const r=Zv(e),[o,a]=e0(r);for(let u=0;u<this.hashCount;u++){const h=this.Ae(o,a,u);this.Ve(h)}}Ve(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zu{constructor(e,r,o,a,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const a=new Map;return a.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Zu(Ae.min(),a,new lt(Re),Fr(),Fe())}}class Ya{constructor(e,r,o,a,u){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Ya(o,r,Fe(),Fe(),Fe())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ec{constructor(e,r,o,a){this.me=e,this.removedTargetIds=r,this.key=o,this.fe=a}}class t0{constructor(e,r){this.targetId=e,this.ge=r}}class n0{constructor(e,r,o=Kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=a}}class r0{constructor(){this.pe=0,this.ye=i0(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),r=Fe(),o=Fe();return this.ye.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:Ie()}}),new Ya(this.we,this.Se,e,r,o)}Me(){this.be=!1,this.ye=i0()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class NI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Fr(),this.$e=tc(),this.Ue=tc(),this.Ke=new lt(Re)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const o=this.He(r);switch(e.state){case 0:this.Je(r)&&o.Ce(e.resumeToken);break;case 1:o.Be(),o.De||o.Me(),o.Ce(e.resumeToken);break;case 2:o.Be(),o.De||this.removeTarget(r);break;case 3:this.Je(r)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),o.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((o,a)=>{this.Je(a)&&r(a)})}Ze(e){const r=e.targetId,o=e.ge.count,a=this.Xe(r);if(a){const u=a.target;if(Fd(u))if(o===0){const h=new ke(u.path);this.ze(r,h,sn.newNoDocument(h,Ae.min()))}else Ye(o===1);else{const h=this.et(r);if(h!==o){const f=this.tt(e),m=f?this.nt(f,e,h):1;if(m!==0){this.Ye(r);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,g)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:u=0}=r;let h,f;try{h=xi(o).toUint8Array()}catch(m){if(m instanceof dv)return gs("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new qd(h,a,u)}catch(m){return gs(m instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ee===0?null:f}nt(e,r,o){return r.ge.count===o-this.st(e,r.targetId)?0:2}st(e,r){const o=this.ke.getRemoteKeysForTarget(r);let a=0;return o.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(r,u,null),a++)}),a}ot(e){const r=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&Fd(f.target)){const m=new ke(f.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,sn.newNoDocument(m,e))}u.ve&&(r.set(h,u.Fe()),u.Me())}});let o=Fe();this.Ue.forEach((u,h)=>{let f=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(o=o.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const a=new Zu(e,r,this.Ke,this.Qe,o);return this.Qe=Fr(),this.$e=tc(),this.Ue=tc(),this.Ke=new lt(Re),a}Ge(e,r){if(!this.Je(e))return;const o=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,o),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,o){if(!this.Je(e))return;const a=this.He(e);this.ut(e,r)?a.xe(r,1):a.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),o&&(this.Qe=this.Qe.insert(r,o))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new r0,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new Nt(Re),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new Nt(Re),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||ce("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new r0),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function tc(){return new lt(ke.comparator)}function i0(){return new lt(ke.comparator)}const MI={asc:"ASCENDING",desc:"DESCENDING"},LI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class VI{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Wd(n,e){return n.useProto3Json||Ru(e)?e:{value:e}}function nc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OI(n,e){return nc(n,e.toTimestamp())}function yr(n){return Ye(!!n),Ae.fromTimestamp((function(e){const r=ki(e);return new Pt(r.seconds,r.nanos)})(n))}function Qd(n,e){return Gd(n,e).canonicalString()}function Gd(n,e){const r=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?r:r.child(e)}function s0(n){const e=at.fromString(n);return Ye(d0(e)),e}function Kd(n,e){return Qd(n.databaseId,e.path)}function Hd(n,e){const r=s0(e);if(r.get(1)!==n.databaseId.projectId)throw new Se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new Se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new ke(l0(r))}function a0(n,e){return Qd(n.databaseId,e)}function jI(n){const e=s0(n);return e.length===4?at.emptyPath():l0(e)}function Xd(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l0(n){return Ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function u0(n,e,r){return{name:Kd(n,e),fields:r.value.mapValue.fields}}function FI(n,e){let r;if("targetChange"in e){e.targetChange;const o=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ie()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(m,g){return m.useProto3Json?(Ye(g===void 0||typeof g=="string"),Kt.fromBase64String(g||"")):(Ye(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Kt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(m){const g=m.code===void 0?ne.UNKNOWN:Jv(m.code);return new Se(g,m.message||"")})(h);r=new n0(o,a,u,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=Hd(n,o.document.name),u=yr(o.document.updateTime),h=o.document.createTime?yr(o.document.createTime):Ae.min(),f=new Sn({mapValue:{fields:o.document.fields}}),m=sn.newFoundDocument(a,u,h,f),g=o.targetIds||[],v=o.removedTargetIds||[];r=new ec(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=Hd(n,o.document),u=o.readTime?yr(o.readTime):Ae.min(),h=sn.newNoDocument(a,u),f=o.removedTargetIds||[];r=new ec([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=Hd(n,o.document),u=o.removedTargetIds||[];r=new ec([],u,a,null)}else{if(!("filter"in e))return Ie();{e.filter;const o=e.filter;o.targetId;const{count:a=0,unchangedNames:u}=o,h=new AI(a,u),f=o.targetId;r=new t0(f,h)}}return r}function UI(n,e){let r;if(e instanceof Ha)r={update:u0(n,e.key,e.value)};else if(e instanceof Yv)r={delete:Kd(n,e.key)};else if(e instanceof Ci)r={update:u0(n,e.key,e.data),updateMask:HI(e.fieldMask)};else{if(!(e instanceof CI))return Ie();r={verify:Kd(n,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>(function(a,u){const h=u.transform;if(h instanceof Xu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Wa)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Qa)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ga)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ie()})(0,o))),e.precondition.isNone||(r.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:OI(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()})(n,e.precondition)),r}function BI(n,e){return n&&n.length>0?(Ye(e!==void 0),n.map(r=>(function(o,a){let u=o.updateTime?yr(o.updateTime):yr(a);return u.isEqual(Ae.min())&&(u=yr(a)),new kI(u,o.transformResults||[])})(r,e))):[]}function zI(n,e){return{documents:[a0(n,e.path)]}}function $I(n,e){const r={structuredQuery:{}},o=e.path;let a;e.collectionGroup!==null?(a=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=a0(n,a);const u=(function(m){if(m.length!==0)return h0(pr.create(m,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map(g=>(function(v){return{field:ks(v.field),direction:QI(v.dir)}})(g))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const f=Wd(n,e.limit);return f!==null&&(r.structuredQuery.limit=f),e.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ht:r,parent:a}}function qI(n){let e=jI(n.parent);const r=n.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ye(o===1);const v=r.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let u=[];r.where&&(u=(function(v){const S=c0(v);return S instanceof pr&&_v(S)?S.getFilters():[S]})(r.where));let h=[];r.orderBy&&(h=(function(v){return v.map(S=>(function(T){return new Wu(xs(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(S))})(r.orderBy));let f=null;r.limit&&(f=(function(v){let S;return S=typeof v=="object"?v.value:v,Ru(S)?null:S})(r.limit));let m=null;r.startAt&&(m=(function(v){const S=!!v.before,T=v.values||[];return new qu(T,S)})(r.startAt));let g=null;return r.endAt&&(g=(function(v){const S=!v.before,T=v.values||[];return new qu(T,S)})(r.endAt)),uI(e,a,h,u,f,"F",m,g)}function WI(n,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function c0(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=xs(e.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=xs(e.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xs(e.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xs(e.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}})(n):n.fieldFilter!==void 0?(function(e){return Mt.create(xs(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return pr.create(e.compositeFilter.filters.map(r=>c0(r)),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ie()}})(e.compositeFilter.op))})(n):Ie()}function QI(n){return MI[n]}function GI(n){return LI[n]}function KI(n){return RI[n]}function ks(n){return{fieldPath:n.canonicalString()}}function xs(n){return Qt.fromServerFormat(n.fieldPath)}function h0(n){return n instanceof Mt?(function(e){if(e.op==="=="){if(Ev(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NAN"}};if(Sv(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Ev(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NOT_NAN"}};if(Sv(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(e.field),op:GI(e.op),value:e.value}}})(n):n instanceof pr?(function(e){const r=e.getFilters().map(o=>h0(o));return r.length===1?r[0]:{compositeFilter:{op:KI(e.op),filters:r}}})(n):Ie()}function HI(n){const e=[];return n.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function d0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ii{constructor(e,r,o,a,u=Ae.min(),h=Ae.min(),f=Kt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XI{constructor(e){this.Tt=e}}function YI(n){const e=qI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bd(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JI{constructor(){this.Tn=new ZI}addToCollectionParentIndex(e,r){return this.Tn.add(r),X.resolve()}getCollectionParents(e,r){return X.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return X.resolve()}deleteFieldIndex(e,r){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,r){return X.resolve()}getDocumentsMatchingTarget(e,r){return X.resolve(null)}getIndexType(e,r){return X.resolve(0)}getFieldIndexes(e,r){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,r){return X.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,r){return X.resolve(Si.min())}updateCollectionGroup(e,r,o){return X.resolve()}updateIndexEntries(e,r){return X.resolve()}}class ZI{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r]||new Nt(at.comparator),u=!a.has(o);return this.index[r]=a.add(o),u}has(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Nt(at.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p0=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(p0,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ts{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ts(0)}static Kn(){return new Ts(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const m0="LruGarbageCollector",e_=1048576;function g0([n,e],[r,o]){const a=Re(n,r);return a===0?Re(e,o):a}class t_{constructor(e){this.Hn=e,this.buffer=new Nt(g0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();g0(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class n_{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(m0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){bs(r)?ce(m0,"Ignoring IndexedDB error during garbage collection: ",r):await vs(r)}await this.er(3e5)})}}class r_{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(r===0)return X.resolve(Lu.ae);const o=new t_(r);return this.tr.forEachTarget(e,a=>o.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>o.Zn(a))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.tr.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(f0)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let o,a,u,h,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(o=S,f=Date.now(),this.removeTargets(e,o,r))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,o))).next(S=>(g=Date.now(),ms()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${a} in `+(f-h)+`ms
	Removed ${u} targets in `+(m-f)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S})))}}function i_(n,e){return new r_(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o_{constructor(){this.changes=new To(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?X.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class s_{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a_{constructor(e,r,o,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(o!==null&&Ka(o.mutation,a,_n.empty(),Pt.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Fe()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Fe()){const a=Co();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,o).next(u=>{let h=$a();return u.forEach((f,m)=>{h=h.insert(f,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,r){const o=Co();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Fe()))}populateOverlays(e,r,o){const a=[];return o.forEach(u=>{r.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,f)=>{r.set(h,f)})})}computeViews(e,r,o,a){let u=Fr();const h=qa(),f=(function(){return qa()})();return r.forEach((m,g)=>{const v=o.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ci)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Ka(v.mutation,g,v.mutation.getFieldMask(),Pt.now())):h.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>h.set(g,v)),r.forEach((g,v)=>{var S;return f.set(g,new s_(v,(S=h.get(g))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,r){const o=qa();let a=new lt((h,f)=>h-f),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(h=>{for(const f of h)f.keys().forEach(m=>{const g=r.get(m);if(g===null)return;let v=o.get(m)||_n.empty();v=f.applyToLocalView(g,v),o.set(m,v);const S=(a.get(f.batchId)||Fe()).add(m);a=a.insert(f.batchId,S)})}).next(()=>{const h=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,S=jv();v.forEach(T=>{if(!u.has(T)){const A=Qv(r.get(T),o.get(T));A!==null&&S.set(T,A),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return X.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,a){return(function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):cI(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,a):this.getDocumentsMatchingCollectionQuery(e,r,o,a)}getNextDocuments(e,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,a-u.size):X.resolve(Co());let f=Oa,m=u;return h.next(g=>X.forEach(g,(v,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Fe())).next(v=>({batchId:f,changes:Ov(v)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ke(r)).next(o=>{let a=$a();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,o,a){const u=r.collectionGroup;let h=$a();return this.indexManager.getCollectionParents(e,u).next(f=>X.forEach(f,m=>{const g=(function(v,S){return new Qu(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(r,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,o,a).next(v=>{v.forEach((S,T)=>{h=h.insert(S,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,r,o,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,u,a))).next(h=>{u.forEach((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,sn.newInvalidDocument(v)))});let f=$a();return h.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Ka(v.mutation,g,_n.empty(),Pt.now()),Ku(r,g)&&(f=f.insert(m,g))}),f})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l_{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return X.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}})(r)),X.resolve()}getNamedQuery(e,r){return X.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(o){return{name:o.name,query:YI(o.bundledQuery),readTime:yr(o.readTime)}})(r)),X.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u_{constructor(){this.overlays=new lt(ke.comparator),this.Rr=new Map}getOverlay(e,r){return X.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Co();return X.forEach(r,a=>this.getOverlay(e,a).next(u=>{u!==null&&o.set(a,u)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((a,u)=>{this.Et(e,r,u)}),X.resolve()}removeOverlaysForBatchId(e,r,o){const a=this.Rr.get(o);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(o)),X.resolve()}getOverlaysForCollection(e,r,o){const a=Co(),u=r.length+1,h=new ke(r.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>o&&a.set(m.getKey(),m)}return X.resolve(a)}getOverlaysForCollectionGroup(e,r,o,a){let u=new lt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>o){let v=u.get(g.largestBatchId);v===null&&(v=Co(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Co(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>f.set(g,v)),!(f.size()>=a)););return X.resolve(f)}Et(e,r,o){const a=this.overlays.get(o.key);if(a!==null){const h=this.Rr.get(a.largestBatchId).delete(o.key);this.Rr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new _I(r,o));let u=this.Rr.get(r);u===void 0&&(u=Fe(),this.Rr.set(r,u)),this.Rr.set(r,u.add(o.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c_{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,X.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yd{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const o=new jt(e,r);this.Vr=this.Vr.add(o),this.gr=this.gr.add(o)}yr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.wr(new jt(e,r))}Sr(e,r){e.forEach(o=>this.removeReference(o,r))}br(e){const r=new ke(new at([])),o=new jt(r,e),a=new jt(r,e+1),u=[];return this.gr.forEachInRange([o,a],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new ke(new at([])),o=new jt(r,e),a=new jt(r,e+1);let u=Fe();return this.gr.forEachInRange([o,a],h=>{u=u.add(h.key)}),u}containsKey(e){const r=new jt(e,0),o=this.Vr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class jt{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return ke.comparator(e.key,r.key)||Re(e.Cr,r.Cr)}static pr(e,r){return Re(e.Cr,r.Cr)||ke.comparator(e.key,r.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,a){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new II(u,r,o,a);this.mutationQueue.push(h);for(const f of a)this.Mr=this.Mr.add(new jt(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,r){return X.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=this.Nr(o),u=a<0?0:a;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pd:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new jt(r,0),a=new jt(r,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([o,a],h=>{const f=this.Or(h.Cr);u.push(f)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Nt(Re);return r.forEach(a=>{const u=new jt(a,0),h=new jt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{o=o.add(f.Cr)})}),X.resolve(this.Br(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1;let u=o;ke.isDocumentKey(u)||(u=u.child(""));const h=new jt(new ke(u),0);let f=new Nt(Re);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!o.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Cr)),!0)},h),X.resolve(this.Br(f))}Br(e){const r=[];return e.forEach(o=>{const a=this.Or(o);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){Ye(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Mr;return X.forEach(r.mutations,a=>{const u=new jt(a.key,r.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=o})}qn(e){}containsKey(e,r){const o=new jt(r,0),a=this.Mr.firstAfterOrEqual(o);return X.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d_{constructor(e){this.kr=e,this.docs=(function(){return new lt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,a=this.docs.get(o),u=a?a.size:0,h=this.kr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return X.resolve(o?o.document.mutableCopy():sn.newInvalidDocument(r))}getEntries(e,r){let o=Fr();return r.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():sn.newInvalidDocument(a))}),X.resolve(o)}getDocumentsMatchingQuery(e,r,o,a){let u=Fr();const h=r.path,f=new ke(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||BC(UC(v),o)<=0||(a.has(v.key)||Ku(r,v))&&(u=u.insert(v.key,v.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,r,o,a){Ie()}qr(e,r){return X.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new f_(this)}getSize(e){return X.resolve(this.size)}}class f_ extends o_{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(o)}),X.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p_{constructor(e){this.persistence=e,this.Qr=new To(r=>Od(r),jd),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Yd,this.targetCount=0,this.Kr=Ts.Un()}forEachTarget(e,r){return this.Qr.forEach((o,a)=>r(a)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.$r&&(this.$r=r),X.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new Ts(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,X.resolve()}updateTargetData(e,r){return this.zn(r),X.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,r,o){let a=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=r&&o.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),X.waitFor(u).next(()=>a)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,r){const o=this.Qr.get(r)||null;return X.resolve(o)}addMatchingKeys(e,r,o){return this.Ur.yr(r,o),X.resolve()}removeMatchingKeys(e,r,o){this.Ur.Sr(r,o);const a=this.persistence.referenceDelegate,u=[];return a&&r.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),X.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),X.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Ur.vr(r);return X.resolve(o)}containsKey(e,r){return X.resolve(this.Ur.containsKey(r))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y0{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new Lu(0),this.zr=!1,this.zr=!0,this.jr=new c_,this.referenceDelegate=e(this),this.Hr=new p_(this),this.indexManager=new JI,this.remoteDocumentCache=(function(o){return new d_(o)})(o=>this.referenceDelegate.Jr(o)),this.serializer=new XI(r),this.Yr=new l_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new u_,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Wr[e.toKey()];return o||(o=new h_(r,this.referenceDelegate),this.Wr[e.toKey()]=o),o}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,o){ce("MemoryPersistence","Starting transaction:",e);const a=new m_(this.Gr.next());return this.referenceDelegate.Zr(),o(a).next(u=>this.referenceDelegate.Xr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}ei(e,r){return X.or(Object.values(this.Wr).map(o=>()=>o.containsKey(e,r)))}}class m_ extends $C{constructor(e){super(),this.currentSequenceNumber=e}}class Jd{constructor(e){this.persistence=e,this.ti=new Yd,this.ni=null}static ri(e){return new Jd(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,r,o){return this.ti.addReference(o,r),this.ii.delete(o.toString()),X.resolve()}removeReference(e,r,o){return this.ti.removeReference(o,r),this.ii.add(o.toString()),X.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),X.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(a=>this.ii.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(u=>this.ii.add(u.toString()))}).next(()=>o.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,o=>{const a=ke.fromPath(o);return this.si(e,a).next(u=>{u||r.removeEntry(a,Ae.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(o=>{o?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return X.or([()=>X.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class rc{constructor(e,r){this.persistence=e,this.oi=new To(o=>QC(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=i_(this,r)}static ri(e,r){return new rc(e,r)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>r.next(a=>o+a))}sr(e){let r=0;return this.rr(e,o=>{r++}).next(()=>r)}rr(e,r){return X.forEach(this.oi,(o,a)=>this.ar(e,o,a).next(u=>u?X.resolve():r(a)))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.qr(e,h=>this.ar(e,h,r).next(f=>{f||(o++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.oi.set(o,e.currentSequenceNumber),X.resolve()}removeReference(e,r,o){return this.oi.set(o,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=zu(e.data.value)),r}ar(e,r,o){return X.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.oi.get(r);return X.resolve(a!==void 0&&a>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zd{constructor(e,r,o,a){this.targetId=e,this.fromCache=r,this.Hi=o,this.Ji=a}static Yi(e,r){let o=Fe(),a=Fe();for(const u of r.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Zd(e,r.fromCache,o,a)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y_{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return Qx()?8:qC(qx())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,o,a){const u={result:null};return this.rs(e,r).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,r,a,o).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new g_;return this._s(e,r,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,r,h,f.size)})}).next(()=>u.result)}us(e,r,o,a){return o.documentReadCount<this.es?(ms()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Es(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(ms()<=Be.DEBUG&&ce("QueryEngine","Query:",Es(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.ts*a?(ms()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Es(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(r))):X.resolve())}rs(e,r){if(Mv(r))return X.resolve(null);let o=mr(r);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Bd(r,null,"F"),o=mr(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const h=Fe(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,o).next(m=>{const g=this.cs(r,f);return this.ls(r,g,h,m.readTime)?this.rs(e,Bd(r,null,"F")):this.hs(e,g,r,m)}))})))}ss(e,r,o,a){return Mv(r)||a.isEqual(Ae.min())?X.resolve(null):this.ns.getDocuments(e,o).next(u=>{const h=this.cs(r,u);return this.ls(r,h,o,a)?X.resolve(null):(ms()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Es(r)),this.hs(e,h,r,FC(a,Oa)).next(f=>f))})}cs(e,r){let o=new Nt(Rv(e));return r.forEach((a,u)=>{Ku(e,u)&&(o=o.add(u))}),o}ls(e,r,o,a){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}_s(e,r,o){return ms()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Es(r)),this.ns.getDocumentsMatchingQuery(e,r,Si.min(),o)}hs(e,r,o,a){return this.ns.getDocumentsMatchingQuery(e,o,a).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ef="LocalStore",v_=3e8;class b_{constructor(e,r,o,a){this.persistence=e,this.Ps=r,this.serializer=a,this.Ts=new lt(Re),this.Is=new To(u=>Od(u),jd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(o)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a_(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function w_(n,e,r,o){return new b_(n,e,r,o)}async function v0(n,e){const r=De(n);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,r.As(e),r.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],f=[];let m=Fe();for(const g of a){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return r.localDocuments.getDocuments(o,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:f}))})})}function S_(n,e){const r=De(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=r.ds.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,g){const v=m.batch,S=v.keys();let T=X.resolve();return S.forEach(A=>{T=T.next(()=>g.getEntry(f,A)).next(V=>{const z=m.docVersions.get(A);Ye(z!==null),V.version.compareTo(z)<0&&(v.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),g.addEntry(V)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,v))})(r,o,e,u).next(()=>u.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,(function(h){let f=Fe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e))).next(()=>r.localDocuments.getDocuments(o,a))})}function b0(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function E_(n,e){const r=De(n),o=e.snapshotVersion;let a=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.ds.newChangeBuffer({trackRemovals:!0});a=r.Ts;const f=[];e.targetChanges.forEach((v,S)=>{const T=a.get(S);if(!T)return;f.push(r.Hr.removeMatchingKeys(u,v.removedDocuments,S).next(()=>r.Hr.addMatchingKeys(u,v.addedDocuments,S)));let A=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?A=A.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,o)),a=a.insert(S,A),(function(V,z,j){return V.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=v_?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,A,v)&&f.push(r.Hr.updateTargetData(u,A))});let m=Fr(),g=Fe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(u,v))}),f.push(k_(u,h,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!o.isEqual(Ae.min())){const v=r.Hr.getLastRemoteSnapshotVersion(u).next(S=>r.Hr.setTargetsMetadata(u,u.currentSequenceNumber,o));f.push(v)}return X.waitFor(f).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(r.Ts=a,u))}function k_(n,e,r){let o=Fe(),a=Fe();return r.forEach(u=>o=o.add(u)),e.getEntries(n,o).next(u=>{let h=Fr();return r.forEach((f,m)=>{const g=u.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),h=h.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(f,m)):ce(ef,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:a}})}function x_(n,e){const r=De(n);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=Pd),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function T_(n,e){const r=De(n);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Hr.getTargetData(o,e).next(u=>u?(a=u,X.resolve(a)):r.Hr.allocateTargetId(o).next(h=>(a=new Ii(e,h,"TargetPurposeListen",o.currentSequenceNumber),r.Hr.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.Ts.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(o.targetId,o),r.Is.set(e,o.targetId)),o})}async function tf(n,e,r){const o=De(n),a=o.Ts.get(e),u=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!bs(h))throw h;ce(ef,`Failed to update sequence numbers for target ${e}: ${h}`)}o.Ts=o.Ts.remove(e),o.Is.delete(a.target)}function w0(n,e,r){const o=De(n);let a=Ae.min(),u=Fe();return o.persistence.runTransaction("Execute query","readwrite",h=>(function(f,m,g){const v=De(f),S=v.Is.get(g);return S!==void 0?X.resolve(v.Ts.get(S)):v.Hr.getTargetData(m,g)})(o,h,mr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,o.Hr.getMatchingKeysForTargetId(h,f.targetId).next(m=>{u=m})}).next(()=>o.Ps.getDocumentsMatchingQuery(h,e,r?a:Ae.min(),r?u:Fe())).next(f=>(C_(o,dI(e),f),{documents:f,gs:u})))}function C_(n,e,r){let o=n.Es.get(e)||Ae.min();r.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),n.Es.set(e,o)}class S0{constructor(){this.activeTargetIds=vI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I_{constructor(){this.ho=new S0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,o){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new S0,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class __{To(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E0="ConnectivityMonitor";class k0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(E0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ic=null;function nf(){return ic===null?ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():ic++,"0x"+ic.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rf="RestConnection",A_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D_{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${o}/databases/${a}`,this.wo=this.databaseId.database===Fu?`project_id=${o}`:`project_id=${o}&database_id=${a}`}So(e,r,o,a,u){const h=nf(),f=this.bo(e,r.toUriEncodedString());ce(rf,`Sending RPC '${e}' ${h}:`,f,o);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,u),this.vo(e,f,m,o).then(g=>(ce(rf,`Received RPC '${e}' ${h}: `,g),g),g=>{throw gs(rf,`RPC '${e}' ${h} failed with error: `,g,"url: ",f,"request:",o),g})}Co(e,r,o,a,u,h){return this.So(e,r,o,a,u)}Do(e,r,o){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ps})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}bo(e,r){const o=A_[e];return`${this.po}/v1/${r}:${o}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P_{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const an="WebChannelConnection";class N_ extends D_{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,o,a){const u=nf();return new Promise((h,f)=>{const m=new Qy;m.setWithCredentials(!0),m.listenOnce(Gy.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Mu.NO_ERROR:const v=m.getResponseJson();ce(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Mu.TIMEOUT:ce(an,`RPC '${e}' ${u} timed out`),f(new Se(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const S=m.getStatus();if(ce(an,`RPC '${e}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const V=(function(z){const j=z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(j)>=0?j:ne.UNKNOWN})(A.status);f(new Se(V,A.message))}else f(new Se(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Se(ne.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ce(an,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(a);ce(an,`RPC '${e}' ${u} sending request:`,a),m.send(r,"POST",g,o,15)})}Wo(e,r,o){const a=nf(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Xy(),f=Hy(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,r,o),m.encodeInitMessageHeaders=!0;const v=u.join("");ce(an,`Creating RPC '${e}' stream ${a}: ${v}`,m);const S=h.createWebChannel(v,m);let T=!1,A=!1;const V=new P_({Fo:j=>{A?ce(an,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(T||(ce(an,`Opening RPC '${e}' stream ${a} transport.`),S.open(),T=!0),ce(an,`RPC '${e}' stream ${a} sending:`,j),S.send(j))},Mo:()=>S.close()}),z=(j,Z,te)=>{j.listen(Z,oe=>{try{te(oe)}catch(ge){setTimeout(()=>{throw ge},0)}})};return z(S,Va.EventType.OPEN,()=>{A||(ce(an,`RPC '${e}' stream ${a} transport opened.`),V.Qo())}),z(S,Va.EventType.CLOSE,()=>{A||(A=!0,ce(an,`RPC '${e}' stream ${a} transport closed`),V.Uo())}),z(S,Va.EventType.ERROR,j=>{A||(A=!0,gs(an,`RPC '${e}' stream ${a} transport errored:`,j),V.Uo(new Se(ne.UNAVAILABLE,"The operation could not be completed")))}),z(S,Va.EventType.MESSAGE,j=>{var Z;if(!A){const te=j.data[0];Ye(!!te);const oe=te,ge=(oe==null?void 0:oe.error)||((Z=oe[0])===null||Z===void 0?void 0:Z.error);if(ge){ce(an,`RPC '${e}' stream ${a} received error:`,ge);const ae=ge.status;let ye=(function(C){const I=Ct[C];if(I!==void 0)return Jv(I)})(ae),L=ge.message;ye===void 0&&(ye=ne.INTERNAL,L="Unknown error status: "+ae+" with message "+ge.message),A=!0,V.Uo(new Se(ye,L)),S.close()}else ce(an,`RPC '${e}' stream ${a} received:`,te),V.Ko(te)}}),z(f,Ky.STAT_EVENT,j=>{j.stat===_d.PROXY?ce(an,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===_d.NOPROXY&&ce(an,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function of(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oc(n){return new VI(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x0{constructor(e,r,o=1e3,a=1.5,u=6e4){this.Ti=e,this.timerId=r,this.Go=o,this.zo=a,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),a=Math.max(0,r-o);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T0="PersistentStream";class C0{constructor(e,r,o,a,u,h,f,m){this.Ti=e,this.n_=o,this.r_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new x0(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(jr(r.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.i_===r&&this.V_(o,a)},o=>{e(()=>{const a=new Se(ne.UNKNOWN,"Fetching auth token failed: "+o.message);return this.m_(a)})})}V_(e,r){const o=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{o(()=>this.listener.xo())}),this.stream.No(()=>{o(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{o(()=>this.m_(a))}),this.stream.onMessage(a=>{o(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(ce(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M_ extends C0{constructor(e,r,o,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,h),this.serializer=u}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=FI(this.serializer,e),o=(function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?yr(u.readTime):Ae.min()})(e);return this.listener.p_(r,o)}y_(e){const r={};r.database=Xd(this.serializer),r.addTarget=(function(a,u){let h;const f=u.target;if(h=Fd(f)?{documents:zI(a,f)}:{query:$I(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=o0(a,u.resumeToken);const m=Wd(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=nc(a,u.snapshotVersion.toTimestamp());const m=Wd(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const o=WI(this.serializer,e);o&&(r.labels=o),this.I_(r)}w_(e){const r={};r.database=Xd(this.serializer),r.removeTarget=e,this.I_(r)}}class L_ extends C0{constructor(e,r,o,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=BI(e.writeResults,e.commitTime),o=yr(e.commitTime);return this.listener.v_(o,r)}C_(){const e={};e.database=Xd(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>UI(this.serializer,o))};this.I_(r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R_{}class V_ extends R_{constructor(e,r,o,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Se(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Gd(r,o),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ne.UNKNOWN,u.toString())})}Co(e,r,o,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,Gd(r,o),a,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Se(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class O_{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(jr(r),this.N_=!1):ce("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Io="RemoteStore";class j_{constructor(e,r,o,a,u){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{o.enqueueAndForget(async()=>{_o(this)&&(ce(Io,"Restarting streams for network reachability change."),await(async function(f){const m=De(f);m.W_.add(4),await Ja(m),m.j_.set("Unknown"),m.W_.delete(4),await sc(m)})(this))})}),this.j_=new O_(o,a)}}async function sc(n){if(_o(n))for(const e of n.G_)await e(!0)}async function Ja(n){for(const e of n.G_)await e(!1)}function I0(n,e){const r=De(n);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),uf(r)?lf(r):Cs(r).c_()&&af(r,e))}function sf(n,e){const r=De(n),o=Cs(r);r.K_.delete(e),o.c_()&&_0(r,e),r.K_.size===0&&(o.c_()?o.P_():_o(r)&&r.j_.set("Unknown"))}function af(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cs(n).y_(e)}function _0(n,e){n.H_.Ne(e),Cs(n).w_(e)}function lf(n){n.H_=new NI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Cs(n).start(),n.j_.B_()}function uf(n){return _o(n)&&!Cs(n).u_()&&n.K_.size>0}function _o(n){return De(n).W_.size===0}function A0(n){n.H_=void 0}async function F_(n){n.j_.set("Online")}async function U_(n){n.K_.forEach((e,r)=>{af(n,e)})}async function B_(n,e){A0(n),uf(n)?(n.j_.q_(e),lf(n)):n.j_.set("Unknown")}async function z_(n,e,r){if(n.j_.set("Online"),e instanceof n0&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.K_.delete(h),o.H_.removeTarget(h))})(n,e)}catch(o){ce(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await ac(n,o)}else if(e instanceof ec?n.H_.We(e):e instanceof t0?n.H_.Ze(e):n.H_.je(e),!r.isEqual(Ae.min()))try{const o=await b0(n.localStore);r.compareTo(o)>=0&&await(function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.K_.get(m);g&&a.K_.set(m,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const g=a.K_.get(f);if(!g)return;a.K_.set(f,g.withResumeToken(Kt.EMPTY_BYTE_STRING,g.snapshotVersion)),_0(a,f);const v=new Ii(g.target,f,m,g.sequenceNumber);af(a,v)}),a.remoteSyncer.applyRemoteEvent(h)})(n,r)}catch(o){ce(Io,"Failed to raise snapshot:",o),await ac(n,o)}}async function ac(n,e,r){if(!bs(e))throw e;n.W_.add(1),await Ja(n),n.j_.set("Offline"),r||(r=()=>b0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Io,"Retrying IndexedDB access"),await r(),n.W_.delete(1),await sc(n)})}function D0(n,e){return e().catch(r=>ac(n,r,e))}async function lc(n){const e=De(n),r=_i(e);let o=e.U_.length>0?e.U_[e.U_.length-1].batchId:Pd;for(;$_(e);)try{const a=await x_(e.localStore,o);if(a===null){e.U_.length===0&&r.P_();break}o=a.batchId,q_(e,a)}catch(a){await ac(e,a)}P0(e)&&N0(e)}function $_(n){return _o(n)&&n.U_.length<10}function q_(n,e){n.U_.push(e);const r=_i(n);r.c_()&&r.S_&&r.b_(e.mutations)}function P0(n){return _o(n)&&!_i(n).u_()&&n.U_.length>0}function N0(n){_i(n).start()}async function W_(n){_i(n).C_()}async function Q_(n){const e=_i(n);for(const r of n.U_)e.b_(r.mutations)}async function G_(n,e,r){const o=n.U_.shift(),a=$d.from(o,e,r);await D0(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await lc(n)}async function K_(n,e){e&&_i(n).S_&&await(async function(r,o){if((function(a){return DI(a)&&a!==ne.ABORTED})(o.code)){const a=r.U_.shift();_i(r).h_(),await D0(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await lc(r)}})(n,e),P0(n)&&N0(n)}async function M0(n,e){const r=De(n);r.asyncQueue.verifyOperationInProgress(),ce(Io,"RemoteStore received new credentials");const o=_o(r);r.W_.add(3),await Ja(r),o&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await sc(r)}async function H_(n,e){const r=De(n);e?(r.W_.delete(2),await sc(r)):e||(r.W_.add(2),await Ja(r),r.j_.set("Unknown"))}function Cs(n){return n.J_||(n.J_=(function(e,r,o){const a=De(e);return a.M_(),new M_(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{xo:F_.bind(null,n),No:U_.bind(null,n),Lo:B_.bind(null,n),p_:z_.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),uf(n)?lf(n):n.j_.set("Unknown")):(await n.J_.stop(),A0(n))})),n.J_}function _i(n){return n.Y_||(n.Y_=(function(e,r,o){const a=De(e);return a.M_(),new L_(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:W_.bind(null,n),Lo:K_.bind(null,n),D_:Q_.bind(null,n),v_:G_.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await lc(n)):(await n.Y_.stop(),n.U_.length>0&&(ce(Io,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cf{constructor(e,r,o,a,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,a,u){const h=Date.now()+o,f=new cf(e,r,h,a,u);return f.start(o),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hf(n,e){if(jr("AsyncQueue",`${e}: ${n}`),bs(n))return new Se(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(r,o)=>e(r,o)||ke.comparator(r.key,o.key):(r,o)=>ke.comparator(r.key,o.key),this.keyedMap=$a(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Is;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L0{constructor(){this.Z_=new lt(ke.comparator)}track(e){const r=e.doc.key,o=this.Z_.get(r);o?e.type!==0&&o.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&o.type!==1?this.Z_=this.Z_.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Z_=this.Z_.remove(r):e.type===1&&o.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,o)=>{e.push(o)}),e}}class _s{constructor(e,r,o,a,u,h,f,m,g){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,r,o,a,u){const h=[];return r.forEach(f=>{h.push({type:0,doc:f})}),new _s(e,r,Is.emptySet(r),h,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X_{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Y_{constructor(){this.queries=R0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,r){const o=De(e),a=o.queries;o.queries=R0(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(r)})})(this,new Se(ne.ABORTED,"Firestore shutting down"))}}function R0(){return new To(n=>Lv(n),Gu)}async function J_(n,e){const r=De(n);let o=3;const a=e.query;let u=r.queries.get(a);u?!u.na()&&e.ra()&&(o=2):(u=new X_,o=e.ra()?0:1);try{switch(o){case 0:u.ea=await r.onListen(a,!0);break;case 1:u.ea=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(h){const f=hf(h,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(f)}r.queries.set(a,u),u.ta.push(e),e.sa(r.onlineState),u.ea&&e.oa(u.ea)&&df(r)}async function Z_(n,e){const r=De(n),o=e.query;let a=3;const u=r.queries.get(o);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?a=e.ra()?0:1:!u.na()&&e.ra()&&(a=2))}switch(a){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function eA(n,e){const r=De(n);let o=!1;for(const a of e){const u=a.query,h=r.queries.get(u);if(h){for(const f of h.ta)f.oa(a)&&(o=!0);h.ea=a}}o&&df(r)}function tA(n,e,r){const o=De(n),a=o.queries.get(e);if(a)for(const u of a.ta)u.onError(r);o.queries.delete(e)}function df(n){n.ia.forEach(e=>{e.next()})}var ff,V0;(V0=ff||(ff={}))._a="default",V0.Cache="cache";class nA{constructor(e,r,o){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=o||{}}oa(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new _s(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const o=r!=="Offline";return(!this.options.Ta||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ff.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O0{constructor(e){this.key=e}}class j0{constructor(e){this.key=e}}class rA{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=Rv(e),this.wa=new Is(this.ya)}get Sa(){return this.fa}ba(e,r){const o=r?r.Da:new L0,a=r?r.wa:this.wa;let u=r?r.mutatedKeys:this.mutatedKeys,h=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,S)=>{const T=a.get(v),A=Ku(this.query,S)?S:null,V=!!T&&this.mutatedKeys.has(T.key),z=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;T&&A?T.data.isEqual(A.data)?V!==z&&(o.track({type:3,doc:A}),j=!0):this.va(T,A)||(o.track({type:2,doc:A}),j=!0,(m&&this.ya(A,m)>0||g&&this.ya(A,g)<0)&&(f=!0)):!T&&A?(o.track({type:0,doc:A}),j=!0):T&&!A&&(o.track({type:1,doc:T}),j=!0,(m||g)&&(f=!0)),j&&(A?(h=h.add(A),u=z?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),o.track({type:1,doc:v})}return{wa:h,Da:o,ls:f,mutatedKeys:u}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,a){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,S)=>(function(T,A){const V=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return V(T)-V(A)})(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(o),a=a!=null&&a;const f=r&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new _s(this.query,e.wa,u,h,e.mutatedKeys,m===0,g,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new L0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(o=>{this.xa(o.key)&&(this.pa=this.pa.add(o.key))});const r=[];return e.forEach(o=>{this.pa.has(o)||r.push(new j0(o))}),this.pa.forEach(o=>{e.has(o)||r.push(new O0(o))}),r}Oa(e){this.fa=e.gs,this.pa=Fe();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return _s.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pf="SyncEngine";class iA{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class oA{constructor(e){this.key=e,this.Ba=!1}}class sA{constructor(e,r,o,a,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new To(f=>Lv(f),Gu),this.qa=new Map,this.Qa=new Set,this.$a=new lt(ke.comparator),this.Ua=new Map,this.Ka=new Yd,this.Wa={},this.Ga=new Map,this.za=Ts.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function aA(n,e,r=!0){const o=Q0(n);let a;const u=o.ka.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Na()):a=await F0(o,e,r,!0),a}async function lA(n,e){const r=Q0(n);await F0(r,e,!0,!1)}async function F0(n,e,r,o){const a=await T_(n.localStore,mr(e)),u=a.targetId,h=n.sharedClientState.addLocalQueryTarget(u,r);let f;return o&&(f=await uA(n,e,u,h==="current",a.resumeToken)),n.isPrimaryClient&&r&&I0(n.remoteStore,a),f}async function uA(n,e,r,o,a){n.Ha=(S,T,A)=>(async function(V,z,j,Z){let te=z.view.ba(j);te.ls&&(te=await w0(V.localStore,z.query,!1).then(({documents:ye})=>z.view.ba(ye,te)));const oe=Z&&Z.targetChanges.get(z.targetId),ge=Z&&Z.targetMismatches.get(z.targetId)!=null,ae=z.view.applyChanges(te,V.isPrimaryClient,oe,ge);return W0(V,z.targetId,ae.Ma),ae.snapshot})(n,S,T,A);const u=await w0(n.localStore,e,!0),h=new rA(e,u.gs),f=h.ba(u.documents),m=Ya.createSynthesizedTargetChangeForCurrentChange(r,o&&n.onlineState!=="Offline",a),g=h.applyChanges(f,n.isPrimaryClient,m);W0(n,r,g.Ma);const v=new iA(e,r,h);return n.ka.set(e,v),n.qa.has(r)?n.qa.get(r).push(e):n.qa.set(r,[e]),g.snapshot}async function cA(n,e,r){const o=De(n),a=o.ka.get(e),u=o.qa.get(a.targetId);if(u.length>1)return o.qa.set(a.targetId,u.filter(h=>!Gu(h,e))),void o.ka.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await tf(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),r&&sf(o.remoteStore,a.targetId),mf(o,a.targetId)}).catch(vs)):(mf(o,a.targetId),await tf(o.localStore,a.targetId,!0))}async function hA(n,e){const r=De(n),o=r.ka.get(e),a=r.qa.get(o.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),sf(r.remoteStore,o.targetId))}async function dA(n,e,r){const o=bA(n);try{const a=await(function(u,h){const f=De(u),m=Pt.now(),g=h.reduce((T,A)=>T.add(A.key),Fe());let v,S;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Fr(),V=Fe();return f.ds.getEntries(T,g).next(z=>{A=z,A.forEach((j,Z)=>{Z.isValidDocument()||(V=V.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,A)).next(z=>{v=z;const j=[];for(const Z of h){const te=TI(Z,v.get(Z.key).overlayedDocument);te!=null&&j.push(new Ci(Z.key,te,kv(te.value.mapValue),gr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,j,h)}).next(z=>{S=z;const j=z.applyToLocalDocumentSet(v,V);return f.documentOverlayCache.saveOverlays(T,z.batchId,j)})}).then(()=>({batchId:S.batchId,changes:Ov(v)}))})(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new lt(Re)),m=m.insert(h,f),u.Wa[u.currentUser.toKey()]=m})(o,a.batchId,r),await Za(o,a.changes),await lc(o.remoteStore)}catch(a){const u=hf(a,"Failed to persist write");r.reject(u)}}async function U0(n,e){const r=De(n);try{const o=await E_(r.localStore,e);e.targetChanges.forEach((a,u)=>{const h=r.Ua.get(u);h&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Ba=!0:a.modifiedDocuments.size>0?Ye(h.Ba):a.removedDocuments.size>0&&(Ye(h.Ba),h.Ba=!1))}),await Za(r,o,e)}catch(o){await vs(o)}}function B0(n,e,r){const o=De(n);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&a.push(f.snapshot)}),(function(u,h){const f=De(u);f.onlineState=h;let m=!1;f.queries.forEach((g,v)=>{for(const S of v.ta)S.sa(h)&&(m=!0)}),m&&df(f)})(o.eventManager,e),a.length&&o.La.p_(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function fA(n,e,r){const o=De(n);o.sharedClientState.updateQueryState(e,"rejected",r);const a=o.Ua.get(e),u=a&&a.key;if(u){let h=new lt(ke.comparator);h=h.insert(u,sn.newNoDocument(u,Ae.min()));const f=Fe().add(u),m=new Zu(Ae.min(),new Map,new lt(Re),h,f);await U0(o,m),o.$a=o.$a.remove(u),o.Ua.delete(e),gf(o)}else await tf(o.localStore,e,!1).then(()=>mf(o,e,r)).catch(vs)}async function pA(n,e){const r=De(n),o=e.batch.batchId;try{const a=await S_(r.localStore,e);$0(r,o,null),z0(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await Za(r,a)}catch(a){await vs(a)}}async function mA(n,e,r){const o=De(n);try{const a=await(function(u,h){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return f.mutationQueue.lookupMutationBatch(m,h).next(v=>(Ye(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>f.localDocuments.getDocuments(m,g))})})(o.localStore,e);$0(o,e,r),z0(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await Za(o,a)}catch(a){await vs(a)}}function z0(n,e){(n.Ga.get(e)||[]).forEach(r=>{r.resolve()}),n.Ga.delete(e)}function $0(n,e,r){const o=De(n);let a=o.Wa[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(r?u.reject(r):u.resolve(),a=a.remove(e)),o.Wa[o.currentUser.toKey()]=a}}function mf(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const o of n.qa.get(e))n.ka.delete(o),r&&n.La.Ja(o,r);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(o=>{n.Ka.containsKey(o)||q0(n,o)})}function q0(n,e){n.Qa.delete(e.path.canonicalString());const r=n.$a.get(e);r!==null&&(sf(n.remoteStore,r),n.$a=n.$a.remove(e),n.Ua.delete(r),gf(n))}function W0(n,e,r){for(const o of r)o instanceof O0?(n.Ka.addReference(o.key,e),gA(n,o)):o instanceof j0?(ce(pf,"Document no longer in limbo: "+o.key),n.Ka.removeReference(o.key,e),n.Ka.containsKey(o.key)||q0(n,o.key)):Ie()}function gA(n,e){const r=e.key,o=r.path.canonicalString();n.$a.get(r)||n.Qa.has(o)||(ce(pf,"New document in limbo: "+r),n.Qa.add(o),gf(n))}function gf(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const r=new ke(at.fromString(e)),o=n.za.next();n.Ua.set(o,new oA(r)),n.$a=n.$a.insert(r,o),I0(n.remoteStore,new Ii(mr(Ud(r.path)),o,"TargetPurposeLimboResolution",Lu.ae))}}async function Za(n,e,r){const o=De(n),a=[],u=[],h=[];o.ka.isEmpty()||(o.ka.forEach((f,m)=>{h.push(o.Ha(m,e,r).then(g=>{var v;if((g||r)&&o.isPrimaryClient){const S=g?!g.fromCache:(v=r==null?void 0:r.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;o.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){a.push(g);const S=Zd.Yi(m.targetId,g);u.push(S)}}))}),await Promise.all(h),o.La.p_(a),await(async function(f,m){const g=De(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>X.forEach(m,S=>X.forEach(S.Hi,T=>g.persistence.referenceDelegate.addReference(v,S.targetId,T)).next(()=>X.forEach(S.Ji,T=>g.persistence.referenceDelegate.removeReference(v,S.targetId,T)))))}catch(v){if(!bs(v))throw v;ce(ef,"Failed to update sequence numbers: "+v)}for(const v of m){const S=v.targetId;if(!v.fromCache){const T=g.Ts.get(S),A=T.snapshotVersion,V=T.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(S,V)}}})(o.localStore,u))}async function yA(n,e){const r=De(n);if(!r.currentUser.isEqual(e)){ce(pf,"User change. New user:",e.toKey());const o=await v0(r.localStore,e);r.currentUser=e,(function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new Se(ne.CANCELLED,u))})}),a.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Za(r,o.Rs)}}function vA(n,e){const r=De(n),o=r.Ua.get(e);if(o&&o.Ba)return Fe().add(o.key);{let a=Fe();const u=r.qa.get(e);if(!u)return a;for(const h of u){const f=r.ka.get(h);a=a.unionWith(f.view.Sa)}return a}}function Q0(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fA.bind(null,e),e.La.p_=eA.bind(null,e.eventManager),e.La.Ja=tA.bind(null,e.eventManager),e}function bA(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mA.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return w_(this.persistence,new y_,e.initialUser,this.serializer)}Xa(e){return new y0(Jd.ri,this.serializer)}Za(e){return new I_}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class wA extends uc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Ye(this.persistence.referenceDelegate instanceof rc);const o=this.persistence.referenceDelegate.garbageCollector;return new n_(o,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new y0(o=>rc.ri(o,r),this.serializer)}}class yf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>B0(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=yA.bind(null,this.syncEngine),await H_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Y_})()}createDatastore(e){const r=oc(e.databaseInfo.databaseId),o=(function(a){return new N_(a)})(e.databaseInfo);return(function(a,u,h,f){return new V_(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return(function(r,o,a,u,h){return new j_(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,r=>B0(this.syncEngine,r,0),(function(){return k0.D()?new k0:new __})())}createSyncEngine(e,r){return(function(o,a,u,h,f,m,g){const v=new sA(o,a,u,h,f,m);return g&&(v.ja=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(o){const a=De(o);ce(Io,"RemoteStore shutting down."),a.W_.add(5),await Ja(a),a.z_.shutdown(),a.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}yf.provider={build:()=>new yf};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ai="FirestoreClient";class EA{constructor(e,r,o,a,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=nv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(o,async h=>{ce(Ai,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(ce(Ai,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=hf(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function vf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Ai,"Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let o=r.initialUser;n.setCredentialChangeListener(async a=>{o.isEqual(a)||(await v0(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function G0(n,e){n.asyncQueue.verifyOperationInProgress();const r=await kA(n);ce(Ai,"Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener(o=>M0(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>M0(e.remoteStore,a)),n._onlineComponents=e}async function kA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Ai,"Using user provided OfflineComponentProvider");try{await vf(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;gs("Error using user provided cache. Falling back to memory cache: "+r),await vf(n,new uc)}}else ce(Ai,"Using default OfflineComponentProvider"),await vf(n,new wA(void 0));return n._offlineComponents}async function K0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Ai,"Using user provided OnlineComponentProvider"),await G0(n,n._uninitializedComponentsProvider._online)):(ce(Ai,"Using default OnlineComponentProvider"),await G0(n,new yf))),n._onlineComponents}function xA(n){return K0(n).then(e=>e.syncEngine)}async function H0(n){const e=await K0(n),r=e.eventManager;return r.onListen=aA.bind(null,e.syncEngine),r.onUnlisten=cA.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=lA.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=hA.bind(null,e.syncEngine),r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y0=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function J0(n,e,r){if(!r)throw new Se(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TA(n,e,r,o){if(e===!0&&o===!0)throw new Se(ne.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function Z0(n){if(!ke.isDocumentKey(n))throw new Se(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eb(n){if(ke.isDocumentKey(n))throw new Se(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function Di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=bf(n);throw new Se(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tb="firestore.googleapis.com",nb=!0;class rb{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tb,this.ssl=nb}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:nb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e_)throw new Se(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X0((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,r,o,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DC;switch(r.type){case"firstParty":return new LC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Y0.get(e);r&&(ce("ComponentProvider","Removing Datastore"),Y0.delete(e),r.terminate())})(this),Promise.resolve()}}function CA(n,e,r,o={}){var a;const u=(n=Di(n,cc))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${r}`;u.host!==tb&&u.host!==f&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:!1,emulatorOptions:o});if(!Na(m,h)&&(n._setSettings(m),o.mockUserToken)){let g,v;if(typeof o.mockUserToken=="string")g=o.mockUserToken,v=on.MOCK_USER;else{g=$x(o.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const S=o.mockUserToken.sub||o.mockUserToken.user_id;if(!S)throw new Se(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(S)}n._authCredentials=new PC(new Zy(g,v))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hc{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class kn{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Pi extends hc{constructor(e,r,o){super(e,r,Ud(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new ke(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function IA(n,e,...r){if(n=nr(n),J0("collection","path",e),n instanceof cc){const o=at.fromString(e,...r);return eb(o),new Pi(n,null,o)}{if(!(n instanceof kn||n instanceof Pi))throw new Se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(at.fromString(e,...r));return eb(o),new Pi(n.firestore,null,o)}}function dc(n,e,...r){if(n=nr(n),arguments.length===1&&(e=nv.newId()),J0("doc","path",e),n instanceof cc){const o=at.fromString(e,...r);return Z0(o),new kn(n,null,new ke(o))}{if(!(n instanceof kn||n instanceof Pi))throw new Se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(at.fromString(e,...r));return Z0(o),new kn(n.firestore,n instanceof Pi?n.converter:null,new ke(o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ib="AsyncQueue";class ob{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new x0(this,"async_queue_retry"),this.Su=()=>{const o=of();o&&ce(ib,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.bu=e;const r=of();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=of();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new xo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;ce(ib,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(o=>{this.gu=o,this.pu=!1;const a=(function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h})(o);throw jr("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.pu=!1,o))));return this.bu=r,r}enqueueAfterDelay(e,r,o){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const a=cf.createAndSchedule(this,e,r,o,u=>this.Fu(u));return this.fu.push(a),a}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function sb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class el extends cc{constructor(e,r,o,a){super(e,r,o,a),this.type="firestore",this._queue=new ob,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ob(e),this._firestoreClient=void 0,await e}}}function _A(n,e){const r=typeof n=="object"?n:ay(),o=typeof n=="string"?n:Fu,a=Ma(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const u=Bx("firestore");u&&CA(a,...u)}return a}function ab(n){if(n._terminated)throw new Se(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AA(n),n._firestoreClient}function AA(n){var e,r,o;const a=n._freezeSettings(),u=(function(h,f,m,g){return new HC(h,f,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,X0(g.experimentalLongPollingOptions),g.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new EA(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(Kt.fromBase64String(e))}catch(r){throw new Se(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new As(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Se(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pc{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Se(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Se(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sf{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DA=/^__.*__$/;class PA{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ha(e,this.data,r,this.fieldTransforms)}}class lb{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Ci(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ub(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class Ef{constructor(e,r,o,a,u,h){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=a,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.ku({path:o,Qu:!1});return a.$u(e),a}Uu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.ku({path:o,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ub(this.Lu)&&DA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class NA{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||oc(e)}ju(e,r,o,a=!1){return new Ef({Lu:e,methodName:r,zu:o,path:Qt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cb(n){const e=n._freezeSettings(),r=oc(n._databaseId);return new NA(n._databaseId,!!e.ignoreUndefinedProperties,r)}function MA(n,e,r,o,a,u={}){const h=n.ju(u.merge||u.mergeFields?2:0,e,r,a);xf("Data must be an object, but it was:",h,o);const f=hb(o,h);let m,g;if(u.merge)m=new _n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const T=Tf(e,S,r);if(!h.contains(T))throw new Se(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);fb(v,T)||v.push(T)}m=new _n(v),g=h.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=h.fieldTransforms;return new PA(new Sn(f),m,g)}class mc extends pc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mc}}class kf extends pc{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new Ga(e.serializer,Uv(e.serializer,this.Ju));return new SI(e.path,r)}isEqual(e){return e instanceof kf&&this.Ju===e.Ju}}function LA(n,e,r,o){const a=n.ju(1,e,r);xf("Data must be an object, but it was:",a,o);const u=[],h=Sn.empty();Ei(o,(m,g)=>{const v=Cf(e,m,r);g=nr(g);const S=a.Uu(v);if(g instanceof mc)u.push(v);else{const T=gc(g,S);T!=null&&(u.push(v),h.set(v,T))}});const f=new _n(u);return new lb(h,f,a.fieldTransforms)}function RA(n,e,r,o,a,u){const h=n.ju(1,e,r),f=[Tf(e,o,r)],m=[a];if(u.length%2!=0)throw new Se(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)f.push(Tf(e,u[T])),m.push(u[T+1]);const g=[],v=Sn.empty();for(let T=f.length-1;T>=0;--T)if(!fb(g,f[T])){const A=f[T];let V=m[T];V=nr(V);const z=h.Uu(A);if(V instanceof mc)g.push(A);else{const j=gc(V,z);j!=null&&(g.push(A),v.set(A,j))}}const S=new _n(g);return new lb(v,S,h.fieldTransforms)}function gc(n,e){if(db(n=nr(n)))return xf("Unsupported field value:",e,n),hb(n,e);if(n instanceof pc)return(function(r,o){if(!ub(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=gc(h,o.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=nr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uv(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:nc(o.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nc(o.serializer,a)}}if(r instanceof wf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof As)return{bytesValue:o0(o.serializer,r._byteString)};if(r instanceof kn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Sf)return(function(a,u){return{mapValue:{fields:{[yv]:{stringValue:vv},[Bu]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return zd(u.serializer,h)})}}}}}})(r,o);throw o.Wu(`Unsupported field value: ${bf(r)}`)})(n,e)}function hb(n,e){const r={};return cv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(n,(o,a)=>{const u=gc(a,e.qu(o));u!=null&&(r[o]=u)}),{mapValue:{fields:r}}}function db(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof wf||n instanceof As||n instanceof kn||n instanceof pc||n instanceof Sf)}function xf(n,e,r){if(!db(r)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(r)){const o=bf(r);throw o==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+o)}}function Tf(n,e,r){if((e=nr(e))instanceof fc)return e._internalPath;if(typeof e=="string")return Cf(n,e);throw yc("Field path arguments must be of type string or ",n,!1,void 0,r)}const VA=new RegExp("[~\\*/\\[\\]]");function Cf(n,e,r){if(e.search(VA)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new fc(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function yc(n,e,r,o,a){const u=o&&!o.isEmpty(),h=a!==void 0;let f=`Function ${e}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${o}`),h&&(m+=` in document ${a}`),m+=")"),new Se(ne.INVALID_ARGUMENT,f+n+m)}function fb(n,e){return n.some(r=>r.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pb{constructor(e,r,o,a,u){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class OA extends pb{data(){return super.data()}}function mb(n,e){return typeof e=="string"?Cf(n,e):e instanceof fc?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FA{convertValue(e,r="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Ei(e,(a,u)=>{o[a]=this.convertValue(u,r)}),o}convertVectorValue(e){var r,o,a;const u=(a=(o=(r=e.fields)===null||r===void 0?void 0:r[Bu].arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map(h=>wt(h.doubleValue));return new Sf(u)}convertGeoPoint(e){return new wf(wt(e.latitude),wt(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=ju(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const r=ki(e);return new Pt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=at.fromString(e);Ye(d0(o));const a=new Fa(o.get(1),o.get(3)),u=new ke(o.popFirst(5));return a.isEqual(r)||jr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UA(n,e,r){let o;return o=n?n.toFirestore(e):e,o}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gb extends pb{constructor(e,r,o,a,u,h){super(e,r,o,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(mb("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class vc extends gb{data(e={}){return super.data(e)}}class BA{constructor(e,r,o,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new tl(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new vc(this._firestore,this._userDataWriter,o.key,o,new tl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new vc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new tl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new vc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new tl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:zA(h.type),doc:f,oldIndex:m,newIndex:g}})}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function zA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class yb extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,r)}}function vb(n,e,r){n=Di(n,kn);const o=Di(n.firestore,el),a=UA(n.converter,e);return wb(o,[MA(cb(o),"setDoc",n._key,a,n.converter!==null,r).toMutation(n._key,gr.none())])}function bb(n,e,r,...o){n=Di(n,kn);const a=Di(n.firestore,el),u=cb(a);let h;return h=typeof(e=nr(e))=="string"||e instanceof fc?RA(u,"updateDoc",n._key,e,r,o):LA(u,"updateDoc",n._key,e),wb(a,[h.toMutation(n._key,gr.exists(!0))])}function $A(n,...e){var r,o,a;n=nr(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||sb(e[h])||(u=e[h],h++);const f={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(sb(e[h])){const S=e[h];e[h]=(r=S.next)===null||r===void 0?void 0:r.bind(S),e[h+1]=(o=S.error)===null||o===void 0?void 0:o.bind(S),e[h+2]=(a=S.complete)===null||a===void 0?void 0:a.bind(S)}let m,g,v;if(n instanceof kn)g=Di(n.firestore,el),v=Ud(n._key.path),m={next:S=>{e[h]&&e[h](qA(g,n,S))},error:e[h+1],complete:e[h+2]};else{const S=Di(n,hc);g=Di(S.firestore,el),v=S._query;const T=new yb(g);m={next:A=>{e[h]&&e[h](new BA(g,T,S,A))},error:e[h+1],complete:e[h+2]},jA(n._query)}return(function(S,T,A,V){const z=new SA(V),j=new nA(T,z,A);return S.asyncQueue.enqueueAndForget(async()=>J_(await H0(S),j)),()=>{z.su(),S.asyncQueue.enqueueAndForget(async()=>Z_(await H0(S),j))}})(ab(g),v,f,m)}function wb(n,e){return(function(r,o){const a=new xo;return r.asyncQueue.enqueueAndForget(async()=>dA(await xA(r),o,a)),a.promise})(ab(n),e)}function qA(n,e,r){const o=r.docs.get(e._key),a=new yb(n);return new gb(n,a,e._key,o,new tl(r.hasPendingWrites,r.fromCache),e.converter)}function Ds(n){return new kf("increment",n)}(function(n,e=!0){(function(r){ps=r})(J2),vi(new Vr("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new el(new NC(r.getProvider("auth-internal")),new RC(u,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(f.options.projectId,m)})(u,o),u);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),hr(Yy,Jy,n),hr(Yy,Jy,"esm2017")})();const Sb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},Eb=sy(Sb),nl=_A(Eb),WA=()=>CC().then(n=>{if(n){let e=function(){window.dataLayer.push(arguments)};const r=xC(Eb);return window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",Sb.measurementId,{debug_mode:!0}),console.log("📈 Firebase Analytics initialized with debug_mode"),r}else return console.warn("⚠️ Firebase Analytics not supported on this device."),null});function QA({question:n,answers:e,correctIndex:r,selectedAnswer:o,onSelectAnswer:a,id:u,imageId:h}){const[f,m]=me.useState(!1);if(me.useEffect(()=>{const v=S=>{S.key==="Escape"&&m(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!e||e.length===0)return re.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"flashcard",children:[re.jsxs("div",{className:"question-section",children:[g&&re.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>m(!0)}),re.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),re.jsx("div",{className:"answer-list",children:e.map((v,S)=>{const T=o!==null,A=S===r,V=S===o;let z="answer-button text-base";return T&&(A?z+=" correct":V&&(z+=" wrong")),re.jsx("button",{className:z,onClick:j=>{j.preventDefault(),a(S)},disabled:T,children:v},S)})})]}),re.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),f&&g&&re.jsx("div",{className:"lightbox-overlay",onClick:()=>m(!1),children:re.jsx("img",{src:g,alt:`Frage ${u} groß`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}function An(n,e={}){WA().then(r=>{r?(By(r,n,e),console.log(`📊 Logged: ${n}`,e)):console.warn(`⚠️ Analytics not initialized – could not log ${n}`)})}function kb({variant:n="soft",style:e={},className:r="",fullWidth:o=!1}){const a=()=>{An("support_this_project_clicked"),window.open("https://www.buymeacoffee.com/roiesh","_blank")},u={padding:"12px 20px",borderRadius:"12px",fontWeight:"500",fontSize:"15px",border:"none",cursor:"pointer",display:"inline-block",padding:"12px 20px",maxWidth:"90vw",whiteSpace:"nowrap",textAlign:"center",transition:"all 0.2s ease",zindex:1e3,...e},h=n==="modal"?{backgroundColor:"var(--color-primary)",color:"white"}:{backgroundColor:"#f2f7fc",color:"var(--color-primary)",boxShadow:"0 2px 6px rgba(0,0,0,0.08)"};return re.jsx("button",{onClick:a,className:`support-button ${r}`,style:{...u,...h},children:re.jsxs("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"15px"},children:[re.jsx("span",{role:"img","aria-label":"heart",children:"❤️"})," Support this project"]})})}function GA({onClose:n}){const[e,r]=me.useState("de"),o=h=>{h.target.classList.contains("about-modal-overlay")&&(An("modal_closed_without_click",{modal:"about"}),u())},a=h=>{r(h)},u=()=>{An("about_language_read",{language:e}),n()};return re.jsx("div",{className:"about-modal-overlay",onClick:o,children:re.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[re.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[re.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["Über",re.jsxs("span",{className:"flex gap-2",children:[re.jsx("button",{onClick:()=>a("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="de"?1:.4},"aria-label":"Deutsch",children:"🇩🇪"}),re.jsx("button",{onClick:()=>a("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="en"?1:.4},"aria-label":"English",children:"🇬🇧"})]})]}),re.jsx("button",{className:"close-button",onClick:u,children:"×"})]}),re.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:e==="de"?re.jsxs("p",{className:"text-base",children:[re.jsx("span",{className:"text-base font-semibold",children:"Diese Seite enthält alle offiziellen Fragen und Antworten für den Einbürgerungstest in Berlin."}),re.jsx("br",{}),"Ich habe diese Website als Lernhilfe für den Einbürgerungstest „Leben in Deutschland“ erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale für politische Bildung – inklusive des landesspezifischen Teils für Berlin. Ich übernehme keine Gewähr für Richtigkeit oder Aktualität. Dies ist ein rein privates Nebenprojekt – keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen.",re.jsx("br",{}),"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persönlichen Daten gespeichert oder weitergegeben."]}):re.jsxs("p",{className:"text-base",children:[re.jsx("span",{className:"text-base font-semibold",children:"This site includes all official questions and answers for the Berlin naturalization test."}),re.jsx("br",{}),re.jsx("br",{}),"I built this website as a personal study tool for the “Leben in Deutschland” naturalization test. The questions are based on the official public catalog — including the state-specific questions for Berlin. Some states have different regional questions. I can’t guarantee accuracy or updates. This is a private side project — no login, no ads, no government affiliation.",re.jsx("br",{}),re.jsx("br",{}),"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."]})}),re.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"30px"},children:[re.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),re.jsx(kb,{fullWidth:!0,variant:"modal",style:{whiteSpace:"nowrap"}})]})]})})}const xb=me.createContext({});function KA(n){const e=me.useRef(null);return e.current===null&&(e.current=n()),e.current}const If=typeof window<"u",HA=If?me.useLayoutEffect:me.useEffect,_f=me.createContext(null),Tb=me.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function XA(n=!0){const e=me.useContext(_f);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:a}=e,u=me.useId();me.useEffect(()=>{if(n)return a(u)},[n]);const h=me.useCallback(()=>n&&o&&o(u),[u,o,n]);return!r&&o?[!1,h]:[!0]}function Af(n,e){n.indexOf(e)===-1&&n.push(e)}function Df(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const Dn=n=>n;let Cb=Dn;const YA={useManualTiming:!1};function Pf(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ps=(n,e,r)=>{const o=e-n;return o===0?1:(r-n)/o};class Nf{constructor(){this.subscriptions=[]}add(e){return Af(this.subscriptions,e),()=>Df(this.subscriptions,e)}notify(e,r,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,o);else for(let u=0;u<a;u++){const h=this.subscriptions[u];h&&h(e,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ur=n=>n*1e3,Br=n=>n/1e3;function Ib(n,e){return e?n*(1e3/e):0}const JA=Pf(()=>window.ScrollTimeline!==void 0);class ZA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let o=0;o<this.animations.length;o++)this.animations[o][e]=r}attachTimeline(e,r){const o=this.animations.map(a=>{if(JA()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{o.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class eD extends ZA{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Mf(n,e){return n?n[e]||n.default||n:void 0}const Lf=2e4;function _b(n){let e=0;const r=50;let o=n.next(e);for(;!o.done&&e<Lf;)e+=r,o=n.next(e);return e>=Lf?1/0:e}function Rf(n){return typeof n=="function"}function Ab(n,e){n.timeline=e,n.onfinish=null}const Vf=n=>Array.isArray(n)&&typeof n[0]=="number",tD={linearEasing:void 0};function nD(n,e){const r=Pf(n);return()=>{var o;return(o=tD[e])!==null&&o!==void 0?o:r()}}const bc=nD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Db=(n,e,r=10)=>{let o="";const a=Math.max(Math.round(e/r),2);for(let u=0;u<a;u++)o+=n(Ps(0,a-1,u))+", ";return`linear(${o.substring(0,o.length-2)})`};function Pb(n){return!!(typeof n=="function"&&bc()||!n||typeof n=="string"&&(n in Of||bc())||Vf(n)||Array.isArray(n)&&n.every(Pb))}const rl=([n,e,r,o])=>`cubic-bezier(${n}, ${e}, ${r}, ${o})`,Of={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rl([0,.65,.55,1]),circOut:rl([.55,0,1,.45]),backIn:rl([.31,.01,.66,-.59]),backOut:rl([.33,1.53,.69,.99])};function Nb(n,e){if(n)return typeof n=="function"&&bc()?Db(n,e):Vf(n)?rl(n):Array.isArray(n)?n.map(r=>Nb(r,e)||Of.easeOut):Of[n]}const wc=["read","resolveKeyframes","update","preRender","render","postRender"];function rD(n,e){let r=new Set,o=new Set,a=!1,u=!1;const h=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){h.has(v)&&(g.schedule(v),n()),v(f)}const g={schedule:(v,S=!1,T=!1)=>{const A=T&&a?r:o;return S&&h.add(v),A.has(v)||A.add(v),v},cancel:v=>{o.delete(v),h.delete(v)},process:v=>{if(f=v,a){u=!0;return}a=!0,[r,o]=[o,r],r.forEach(m),r.clear(),a=!1,u&&(u=!1,g.process(v))}};return g}const iD=40;function Mb(n,e){let r=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,h=wc.reduce((z,j)=>(z[j]=rD(u),z),{}),{read:f,resolveKeyframes:m,update:g,preRender:v,render:S,postRender:T}=h,A=()=>{const z=performance.now();r=!1,a.delta=o?1e3/60:Math.max(Math.min(z-a.timestamp,iD),1),a.timestamp=z,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),v.process(a),S.process(a),T.process(a),a.isProcessing=!1,r&&e&&(o=!1,n(A))},V=()=>{r=!0,o=!0,a.isProcessing||n(A)};return{schedule:wc.reduce((z,j)=>{const Z=h[j];return z[j]=(te,oe=!1,ge=!1)=>(r||V(),Z.schedule(te,oe,ge)),z},{}),cancel:z=>{for(let j=0;j<wc.length;j++)h[wc[j]].cancel(z)},state:a,steps:h}}const{schedule:it,cancel:Ni,state:Ht,steps:jf}=Mb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0),{schedule:Ff}=Mb(queueMicrotask,!1);let Sc;function oD(){Sc=void 0}const vr={now:()=>(Sc===void 0&&vr.set(Ht.isProcessing||YA.useManualTiming?Ht.timestamp:performance.now()),Sc),set:n=>{Sc=n,queueMicrotask(oD)}},rr={x:!1,y:!1};function Lb(){return rr.x||rr.y}function sD(n){return n==="x"||n==="y"?rr[n]?null:(rr[n]=!0,()=>{rr[n]=!1}):rr.x||rr.y?null:(rr.x=rr.y=!0,()=>{rr.x=rr.y=!1})}function aD(n,e,r){var o;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const u=(o=void 0)!==null&&o!==void 0?o:a.querySelectorAll(n);return u?Array.from(u):[]}return Array.from(n)}function Rb(n,e){const r=aD(n),o=new AbortController,a={passive:!0,...e,signal:o.signal};return[r,a,()=>o.abort()]}function Vb(n){return!(n.pointerType==="touch"||Lb())}function lD(n,e,r={}){const[o,a,u]=Rb(n,r),h=f=>{if(!Vb(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const v=S=>{Vb(S)&&(g(S),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return o.forEach(f=>{f.addEventListener("pointerenter",h,a)}),u}function Ob(n,e){const r=`${e}PointerCapture`;if(n.target instanceof Element&&r in n.target&&n.pointerId!==void 0)try{n.target[r](n.pointerId)}catch{}}const jb=(n,e)=>e?n===e?!0:jb(n,e.parentElement):!1,Uf=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cD(n){return uD.has(n.tagName)||n.tabIndex!==-1}const il=new WeakSet;function Fb(n){return e=>{e.key==="Enter"&&n(e)}}function Bf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hD=(n,e)=>{const r=n.currentTarget;if(!r)return;const o=Fb(()=>{if(il.has(r))return;Bf(r,"down");const a=Fb(()=>{Bf(r,"up")}),u=()=>Bf(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",u,e)});r.addEventListener("keydown",o,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),e)};function Ub(n){return Uf(n)&&!Lb()}function dD(n,e,r={}){const[o,a,u]=Rb(n,r),h=f=>{const m=f.currentTarget;if(!m||!Ub(f)||il.has(m))return;il.add(m),Ob(f,"set");const g=e(m,f),v=(A,V)=>{m.removeEventListener("pointerup",S),m.removeEventListener("pointercancel",T),Ob(A,"release"),!(!Ub(A)||!il.has(m))&&(il.delete(m),typeof g=="function"&&g(A,{success:V}))},S=A=>{A.isTrusted&&fD(A,m instanceof Element?m.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight})?v(A,!1):v(A,!(m instanceof Element)||jb(m,A.target))},T=A=>{v(A,!1)};m.addEventListener("pointerup",S,a),m.addEventListener("pointercancel",T,a),m.addEventListener("lostpointercapture",T,a)};return o.forEach(f=>{f=r.useGlobalTarget?window:f;let m=!1;f instanceof HTMLElement&&(m=!0,!cD(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0)),f.addEventListener("pointerdown",h,a),m&&f.addEventListener("focus",g=>hD(g,a),a)}),u}function fD(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}const Bb=30,pD=n=>!isNaN(parseFloat(n));class mD{constructor(e,r={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{const u=vr.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Nf);const o=this.events[e].add(r);return e==="change"?()=>{o(),it.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Bb);return Ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(n,e){return new mD(n,e)}const zb=me.createContext({strict:!1}),$b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ns={};for(const n in $b)Ns[n]={isEnabled:e=>$b[n].some(r=>!!e[r])};function gD(n){for(const e in n)Ns[e]={...Ns[e],...n[e]}}const yD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ec(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||yD.has(n)}let qb=n=>!Ec(n);function vD(n){n&&(qb=e=>e.startsWith("on")?!Ec(e):n(e))}try{vD(require("@emotion/is-prop-valid").default)}catch{}function bD(n,e,r){const o={};for(const a in n)a==="values"&&typeof n.values=="object"||(qb(a)||r===!0&&Ec(a)||!e&&!Ec(a)||n.draggable&&a.startsWith("onDrag"))&&(o[a]=n[a]);return o}function wD(n){if(typeof Proxy>"u")return n;const e=new Map,r=(...o)=>n(...o);return new Proxy(r,{get:(o,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const kc=me.createContext({});function xc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function sl(n){return typeof n=="string"||Array.isArray(n)}const zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$f=["initial",...zf];function Tc(n){return xc(n.animate)||$f.some(e=>sl(n[e]))}function Wb(n){return!!(Tc(n)||n.variants)}function SD(n,e){if(Tc(n)){const{initial:r,animate:o}=n;return{initial:r===!1||sl(r)?r:void 0,animate:sl(o)?o:void 0}}return n.inherit!==!1?e:{}}function ED(n){const{initial:e,animate:r}=SD(n,me.useContext(kc));return me.useMemo(()=>({initial:e,animate:r}),[Qb(e),Qb(r)])}function Qb(n){return Array.isArray(n)?n.join(" "):n}const kD=Symbol.for("motionComponentSymbol");function Ms(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function xD(n,e,r){return me.useCallback(o=>{o&&n.onMount&&n.onMount(o),e&&(o?e.mount(o):e.unmount()),r&&(typeof r=="function"?r(o):Ms(r)&&(r.current=o))},[e])}const qf=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TD="framerAppearId",Gb="data-"+qf(TD),Kb=me.createContext({});function CD(n,e,r,o,a){var u,h;const{visualElement:f}=me.useContext(kc),m=me.useContext(zb),g=me.useContext(_f),v=me.useContext(Tb).reducedMotion,S=me.useRef(null);o=o||m.renderer,!S.current&&o&&(S.current=o(n,{visualState:e,parent:f,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const T=S.current,A=me.useContext(Kb);T&&!T.projection&&a&&(T.type==="html"||T.type==="svg")&&ID(S.current,r,a,A);const V=me.useRef(!1);me.useInsertionEffect(()=>{T&&V.current&&T.update(r,g)});const z=r[Gb],j=me.useRef(!!z&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,z))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,z)));return HA(()=>{T&&(V.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Ff.render(T.render),j.current&&T.animationState&&T.animationState.animateChanges())}),me.useEffect(()=>{T&&(!j.current&&T.animationState&&T.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var Z;(Z=window.MotionHandoffMarkAsComplete)===null||Z===void 0||Z.call(window,z)}),j.current=!1))}),T}function ID(n,e,r,o){const{layoutId:a,layout:u,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:g}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:Hb(n.parent)),n.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!h||f&&Ms(f),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:g})}function Hb(n){if(n)return n.options.allowProjection!==!1?n.projection:Hb(n.parent)}function _D({preloadedFeatures:n,createVisualElement:e,useRender:r,useVisualState:o,Component:a}){var u,h;n&&gD(n);function f(g,v){let S;const T={...me.useContext(Tb),...g,layoutId:AD(g)},{isStatic:A}=T,V=ED(g),z=o(g,A);if(!A&&If){DD();const j=PD(T);S=j.MeasureLayout,V.visualElement=CD(a,z,T,e,j.ProjectionNode)}return re.jsxs(kc.Provider,{value:V,children:[S&&V.visualElement?re.jsx(S,{visualElement:V.visualElement,...T}):null,r(a,g,xD(z,V.visualElement,v),z,A,V.visualElement)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${(h=(u=a.displayName)!==null&&u!==void 0?u:a.name)!==null&&h!==void 0?h:""})`}`;const m=me.forwardRef(f);return m[kD]=a,m}function AD({layoutId:n}){const e=me.useContext(xb).id;return e&&n!==void 0?e+"-"+n:n}function DD(n,e){me.useContext(zb).strict}function PD(n){const{drag:e,layout:r}=Ns;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const Xb=n=>e=>typeof e=="string"&&e.startsWith(n),Wf=Xb("--"),ND=Xb("var(--"),Qf=n=>ND(n)?MD.test(n.split("/*")[0].trim()):!1,MD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,al={};function LD(n){for(const e in n)al[e]=n[e],Wf(e)&&(al[e].isCSSVariable=!0)}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ao=new Set(Ls);function Yb(n,{layout:e,layoutId:r}){return Ao.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!al[n]||n==="opacity")}const ln=n=>!!(n&&n.getVelocity),Jb=(n,e)=>e&&typeof n=="number"?e.transform(n):n,zr=(n,e,r)=>r>e?e:r<n?n:r,Rs={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ll={...Rs,transform:n=>zr(0,1,n)},Cc={...Rs,default:1},ul=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Mi=ul("deg"),br=ul("%"),xe=ul("px"),RD=ul("vh"),VD=ul("vw"),Zb={...br,parse:n=>br.parse(n)/100,transform:n=>br.transform(n*100)},OD={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe},jD={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:Cc,scaleX:Cc,scaleY:Cc,scaleZ:Cc,skew:Mi,skewX:Mi,skewY:Mi,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:ll,originX:Zb,originY:Zb,originZ:xe},ew={...Rs,transform:Math.round},Gf={...OD,...jD,zIndex:ew,size:xe,fillOpacity:ll,strokeOpacity:ll,numOctaves:ew},FD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UD=Ls.length;function BD(n,e,r){let o="",a=!0;for(let u=0;u<UD;u++){const h=Ls[u],f=n[h];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(h.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||r){const g=Jb(f,Gf[h]);if(!m){a=!1;const v=FD[h]||h;o+=`${v}(${g}) `}r&&(e[h]=g)}}return o=o.trim(),r?o=r(e,a?"":o):a&&(o="none"),o}function Kf(n,e,r){const{style:o,vars:a,transformOrigin:u}=n;let h=!1,f=!1;for(const m in e){const g=e[m];if(Ao.has(m)){h=!0;continue}else if(Wf(m)){a[m]=g;continue}else{const v=Jb(g,Gf[m]);m.startsWith("origin")?(f=!0,u[m]=v):o[m]=v}}if(e.transform||(h||r?o.transform=BD(e,n.transform,r):o.transform&&(o.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;o.transformOrigin=`${m} ${g} ${v}`}}const Hf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tw(n,e,r){for(const o in e)!ln(e[o])&&!Yb(o,r)&&(n[o]=e[o])}function zD({transformTemplate:n},e){return me.useMemo(()=>{const r=Hf();return Kf(r,e,n),Object.assign({},r.vars,r.style)},[e])}function $D(n,e){const r=n.style||{},o={};return tw(o,r,n),Object.assign(o,zD(n,e)),o}function qD(n,e){const r={},o=$D(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=o,r}const WD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xf(n){return typeof n!="string"||n.includes("-")?!1:!!(WD.indexOf(n)>-1||/[A-Z]/u.test(n))}const QD={offset:"stroke-dashoffset",array:"stroke-dasharray"},GD={offset:"strokeDashoffset",array:"strokeDasharray"};function KD(n,e,r=1,o=0,a=!0){n.pathLength=1;const u=a?QD:GD;n[u.offset]=xe.transform(-o);const h=xe.transform(e),f=xe.transform(r);n[u.array]=`${h} ${f}`}function nw(n,e,r){return typeof n=="string"?n:xe.transform(e+r*n)}function HD(n,e,r){const o=nw(e,n.x,n.width),a=nw(r,n.y,n.height);return`${o} ${a}`}function Yf(n,{attrX:e,attrY:r,attrScale:o,originX:a,originY:u,pathLength:h,pathSpacing:f=1,pathOffset:m=0,...g},v,S){if(Kf(n,g,S),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:A,dimensions:V}=n;T.transform&&(V&&(A.transform=T.transform),delete T.transform),V&&(a!==void 0||u!==void 0||A.transform)&&(A.transformOrigin=HD(V,a!==void 0?a:.5,u!==void 0?u:.5)),e!==void 0&&(T.x=e),r!==void 0&&(T.y=r),o!==void 0&&(T.scale=o),h!==void 0&&KD(T,h,f,m,!1)}const rw=()=>({...Hf(),attrs:{}}),Jf=n=>typeof n=="string"&&n.toLowerCase()==="svg";function XD(n,e,r,o){const a=me.useMemo(()=>{const u=rw();return Yf(u,e,Jf(o),n.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(n.style){const u={};tw(u,n.style,n),a.style={...u,...a.style}}return a}function YD(n=!1){return(e,r,o,{latestValues:a},u)=>{const h=(Xf(e)?XD:qD)(r,a,u,e),f=bD(r,typeof e=="string",n),m=e!==me.Fragment?{...f,...h,ref:o}:{},{children:g}=r,v=me.useMemo(()=>ln(g)?g.get():g,[g]);return me.createElement(e,{...m,children:v})}}function iw(n){const e=[{},{}];return n==null||n.values.forEach((r,o)=>{e[0][o]=r.get(),e[1][o]=r.getVelocity()}),e}function Zf(n,e,r,o){if(typeof e=="function"){const[a,u]=iw(o);e=e(r!==void 0?r:n.custom,a,u)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,u]=iw(o);e=e(r!==void 0?r:n.custom,a,u)}return e}const ep=n=>Array.isArray(n),JD=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),ZD=n=>ep(n)?n[n.length-1]||0:n;function Ic(n){const e=ln(n)?n.get():n;return JD(e)?e.toValue():e}function eP({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:r},o,a,u){const h={latestValues:tP(o,a,u,n),renderState:e()};return r&&(h.onMount=f=>r({props:o,current:f,...h}),h.onUpdate=f=>r(f)),h}const ow=n=>(e,r)=>{const o=me.useContext(kc),a=me.useContext(_f),u=()=>eP(n,e,o,a);return r?u():KA(u)};function tP(n,e,r,o){const a={},u=o(n,{});for(const T in u)a[T]=Ic(u[T]);let{initial:h,animate:f}=n;const m=Tc(n),g=Wb(n);e&&g&&!m&&n.inherit!==!1&&(h===void 0&&(h=e.initial),f===void 0&&(f=e.animate));let v=r?r.initial===!1:!1;v=v||h===!1;const S=v?f:h;if(S&&typeof S!="boolean"&&!xc(S)){const T=Array.isArray(S)?S:[S];for(let A=0;A<T.length;A++){const V=Zf(n,T[A]);if(V){const{transitionEnd:z,transition:j,...Z}=V;for(const te in Z){let oe=Z[te];if(Array.isArray(oe)){const ge=v?oe.length-1:0;oe=oe[ge]}oe!==null&&(a[te]=oe)}for(const te in z)a[te]=z[te]}}}return a}function tp(n,e,r){var o;const{style:a}=n,u={};for(const h in a)(ln(a[h])||e.style&&ln(e.style[h])||Yb(h,n)||((o=r==null?void 0:r.getValue(h))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(u[h]=a[h]);return u}const nP={useVisualState:ow({scrapeMotionValuesFromProps:tp,createRenderState:Hf})};function sw(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function aw(n,{style:e,vars:r},o,a){Object.assign(n.style,e,a&&a.getProjectionStyles(o));for(const u in r)n.style.setProperty(u,r[u])}const lw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uw(n,e,r,o){aw(n,e,void 0,o);for(const a in e.attrs)n.setAttribute(lw.has(a)?a:qf(a),e.attrs[a])}function cw(n,e,r){const o=tp(n,e,r);for(const a in n)if(ln(n[a])||ln(e[a])){const u=Ls.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[u]=n[a]}return o}const hw=["x","y","width","height","cx","cy","r"],rP={useVisualState:ow({scrapeMotionValuesFromProps:cw,createRenderState:rw,onUpdate:({props:n,prevProps:e,current:r,renderState:o,latestValues:a})=>{if(!r)return;let u=!!n.drag;if(!u){for(const f in a)if(Ao.has(f)){u=!0;break}}if(!u)return;let h=!e;if(e)for(let f=0;f<hw.length;f++){const m=hw[f];n[m]!==e[m]&&(h=!0)}h&&it.read(()=>{sw(r,o),it.render(()=>{Yf(o,a,Jf(r.tagName),n.transformTemplate),uw(r,o)})})}})};function iP(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const a={...Xf(r)?rP:nP,preloadedFeatures:n,useRender:YD(o),createVisualElement:e,Component:r};return _D(a)}}function cl(n,e,r){const o=n.getProps();return Zf(o,e,r!==void 0?r:o.custom,n)}const dw=new Set(["width","height","top","left","right","bottom",...Ls]);function oP(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,ol(r))}function sP(n,e){const r=cl(n,e);let{transitionEnd:o={},transition:a={},...u}=r||{};u={...u,...o};for(const h in u){const f=ZD(u[h]);oP(n,h,f)}}function aP(n){return!!(ln(n)&&n.add)}function np(n,e){const r=n.getValue("willChange");if(aP(r))return r.add(e)}function fw(n){return n.props[Gb]}const pw=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,lP=1e-7,uP=12;function cP(n,e,r,o,a){let u,h,f=0;do h=e+(r-e)/2,u=pw(h,o,a)-n,u>0?r=h:e=h;while(Math.abs(u)>lP&&++f<uP);return h}function hl(n,e,r,o){if(n===e&&r===o)return Dn;const a=u=>cP(u,0,1,n,r);return u=>u===0||u===1?u:pw(a(u),e,o)}const mw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gw=n=>e=>1-n(1-e),yw=hl(.33,1.53,.69,.99),rp=gw(yw),vw=mw(rp),bw=n=>(n*=2)<1?.5*rp(n):.5*(2-Math.pow(2,-10*(n-1))),ip=n=>1-Math.sin(Math.acos(n)),ww=gw(ip),Sw=mw(ip),Ew=n=>/^0[^.\s]+$/u.test(n);function hP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Ew(n):!0}const dl=n=>Math.round(n*1e5)/1e5,op=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dP(n){return n==null}const fP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sp=(n,e)=>r=>!!(typeof r=="string"&&fP.test(r)&&r.startsWith(n)||e&&!dP(r)&&Object.prototype.hasOwnProperty.call(r,e)),kw=(n,e,r)=>o=>{if(typeof o!="string")return o;const[a,u,h,f]=o.match(op);return{[n]:parseFloat(a),[e]:parseFloat(u),[r]:parseFloat(h),alpha:f!==void 0?parseFloat(f):1}},pP=n=>zr(0,255,n),ap={...Rs,transform:n=>Math.round(pP(n))},Do={test:sp("rgb","red"),parse:kw("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:o=1})=>"rgba("+ap.transform(n)+", "+ap.transform(e)+", "+ap.transform(r)+", "+dl(ll.transform(o))+")"};function mP(n){let e="",r="",o="",a="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),o=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),o=n.substring(3,4),a=n.substring(4,5),e+=e,r+=r,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const lp={test:sp("#"),parse:mP,transform:Do.transform},Vs={test:sp("hsl","hue"),parse:kw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:o=1})=>"hsla("+Math.round(n)+", "+br.transform(dl(e))+", "+br.transform(dl(r))+", "+dl(ll.transform(o))+")"},un={test:n=>Do.test(n)||lp.test(n)||Vs.test(n),parse:n=>Do.test(n)?Do.parse(n):Vs.test(n)?Vs.parse(n):lp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Do.transform(n):Vs.transform(n)},gP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yP(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(op))===null||e===void 0?void 0:e.length)||0)+(((r=n.match(gP))===null||r===void 0?void 0:r.length)||0)>0}const xw="number",Tw="color",vP="var",bP="var(",Cw="${}",wP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fl(n){const e=n.toString(),r=[],o={color:[],number:[],var:[]},a=[];let u=0;const h=e.replace(wP,f=>(un.test(f)?(o.color.push(u),a.push(Tw),r.push(un.parse(f))):f.startsWith(bP)?(o.var.push(u),a.push(vP),r.push(f)):(o.number.push(u),a.push(xw),r.push(parseFloat(f))),++u,Cw)).split(Cw);return{values:r,split:h,indexes:o,types:a}}function Iw(n){return fl(n).values}function _w(n){const{split:e,types:r}=fl(n),o=e.length;return a=>{let u="";for(let h=0;h<o;h++)if(u+=e[h],a[h]!==void 0){const f=r[h];f===xw?u+=dl(a[h]):f===Tw?u+=un.transform(a[h]):u+=a[h]}return u}}const SP=n=>typeof n=="number"?0:n;function EP(n){const e=Iw(n);return _w(n)(e.map(SP))}const Li={test:yP,parse:Iw,createTransformer:_w,getAnimatableNone:EP},kP=new Set(["brightness","contrast","saturate","opacity"]);function xP(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[o]=r.match(op)||[];if(!o)return n;const a=r.replace(o,"");let u=kP.has(e)?1:0;return o!==r&&(u*=100),e+"("+u+a+")"}const TP=/\b([a-z-]*)\(.*?\)/gu,up={...Li,getAnimatableNone:n=>{const e=n.match(TP);return e?e.map(xP).join(" "):n}},CP={...Gf,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:up,WebkitFilter:up},Aw=n=>CP[n];function Dw(n,e){let r=Aw(n);return r!==up&&(r=Li),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const IP=new Set(["auto","none","0"]);function _P(n,e,r){let o=0,a;for(;o<n.length&&!a;){const u=n[o];typeof u=="string"&&!IP.has(u)&&fl(u).values.length&&(a=n[o]),o++}if(a&&r)for(const u of e)n[u]=Dw(r,a)}const Po=n=>n*180/Math.PI,cp=n=>{const e=Po(Math.atan2(n[1],n[0]));return hp(e)},AP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cp,rotateZ:cp,skewX:n=>Po(Math.atan(n[1])),skewY:n=>Po(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},hp=n=>(n=n%360,n<0&&(n+=360),n),Pw=cp,Nw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Mw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),DP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Nw,scaleY:Mw,scale:n=>(Nw(n)+Mw(n))/2,rotateX:n=>hp(Po(Math.atan2(n[6],n[5]))),rotateY:n=>hp(Po(Math.atan2(-n[2],n[0]))),rotateZ:Pw,rotate:Pw,skewX:n=>Po(Math.atan(n[4])),skewY:n=>Po(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Lw(n){return n.includes("scale")?1:0}function dp(n,e){if(!n||n==="none")return Lw(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(r)o=DP,a=r;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=AP,a=f}if(!a)return Lw(e);const u=o[e],h=a[1].split(",").map(NP);return typeof u=="function"?u(h):h[u]}const PP=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return dp(r,e)};function NP(n){return parseFloat(n.trim())}const Rw=n=>n===Rs||n===xe,MP=new Set(["x","y","z"]),LP=Ls.filter(n=>!MP.has(n));function RP(n){const e=[];return LP.forEach(r=>{const o=n.getValue(r);o!==void 0&&(e.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),e}const Os={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>dp(e,"x"),y:(n,{transform:e})=>dp(e,"y")};Os.translateX=Os.x,Os.translateY=Os.y;const No=new Set;let fp=!1,pp=!1;function Vw(){if(pp){const n=Array.from(No).filter(o=>o.needsMeasurement),e=new Set(n.map(o=>o.element)),r=new Map;e.forEach(o=>{const a=RP(o);a.length&&(r.set(o,a),o.render())}),n.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const a=r.get(o);a&&a.forEach(([u,h])=>{var f;(f=o.getValue(u))===null||f===void 0||f.set(h)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}pp=!1,fp=!1,No.forEach(n=>n.complete()),No.clear()}function Ow(){No.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pp=!0)})}function VP(){Ow(),Vw()}class mp{constructor(e,r,o,a,u,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=o,this.motionValue=a,this.element=u,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(No.add(this),fp||(fp=!0,it.read(Ow),it.resolveKeyframes(Vw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:o,motionValue:a}=this;for(let u=0;u<e.length;u++)if(e[u]===null)if(u===0){const h=a==null?void 0:a.get(),f=e[e.length-1];if(h!==void 0)e[0]=h;else if(o&&r){const m=o.readValue(r,f);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=f),a&&h===void 0&&a.set(e[0])}else e[u]=e[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),No.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,No.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),OP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jP(n){const e=OP.exec(n);if(!e)return[,];const[,r,o,a]=e;return[`--${r??o}`,a]}function Fw(n,e,r=1){const[o,a]=jP(n);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);if(u){const h=u.trim();return jw(h)?parseFloat(h):h}return Qf(a)?Fw(a,e,r+1):a}const Uw=n=>e=>e.test(n),FP={test:n=>n==="auto",parse:n=>n},Bw=[Rs,xe,br,Mi,VD,RD,FP],zw=n=>Bw.find(Uw(n));class $w extends mp{constructor(e,r,o,a,u){super(e,r,o,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Qf(g))){const v=Fw(g,r.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!dw.has(o)||e.length!==2)return;const[a,u]=e,h=zw(a),f=zw(u);if(h!==f)if(Rw(h)&&Rw(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,o=[];for(let a=0;a<e.length;a++)hP(e[a])&&o.push(a);o.length&&_P(e,o,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[o](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(o,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:o,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const u=r.getValue(o);u&&u.jump(this.measuredOrigin,!1);const h=a.length-1,f=a[h];a[h]=Os[o](r.measureViewportBox(),window.getComputedStyle(r.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([m,g])=>{r.getValue(m).set(g)}),this.resolveNoneKeyframes()}}const qw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Li.test(n)||n==="0")&&!n.startsWith("url("));function UP(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function BP(n,e,r,o){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const u=n[n.length-1],h=qw(a,e),f=qw(u,e);return!h||!f?!1:UP(n)||(r==="spring"||Rf(r))&&o}const zP=n=>n!==null;function _c(n,{repeat:e,repeatType:r="loop"},o){const a=n.filter(zP),u=e&&r!=="loop"&&e%2===1?0:a.length-1;return!u||o===void 0?a[u]:o}const $P=40;class Ww{constructor({autoplay:e=!0,delay:r=0,type:o="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:h="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vr.now(),this.options={autoplay:e,delay:r,type:o,repeat:a,repeatDelay:u,repeatType:h,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$P?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VP(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=vr.now(),this.hasAttemptedResolve=!0;const{name:o,type:a,velocity:u,delay:h,onComplete:f,onUpdate:m,isGenerator:g}=this.options;if(!g&&!BP(e,o,a,u))if(h)this.options.duration=0;else{m&&m(_c(e,this.options,r)),f&&f(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,r);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...v},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(n,e,r)=>n+(e-n)*r;function gp(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function qP({hue:n,saturation:e,lightness:r,alpha:o}){n/=360,e/=100,r/=100;let a=0,u=0,h=0;if(!e)a=u=h=r;else{const f=r<.5?r*(1+e):r+e-r*e,m=2*r-f;a=gp(m,f,n+1/3),u=gp(m,f,n),h=gp(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:o}}function Ac(n,e){return r=>r>0?e:n}const yp=(n,e,r)=>{const o=n*n,a=r*(e*e-o)+o;return a<0?0:Math.sqrt(a)},WP=[lp,Do,Vs],QP=n=>WP.find(e=>e.test(n));function Qw(n){const e=QP(n);if(!e)return!1;let r=e.parse(n);return e===Vs&&(r=qP(r)),r}const Gw=(n,e)=>{const r=Qw(n),o=Qw(e);if(!r||!o)return Ac(n,e);const a={...r};return u=>(a.red=yp(r.red,o.red,u),a.green=yp(r.green,o.green,u),a.blue=yp(r.blue,o.blue,u),a.alpha=ut(r.alpha,o.alpha,u),Do.transform(a))},GP=(n,e)=>r=>e(n(r)),pl=(...n)=>n.reduce(GP),vp=new Set(["none","hidden"]);function KP(n,e){return vp.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function HP(n,e){return r=>ut(n,e,r)}function bp(n){return typeof n=="number"?HP:typeof n=="string"?Qf(n)?Ac:un.test(n)?Gw:JP:Array.isArray(n)?Kw:typeof n=="object"?un.test(n)?Gw:XP:Ac}function Kw(n,e){const r=[...n],o=r.length,a=n.map((u,h)=>bp(u)(u,e[h]));return u=>{for(let h=0;h<o;h++)r[h]=a[h](u);return r}}function XP(n,e){const r={...n,...e},o={};for(const a in r)n[a]!==void 0&&e[a]!==void 0&&(o[a]=bp(n[a])(n[a],e[a]));return a=>{for(const u in o)r[u]=o[u](a);return r}}function YP(n,e){var r;const o=[],a={color:0,var:0,number:0};for(let u=0;u<e.values.length;u++){const h=e.types[u],f=n.indexes[h][a[h]],m=(r=n.values[f])!==null&&r!==void 0?r:0;o[u]=m,a[h]++}return o}const JP=(n,e)=>{const r=Li.createTransformer(e),o=fl(n),a=fl(e);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?vp.has(n)&&!a.values.length||vp.has(e)&&!o.values.length?KP(n,e):pl(Kw(YP(o,a),a.values),r):Ac(n,e)};function Hw(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?ut(n,e,r):bp(n)(n,e)}const ZP=5;function Xw(n,e,r){const o=Math.max(e-ZP,0);return Ib(r-n(o),e-o)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yw=.001;function eN({duration:n=pt.duration,bounce:e=pt.bounce,velocity:r=pt.velocity,mass:o=pt.mass}){let a,u,h=1-e;h=zr(pt.minDamping,pt.maxDamping,h),n=zr(pt.minDuration,pt.maxDuration,Br(n)),h<1?(a=g=>{const v=g*h,S=v*n,T=v-r,A=wp(g,h),V=Math.exp(-S);return Yw-T/A*V},u=g=>{const v=g*h*n,S=v*r+r,T=Math.pow(h,2)*Math.pow(g,2)*n,A=Math.exp(-v),V=wp(Math.pow(g,2),h);return(-a(g)+Yw>0?-1:1)*((S-T)*A)/V}):(a=g=>{const v=Math.exp(-g*n),S=(g-r)*n+1;return-.001+v*S},u=g=>{const v=Math.exp(-g*n),S=(r-g)*(n*n);return v*S});const f=5/n,m=nN(a,u,f);if(n=Ur(n),isNaN(m))return{stiffness:pt.stiffness,damping:pt.damping,duration:n};{const g=Math.pow(m,2)*o;return{stiffness:g,damping:h*2*Math.sqrt(o*g),duration:n}}}const tN=12;function nN(n,e,r){let o=r;for(let a=1;a<tN;a++)o=o-n(o)/e(o);return o}function wp(n,e){return n*Math.sqrt(1-e*e)}const rN=["duration","bounce"],iN=["stiffness","damping","mass"];function Jw(n,e){return e.some(r=>n[r]!==void 0)}function oN(n){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...n};if(!Jw(n,iN)&&Jw(n,rN))if(n.visualDuration){const r=n.visualDuration,o=2*Math.PI/(r*1.2),a=o*o,u=2*zr(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:pt.mass,stiffness:a,damping:u}}else{const r=eN(n);e={...e,...r,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function Zw(n=pt.visualDuration,e=pt.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:o,restDelta:a}=r;const u=r.keyframes[0],h=r.keyframes[r.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:S,velocity:T,isResolvedFromDuration:A}=oN({...r,velocity:-Br(r.velocity||0)}),V=T||0,z=g/(2*Math.sqrt(m*v)),j=h-u,Z=Br(Math.sqrt(m/v)),te=Math.abs(j)<5;o||(o=te?pt.restSpeed.granular:pt.restSpeed.default),a||(a=te?pt.restDelta.granular:pt.restDelta.default);let oe;if(z<1){const ae=wp(Z,z);oe=ye=>{const L=Math.exp(-z*Z*ye);return h-L*((V+z*Z*j)/ae*Math.sin(ae*ye)+j*Math.cos(ae*ye))}}else if(z===1)oe=ae=>h-Math.exp(-Z*ae)*(j+(V+Z*j)*ae);else{const ae=Z*Math.sqrt(z*z-1);oe=ye=>{const L=Math.exp(-z*Z*ye),C=Math.min(ae*ye,300);return h-L*((V+z*Z*j)*Math.sinh(C)+ae*j*Math.cosh(C))/ae}}const ge={calculatedDuration:A&&S||null,next:ae=>{const ye=oe(ae);if(A)f.done=ae>=S;else{let L=0;z<1&&(L=ae===0?Ur(V):Xw(oe,ae,ye));const C=Math.abs(L)<=o,I=Math.abs(h-ye)<=a;f.done=C&&I}return f.value=f.done?h:ye,f},toString:()=>{const ae=Math.min(_b(ge),Lf),ye=Db(L=>ge.next(ae*L).value,ae,30);return ae+"ms "+ye}};return ge}function eS({keyframes:n,velocity:e=0,power:r=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:h,min:f,max:m,restDelta:g=.5,restSpeed:v}){const S=n[0],T={done:!1,value:S},A=C=>f!==void 0&&C<f||m!==void 0&&C>m,V=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let z=r*e;const j=S+z,Z=h===void 0?j:h(j);Z!==j&&(z=Z-S);const te=C=>-z*Math.exp(-C/o),oe=C=>Z+te(C),ge=C=>{const I=te(C),N=oe(C);T.done=Math.abs(I)<=g,T.value=T.done?Z:N};let ae,ye;const L=C=>{A(T.value)&&(ae=C,ye=Zw({keyframes:[T.value,V(T.value)],velocity:Xw(oe,C,T.value),damping:a,stiffness:u,restDelta:g,restSpeed:v}))};return L(0),{calculatedDuration:null,next:C=>{let I=!1;return!ye&&ae===void 0&&(I=!0,ge(C),L(C)),ae!==void 0&&C>=ae?ye.next(C-ae):(!I&&ge(C),T)}}}const sN=hl(.42,0,1,1),aN=hl(0,0,.58,1),tS=hl(.42,0,.58,1),lN=n=>Array.isArray(n)&&typeof n[0]!="number",uN={linear:Dn,easeIn:sN,easeInOut:tS,easeOut:aN,circIn:ip,circInOut:Sw,circOut:ww,backIn:rp,backInOut:vw,backOut:yw,anticipate:bw},nS=n=>{if(Vf(n)){Cb(n.length===4);const[e,r,o,a]=n;return hl(e,r,o,a)}else if(typeof n=="string")return uN[n];return n};function cN(n,e,r){const o=[],a=r||Hw,u=n.length-1;for(let h=0;h<u;h++){let f=a(n[h],n[h+1]);if(e){const m=Array.isArray(e)?e[h]||Dn:e;f=pl(m,f)}o.push(f)}return o}function hN(n,e,{clamp:r=!0,ease:o,mixer:a}={}){const u=n.length;if(Cb(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=cN(e,o,a),m=f.length,g=v=>{if(h&&v<n[0])return e[0];let S=0;if(m>1)for(;S<n.length-2&&!(v<n[S+1]);S++);const T=Ps(n[S],n[S+1],v);return f[S](T)};return r?v=>g(zr(n[0],n[u-1],v)):g}function dN(n,e){const r=n[n.length-1];for(let o=1;o<=e;o++){const a=Ps(0,e,o);n.push(ut(r,1,a))}}function fN(n){const e=[0];return dN(e,n.length-1),e}function pN(n,e){return n.map(r=>r*e)}function mN(n,e){return n.map(()=>e||tS).splice(0,n.length-1)}function Dc({duration:n=300,keyframes:e,times:r,ease:o="easeInOut"}){const a=lN(o)?o.map(nS):nS(o),u={done:!1,value:e[0]},h=pN(r&&r.length===e.length?r:fN(e),n),f=hN(h,e,{ease:Array.isArray(a)?a:mN(e,a)});return{calculatedDuration:n,next:m=>(u.value=f(m),u.done=m>=n,u)}}const gN=n=>{const e=({timestamp:r})=>n(r);return{start:()=>it.update(e,!0),stop:()=>Ni(e),now:()=>Ht.isProcessing?Ht.timestamp:vr.now()}},yN={decay:eS,inertia:eS,tween:Dc,keyframes:Dc,spring:Zw},vN=n=>n/100;class Sp extends Ww{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:r,motionValue:o,element:a,keyframes:u}=this.options,h=(a==null?void 0:a.KeyframeResolver)||mp,f=(m,g)=>this.onKeyframesResolved(m,g);this.resolver=new h(u,f,r,o,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u,velocity:h=0}=this.options,f=Rf(r)?r:yN[r]||Dc;let m,g;f!==Dc&&typeof e[0]!="number"&&(m=pl(vN,Hw(e[0],e[1])),e=[0,100]);const v=f({...this.options,keyframes:e});u==="mirror"&&(g=f({...this.options,keyframes:[...e].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=_b(v));const{calculatedDuration:S}=v,T=S+a,A=T*(o+1)-a;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:m,calculatedDuration:S,resolvedDuration:T,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:o}=this;if(!o){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:h,mapPercentToKeyframes:f,keyframes:m,calculatedDuration:g,totalDuration:v,resolvedDuration:S}=o;if(this.startTime===null)return u.next(0);const{delay:T,repeat:A,repeatType:V,repeatDelay:z,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const Z=this.currentTime-T*(this.speed>=0?1:-1),te=this.speed>=0?Z<0:Z>v;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let oe=this.currentTime,ge=u;if(A){const C=Math.min(this.currentTime,v)/S;let I=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&I--,I=Math.min(I,A+1),I%2&&(V==="reverse"?(N=1-N,z&&(N-=z/S)):V==="mirror"&&(ge=h)),oe=zr(0,1,N)*S}const ae=te?{done:!1,value:m[0]}:ge.next(oe);f&&(ae.value=f(ae.value));let{done:ye}=ae;!te&&g!==null&&(ye=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ye);return L&&a!==void 0&&(ae.value=_c(m,this.options,a)),j&&j(ae.value),L&&this.finish(),ae}get duration(){const{resolved:e}=this;return e?Br(e.calculatedDuration):0}get time(){return Br(this.currentTime)}set time(e){e=Ur(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Br(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=gN,onPlay:r,startTime:o}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const bN=new Set(["opacity","clipPath","filter","transform"]);function wN(n,e,r,{delay:o=0,duration:a=300,repeat:u=0,repeatType:h="loop",ease:f="easeInOut",times:m}={}){const g={[e]:r};m&&(g.offset=m);const v=Nb(f,a);return Array.isArray(v)&&(g.easing=v),n.animate(g,{delay:o,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"})}const SN=Pf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pc=10,EN=2e4;function kN(n){return Rf(n.type)||n.type==="spring"||!Pb(n.ease)}function xN(n,e){const r=new Sp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:n[0]};const a=[];let u=0;for(;!o.done&&u<EN;)o=r.sample(u),a.push(o.value),u+=Pc;return{times:void 0,keyframes:a,duration:u-Pc,ease:"linear"}}const rS={anticipate:bw,backInOut:vw,circInOut:Sw};function TN(n){return n in rS}class iS extends Ww{constructor(e){super(e);const{name:r,motionValue:o,element:a,keyframes:u}=this.options;this.resolver=new $w(u,(h,f)=>this.onKeyframesResolved(h,f),r,o,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:o=300,times:a,ease:u,type:h,motionValue:f,name:m,startTime:g}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof u=="string"&&bc()&&TN(u)&&(u=rS[u]),kN(this.options)){const{onComplete:S,onUpdate:T,motionValue:A,element:V,...z}=this.options,j=xN(e,z);e=j.keyframes,e.length===1&&(e[1]=e[0]),o=j.duration,a=j.times,u=j.ease,h="keyframes"}const v=wN(f.owner.current,m,e,{...this.options,duration:o,times:a,ease:u});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(Ab(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:S}=this.options;f.set(_c(e,this.options,r)),S&&S(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:o,times:a,type:h,ease:u,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Br(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Br(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.currentTime=Ur(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Dn;const{animation:o}=r;Ab(o,e)}return Dn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:o,duration:a,type:u,ease:h,times:f}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:S,element:T,...A}=this.options,V=new Sp({...A,keyframes:o,duration:a,type:u,ease:h,times:f,isGenerator:!0}),z=Ur(this.time);g.setWithVelocity(V.sample(z-Pc).value,V.sample(z).value,Pc)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:o,repeatDelay:a,repeatType:u,damping:h,type:f}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=r.owner.getProps();return SN()&&o&&bN.has(o)&&!m&&!g&&!a&&u!=="mirror"&&h!==0&&f!=="inertia"}}const CN={type:"spring",stiffness:500,damping:25,restSpeed:10},IN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),_N={type:"keyframes",duration:.8},AN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DN=(n,{keyframes:e})=>e.length>2?_N:Ao.has(n)?n.startsWith("scale")?IN(e[1]):CN:AN;function PN({when:n,delay:e,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:u,repeatType:h,repeatDelay:f,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const Ep=(n,e,r,o={},a,u)=>h=>{const f=Mf(o,n)||{},m=f.delay||o.delay||0;let{elapsed:g=0}=o;g=g-Ur(m);let v={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{h(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:u?void 0:a};PN(f)||(v={...v,...DN(n,v)}),v.duration&&(v.duration=Ur(v.duration)),v.repeatDelay&&(v.repeatDelay=Ur(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let S=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(S=!0)),v.allowFlatten=!f.type&&!f.ease,S&&!u&&e.get()!==void 0){const T=_c(v.keyframes,f);if(T!==void 0)return it.update(()=>{v.onUpdate(T),v.onComplete()}),new eD([])}return!u&&iS.supports(v)?new iS(v):new Sp(v)};function NN({protectedKeys:n,needsAnimating:e},r){const o=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,o}function oS(n,e,{delay:r=0,transitionOverride:o,type:a}={}){var u;let{transition:h=n.getDefaultTransition(),transitionEnd:f,...m}=e;o&&(h=o);const g=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const S in m){const T=n.getValue(S,(u=n.latestValues[S])!==null&&u!==void 0?u:null),A=m[S];if(A===void 0||v&&NN(v,S))continue;const V={delay:r,...Mf(h||{},S)};let z=!1;if(window.MotionHandoffAnimation){const Z=fw(n);if(Z){const te=window.MotionHandoffAnimation(Z,S,it);te!==null&&(V.startTime=te,z=!0)}}np(n,S),T.start(Ep(S,T,A,n.shouldReduceMotion&&dw.has(S)?{type:!1}:V,n,z));const j=T.animation;j&&g.push(j)}return f&&Promise.all(g).then(()=>{it.update(()=>{f&&sP(n,f)})}),g}function kp(n,e,r={}){var o;const a=cl(n,e,r.type==="exit"?(o=n.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(u=r.transitionOverride);const h=a?()=>Promise.all(oS(n,a,r)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:T}=u;return MN(n,e,v+g,S,T,r)}:()=>Promise.resolve(),{when:m}=u;if(m){const[g,v]=m==="beforeChildren"?[h,f]:[f,h];return g().then(()=>v())}else return Promise.all([h(),f(r.delay)])}function MN(n,e,r=0,o=0,a=1,u){const h=[],f=(n.variantChildren.size-1)*o,m=a===1?(g=0)=>g*o:(g=0)=>f-g*o;return Array.from(n.variantChildren).sort(LN).forEach((g,v)=>{g.notify("AnimationStart",e),h.push(kp(g,e,{...u,delay:r+m(v)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(h)}function LN(n,e){return n.sortNodePosition(e)}function RN(n,e,r={}){n.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(u=>kp(n,u,r));o=Promise.all(a)}else if(typeof e=="string")o=kp(n,e,r);else{const a=typeof e=="function"?cl(n,e,r.custom):e;o=Promise.all(oS(n,a,r))}return o.then(()=>{n.notify("AnimationComplete",e)})}function sS(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let o=0;o<r;o++)if(e[o]!==n[o])return!1;return!0}const VN=$f.length;function aS(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?aS(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<VN;r++){const o=$f[r],a=n.props[o];(sl(a)||a===!1)&&(e[o]=a)}return e}const ON=[...zf].reverse(),jN=zf.length;function FN(n){return e=>Promise.all(e.map(({animation:r,options:o})=>RN(n,r,o)))}function UN(n){let e=FN(n),r=lS(),o=!0;const a=m=>(g,v)=>{var S;const T=cl(n,v,m==="exit"?(S=n.presenceContext)===null||S===void 0?void 0:S.custom:void 0);if(T){const{transition:A,transitionEnd:V,...z}=T;g={...g,...z,...V}}return g};function u(m){e=m(n)}function h(m){const{props:g}=n,v=aS(n.parent)||{},S=[],T=new Set;let A={},V=1/0;for(let j=0;j<jN;j++){const Z=ON[j],te=r[Z],oe=g[Z]!==void 0?g[Z]:v[Z],ge=sl(oe),ae=Z===m?te.isActive:null;ae===!1&&(V=j);let ye=oe===v[Z]&&oe!==g[Z]&&ge;if(ye&&o&&n.manuallyAnimateOnMount&&(ye=!1),te.protectedKeys={...A},!te.isActive&&ae===null||!oe&&!te.prevProp||xc(oe)||typeof oe=="boolean")continue;const L=BN(te.prevProp,oe);let C=L||Z===m&&te.isActive&&!ye&&ge||j>V&&ge,I=!1;const N=Array.isArray(oe)?oe:[oe];let M=N.reduce(a(Z),{});ae===!1&&(M={});const{prevResolvedValues:F={}}=te,P={...F,...M},$e=_e=>{C=!0,T.has(_e)&&(I=!0,T.delete(_e)),te.needsAnimating[_e]=!0;const ie=n.getValue(_e);ie&&(ie.liveStyle=!1)};for(const _e in P){const ie=M[_e],de=F[_e];if(A.hasOwnProperty(_e))continue;let ve=!1;ep(ie)&&ep(de)?ve=!sS(ie,de):ve=ie!==de,ve?ie!=null?$e(_e):T.add(_e):ie!==void 0&&T.has(_e)?$e(_e):te.protectedKeys[_e]=!0}te.prevProp=oe,te.prevResolvedValues=M,te.isActive&&(A={...A,...M}),o&&n.blockInitialAnimation&&(C=!1),C&&(!(ye&&L)||I)&&S.push(...N.map(_e=>({animation:_e,options:{type:Z}})))}if(T.size){const j={};if(typeof g.initial!="boolean"){const Z=cl(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Z&&Z.transition&&(j.transition=Z.transition)}T.forEach(Z=>{const te=n.getBaseTarget(Z),oe=n.getValue(Z);oe&&(oe.liveStyle=!0),j[Z]=te??null}),S.push({animation:j})}let z=!!S.length;return o&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(z=!1),o=!1,z?e(S):Promise.resolve()}function f(m,g){var v;if(r[m].isActive===g)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var A;return(A=T.animationState)===null||A===void 0?void 0:A.setActive(m,g)}),r[m].isActive=g;const S=h(m);for(const T in r)r[T].protectedKeys={};return S}return{animateChanges:h,setActive:f,setAnimateFunction:u,getState:()=>r,reset:()=>{r=lS(),o=!0}}}function BN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!sS(e,n):!1}function Mo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lS(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zN extends Ri{constructor(e){super(e),e.animationState||(e.animationState=UN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let $N=0;class qN extends Ri{constructor(){super(...arguments),this.id=$N++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const WN={animation:{Feature:zN},exit:{Feature:qN}};function ml(n,e,r,o={passive:!0}){return n.addEventListener(e,r,o),()=>n.removeEventListener(e,r)}function gl(n){return{point:{x:n.pageX,y:n.pageY}}}const QN=n=>e=>Uf(e)&&n(e,gl(e));function yl(n,e,r,o){return ml(n,e,QN(r),o)}function uS({top:n,left:e,right:r,bottom:o}){return{x:{min:e,max:r},y:{min:n,max:o}}}function GN({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function KN(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),o=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}const cS=1e-4,HN=1-cS,XN=1+cS,hS=.01,YN=0-hS,JN=0+hS;function fn(n){return n.max-n.min}function ZN(n,e,r){return Math.abs(n-e)<=r}function dS(n,e,r,o=.5){n.origin=o,n.originPoint=ut(e.min,e.max,n.origin),n.scale=fn(r)/fn(e),n.translate=ut(r.min,r.max,n.origin)-n.originPoint,(n.scale>=HN&&n.scale<=XN||isNaN(n.scale))&&(n.scale=1),(n.translate>=YN&&n.translate<=JN||isNaN(n.translate))&&(n.translate=0)}function vl(n,e,r,o){dS(n.x,e.x,r.x,o?o.originX:void 0),dS(n.y,e.y,r.y,o?o.originY:void 0)}function fS(n,e,r){n.min=r.min+e.min,n.max=n.min+fn(e)}function eM(n,e,r){fS(n.x,e.x,r.x),fS(n.y,e.y,r.y)}function pS(n,e,r){n.min=e.min-r.min,n.max=n.min+fn(e)}function bl(n,e,r){pS(n.x,e.x,r.x),pS(n.y,e.y,r.y)}const mS=()=>({translate:0,scale:1,origin:0,originPoint:0}),js=()=>({x:mS(),y:mS()}),gS=()=>({min:0,max:0}),St=()=>({x:gS(),y:gS()});function jn(n){return[n("x"),n("y")]}function xp(n){return n===void 0||n===1}function Tp({scale:n,scaleX:e,scaleY:r}){return!xp(n)||!xp(e)||!xp(r)}function Lo(n){return Tp(n)||yS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function yS(n){return vS(n.x)||vS(n.y)}function vS(n){return n&&n!=="0%"}function Nc(n,e,r){const o=n-r,a=e*o;return r+a}function bS(n,e,r,o,a){return a!==void 0&&(n=Nc(n,a,o)),Nc(n,r,o)+e}function Cp(n,e=0,r=1,o,a){n.min=bS(n.min,e,r,o,a),n.max=bS(n.max,e,r,o,a)}function wS(n,{x:e,y:r}){Cp(n.x,e.translate,e.scale,e.originPoint),Cp(n.y,r.translate,r.scale,r.originPoint)}const SS=.999999999999,ES=1.0000000000001;function tM(n,e,r,o=!1){const a=r.length;if(!a)return;e.x=e.y=1;let u,h;for(let f=0;f<a;f++){u=r[f],h=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Us(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,wS(n,h)),o&&Lo(u.latestValues)&&Us(n,u.latestValues))}e.x<ES&&e.x>SS&&(e.x=1),e.y<ES&&e.y>SS&&(e.y=1)}function Fs(n,e){n.min=n.min+e,n.max=n.max+e}function kS(n,e,r,o,a=.5){const u=ut(n.min,n.max,a);Cp(n,e,r,u,o)}function Us(n,e){kS(n.x,e.x,e.scaleX,e.scale,e.originX),kS(n.y,e.y,e.scaleY,e.scale,e.originY)}function xS(n,e){return uS(KN(n.getBoundingClientRect(),e))}function nM(n,e,r){const o=xS(n,r),{scroll:a}=e;return a&&(Fs(o.x,a.offset.x),Fs(o.y,a.offset.y)),o}const TS=({current:n})=>n?n.ownerDocument.defaultView:null,CS=(n,e)=>Math.abs(n-e);function rM(n,e){const r=CS(n.x,e.x),o=CS(n.y,e.y);return Math.sqrt(r**2+o**2)}class IS{constructor(e,r,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=_p(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,A=rM(S.offset,{x:0,y:0})>=3;if(!T&&!A)return;const{point:V}=S,{timestamp:z}=Ht;this.history.push({...V,timestamp:z});const{onStart:j,onMove:Z}=this.handlers;T||(j&&j(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Z&&Z(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ip(T,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:A,onSessionEnd:V,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=_p(S.type==="pointercancel"?this.lastMoveEventInfo:Ip(T,this.transformPagePoint),this.history);this.startEvent&&A&&A(S,j),V&&V(S,j)},!Uf(e))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=o,this.contextWindow=a||window;const h=gl(e),f=Ip(h,this.transformPagePoint),{point:m}=f,{timestamp:g}=Ht;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=r;v&&v(e,_p(f,this.history)),this.removeListeners=pl(yl(this.contextWindow,"pointermove",this.handlePointerMove),yl(this.contextWindow,"pointerup",this.handlePointerUp),yl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function Ip(n,e){return e?{point:e(n.point)}:n}function _S(n,e){return{x:n.x-e.x,y:n.y-e.y}}function _p({point:n},e){return{point:n,delta:_S(n,AS(e)),offset:_S(n,iM(e)),velocity:oM(e,.1)}}function iM(n){return n[0]}function AS(n){return n[n.length-1]}function oM(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,o=null;const a=AS(n);for(;r>=0&&(o=n[r],!(a.timestamp-o.timestamp>Ur(e)));)r--;if(!o)return{x:0,y:0};const u=Br(a.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const h={x:(a.x-o.x)/u,y:(a.y-o.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function sM(n,{min:e,max:r},o){return e!==void 0&&n<e?n=o?ut(e,n,o.min):Math.max(n,e):r!==void 0&&n>r&&(n=o?ut(r,n,o.max):Math.min(n,r)),n}function DS(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function aM(n,{top:e,left:r,bottom:o,right:a}){return{x:DS(n.x,r,a),y:DS(n.y,e,o)}}function PS(n,e){let r=e.min-n.min,o=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,o]=[o,r]),{min:r,max:o}}function lM(n,e){return{x:PS(n.x,e.x),y:PS(n.y,e.y)}}function uM(n,e){let r=.5;const o=fn(n),a=fn(e);return a>o?r=Ps(e.min,e.max-o,n.min):o>a&&(r=Ps(n.min,n.max-a,e.min)),zr(0,1,r)}function cM(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const Ap=.35;function hM(n=Ap){return n===!1?n=0:n===!0&&(n=Ap),{x:NS(n,"left","right"),y:NS(n,"top","bottom")}}function NS(n,e,r){return{min:MS(n,e),max:MS(n,r)}}function MS(n,e){return typeof n=="number"?n:n[e]||0}const dM=new WeakMap;class fM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(gl(v).point)},u=(v,S)=>{const{drag:T,dragPropagation:A,onDragStart:V}=this.getProps();if(T&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sD(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(j=>{let Z=this.getAxisMotionValue(j).get()||0;if(br.test(Z)){const{projection:te}=this.visualElement;if(te&&te.layout){const oe=te.layout.layoutBox[j];oe&&(Z=fn(oe)*(parseFloat(Z)/100))}}this.originPoint[j]=Z}),V&&it.postRender(()=>V(v,S)),np(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},h=(v,S)=>{const{dragPropagation:T,dragDirectionLock:A,onDirectionLock:V,onDrag:z}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:j}=S;if(A&&this.currentDirection===null){this.currentDirection=pM(j),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",S.point,j),this.updateAxis("y",S.point,j),this.visualElement.render(),z&&z(v,S)},f=(v,S)=>this.stop(v,S),m=()=>jn(v=>{var S;return this.getAnimationState(v)==="paused"&&((S=this.getAxisMotionValue(v).animation)===null||S===void 0?void 0:S.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new IS(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:TS(this.visualElement)})}stop(e,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&it.postRender(()=>u(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,o){const{drag:a}=this.getProps();if(!o||!Mc(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=sM(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;r&&Ms(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=aM(a.layoutBox,r):this.constraints=!1,this.elastic=hM(o),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&jn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=cM(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ms(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=nM(o,a.root,this.visualElement.getTransformPagePoint());let h=lM(a.layout.layoutBox,u);if(r){const f=r(GN(h));this.hasMutatedConstraints=!!f,f&&(h=uS(f))}return h}startAnimation(e){const{drag:r,dragMomentum:o,dragElastic:a,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=jn(v=>{if(!Mc(v,r,this.currentDirection))return;let S=m&&m[v]||{};h&&(S={min:0,max:0});const T=a?200:1e6,A=a?40:1e7,V={type:"inertia",velocity:o?e[v]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...u,...S};return this.startAxisValueAnimation(v,V)});return Promise.all(g).then(f)}startAxisValueAnimation(e,r){const o=this.getAxisMotionValue(e);return np(this.visualElement,e),o.start(Ep(e,o,0,r,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps();return o[r]||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){jn(r=>{const{drag:o}=this.getProps();if(!Mc(r,o,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(r);if(a&&a.layout){const{min:h,max:f}=a.layout.layoutBox[r];u.set(e[r]-ut(h,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Ms(r)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jn(h=>{const f=this.getAxisMotionValue(h);if(f&&this.constraints!==!1){const m=f.get();a[h]=uM({min:m,max:m},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),jn(h=>{if(!Mc(h,e,null))return;const f=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];f.set(ut(m,g,a[h]))})}addListeners(){if(!this.visualElement.current)return;dM.set(this.visualElement,this);const e=this.visualElement.current,r=yl(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Ms(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),it.read(o);const h=ml(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(jn(v=>{const S=this.getAxisMotionValue(v);S&&(this.originPoint[v]+=m[v].translate,S.set(S.get()+m[v].translate))}),this.visualElement.render())});return()=>{h(),r(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:h=Ap,dragMomentum:f=!0}=e;return{...e,drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:f}}}function Mc(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function pM(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class mM extends Ri{constructor(e){super(e),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new fM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const LS=n=>(e,r)=>{n&&it.postRender(()=>n(e,r))};class gM extends Ri{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(e){this.session=new IS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:LS(e),onStart:LS(r),onMove:o,onEnd:(u,h)=>{delete this.session,a&&it.postRender(()=>a(u,h))}}}mount(){this.removePointerDownListener=yl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const wl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xe.test(n))n=parseFloat(n);else return n;const r=RS(n,e.target.x),o=RS(n,e.target.y);return`${r}% ${o}%`}},yM={correct:(n,{treeScale:e,projectionDelta:r})=>{const o=n,a=Li.parse(n);if(a.length>5)return o;const u=Li.createTransformer(n),h=typeof a[0]!="number"?1:0,f=r.x.scale*e.x,m=r.y.scale*e.y;a[0+h]/=f,a[1+h]/=m;const g=ut(f,m,.5);return typeof a[2+h]=="number"&&(a[2+h]/=g),typeof a[3+h]=="number"&&(a[3+h]/=g),u(a)}};class vM extends me.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o,layoutId:a}=this.props,{projection:u}=e;LD(bM),u&&(r.group&&r.group.add(u),o&&o.register&&a&&o.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Lc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:o,drag:a,isPresent:u}=this.props,h=o.projection;return h&&(h.isPresent=u,a||e.layoutDependency!==r||r===void 0||e.isPresent!==u?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||it.postRender(()=>{const f=h.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ff.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function VS(n){const[e,r]=XA(),o=me.useContext(xb);return re.jsx(vM,{...n,layoutGroup:o,switchLayoutGroup:me.useContext(Kb),isPresent:e,safeToRemove:r})}const bM={borderRadius:{...wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wl,borderTopRightRadius:wl,borderBottomLeftRadius:wl,borderBottomRightRadius:wl,boxShadow:yM};function wM(n,e,r){const o=ln(n)?n:ol(n);return o.start(Ep("",o,e,r)),o.animation}function SM(n){return n instanceof SVGElement&&n.tagName!=="svg"}const EM=(n,e)=>n.depth-e.depth;class kM{constructor(){this.children=[],this.isDirty=!1}add(e){Af(this.children,e),this.isDirty=!0}remove(e){Df(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EM),this.isDirty=!1,this.children.forEach(e)}}function xM(n,e){const r=vr.now(),o=({timestamp:a})=>{const u=a-r;u>=e&&(Ni(o),n(u-e))};return it.read(o,!0),()=>Ni(o)}const OS=["TopLeft","TopRight","BottomLeft","BottomRight"],TM=OS.length,jS=n=>typeof n=="string"?parseFloat(n):n,FS=n=>typeof n=="number"||xe.test(n);function CM(n,e,r,o,a,u){a?(n.opacity=ut(0,r.opacity!==void 0?r.opacity:1,IM(o)),n.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,_M(o))):u&&(n.opacity=ut(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let h=0;h<TM;h++){const f=`border${OS[h]}Radius`;let m=US(e,f),g=US(r,f);m===void 0&&g===void 0||(m||(m=0),g||(g=0),m===0||g===0||FS(m)===FS(g)?(n[f]=Math.max(ut(jS(m),jS(g),o),0),(br.test(g)||br.test(m))&&(n[f]+="%")):n[f]=g)}(e.rotate||r.rotate)&&(n.rotate=ut(e.rotate||0,r.rotate||0,o))}function US(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const IM=BS(0,.5,ww),_M=BS(.5,.95,Dn);function BS(n,e,r){return o=>o<n?0:o>e?1:r(Ps(n,e,o))}function zS(n,e){n.min=e.min,n.max=e.max}function Fn(n,e){zS(n.x,e.x),zS(n.y,e.y)}function $S(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function qS(n,e,r,o,a){return n-=e,n=Nc(n,1/r,o),a!==void 0&&(n=Nc(n,1/a,o)),n}function AM(n,e=0,r=1,o=.5,a,u=n,h=n){if(br.test(e)&&(e=parseFloat(e),e=ut(h.min,h.max,e/100)-h.min),typeof e!="number")return;let f=ut(u.min,u.max,o);n===u&&(f-=e),n.min=qS(n.min,e,r,f,a),n.max=qS(n.max,e,r,f,a)}function WS(n,e,[r,o,a],u,h){AM(n,e[r],e[o],e[a],e.scale,u,h)}const DM=["x","scaleX","originX"],PM=["y","scaleY","originY"];function QS(n,e,r,o){WS(n.x,e,DM,r?r.x:void 0,o?o.x:void 0),WS(n.y,e,PM,r?r.y:void 0,o?o.y:void 0)}function GS(n){return n.translate===0&&n.scale===1}function KS(n){return GS(n.x)&&GS(n.y)}function HS(n,e){return n.min===e.min&&n.max===e.max}function NM(n,e){return HS(n.x,e.x)&&HS(n.y,e.y)}function XS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function YS(n,e){return XS(n.x,e.x)&&XS(n.y,e.y)}function JS(n){return fn(n.x)/fn(n.y)}function ZS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class MM{constructor(){this.members=[]}add(e){Af(this.members,e),e.scheduleRender()}remove(e){if(Df(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let o;for(let a=r;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,r){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,r&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:o}=e;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LM(n,e,r){let o="";const a=n.x.translate/e.x,u=n.y.translate/e.y,h=(r==null?void 0:r.z)||0;if((a||u||h)&&(o=`translate3d(${a}px, ${u}px, ${h}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:g,rotate:v,rotateX:S,rotateY:T,skewX:A,skewY:V}=r;g&&(o=`perspective(${g}px) ${o}`),v&&(o+=`rotate(${v}deg) `),S&&(o+=`rotateX(${S}deg) `),T&&(o+=`rotateY(${T}deg) `),A&&(o+=`skewX(${A}deg) `),V&&(o+=`skewY(${V}deg) `)}const f=n.x.scale*e.x,m=n.y.scale*e.y;return(f!==1||m!==1)&&(o+=`scale(${f}, ${m})`),o||"none"}const Dp=["","X","Y","Z"],RM={visibility:"hidden"},eE=1e3;let VM=0;function Pp(n,e,r,o){const{latestValues:a}=e;a[n]&&(r[n]=a[n],e.setStaticValue(n,0),o&&(o[n]=0))}function tE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=fw(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",it,!(a||u))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&tE(o)}function nE({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=VM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FM),this.nodes.forEach(qM),this.nodes.forEach(WM),this.nodes.forEach(UM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new kM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Nf),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SM(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||f)&&(this.isLayoutDirty=!0),n){let v;const S=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=xM(S,250),Lc.hasAnimatedSinceResize&&(Lc.hasAnimatedSinceResize=!1,this.nodes.forEach(iE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||XM,{onLayoutAnimationStart:z,onLayoutAnimationComplete:j}=g.getProps(),Z=!this.targetLayout||!YS(this.targetLayout,A),te=!S&&T;if(this.options.layoutRoot||this.resumeFrom||te||S&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,te);const oe={...Mf(V,"layout"),onPlay:z,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(oe.delay=0,oe.type=!1),this.startAnimation(oe)}else S||iE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rE);return}this.isUpdating||this.nodes.forEach(zM),this.isUpdating=!1,this.nodes.forEach($M),this.nodes.forEach(OM),this.nodes.forEach(jM),this.clearAllSnapshots();const u=vr.now();Ht.delta=zr(0,1e3/60,u-Ht.timestamp),Ht.timestamp=u,Ht.isProcessing=!0,jf.update.process(Ht),jf.preRender.process(Ht),jf.render.process(Ht),Ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ff.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BM),this.sharedNodes.forEach(GM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!KS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&(h||Lo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),YM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return St();const f=h.measureViewportBox();if(!(!((u=this.scroll)===null||u===void 0)&&u.wasRoot||this.path.some(JM))){const{scroll:m}=this.root;m&&(Fs(f.x,m.offset.x),Fs(f.y,m.offset.y))}return f}removeElementScroll(u){var h;const f=St();if(Fn(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:S}=g;g!==this.root&&v&&S.layoutScroll&&(v.wasRoot&&Fn(f,u),Fs(f.x,v.offset.x),Fs(f.y,v.offset.y))}return f}applyTransform(u,h=!1){const f=St();Fn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Us(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Lo(g.latestValues)&&Us(f,g.latestValues)}return Lo(this.latestValues)&&Us(f,this.latestValues),f}removeTransform(u){const h=St();Fn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Lo(m.latestValues))continue;Tp(m.latestValues)&&m.updateSnapshot();const g=St(),v=m.measurePageBox();Fn(g,v),QS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Lo(this.latestValues)&&QS(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Ht.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),bl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),wS(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),bl(this.relativeTargetOrigin,this.target,S.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tp(this.parent.latestValues)||yS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ht.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Fn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,T=this.treeScale.y;tM(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=St());const{target:A}=h;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($S(this.prevProjectionDelta.x,this.projectionDelta.x),$S(this.prevProjectionDelta.y,this.projectionDelta.y)),vl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==T||!ZS(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=js(),this.projectionDelta=js(),this.projectionDeltaWithTransform=js()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=St(),T=f?f.source:void 0,A=this.layout?this.layout.source:void 0,V=T!==A,z=this.getStack(),j=!z||z.members.length<=1,Z=!!(V&&!j&&this.options.crossfade===!0&&!this.path.some(HM));this.animationProgress=0;let te;this.mixTargetDelta=oe=>{const ge=oe/1e3;oE(v.x,u.x,ge),oE(v.y,u.y,ge),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KM(this.relativeTarget,this.relativeTargetOrigin,S,ge),te&&NM(this.relativeTarget,te)&&(this.isProjectionDirty=!1),te||(te=St()),Fn(te,this.relativeTarget)),V&&(this.animationValues=g,CM(g,m,this.latestValues,ge,Z,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ge},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Lc.hasAnimatedSinceResize=!0,this.currentAnimation=wM(0,eE,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&cE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||St();const v=fn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const S=fn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+S}Fn(h,f),Us(h,g),vl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new MM),this.sharedNodes.get(u).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Pp("z",u,m,this.animationValues);for(let g=0;g<Dp.length;g++)Pp(`rotate${Dp[g]}`,u,m,this.animationValues),Pp(`skew${Dp[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return RM;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ic(u==null?void 0:u.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const V={};return this.options.layoutId&&(V.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,V.pointerEvents=Ic(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Lo(this.latestValues)&&(V.transform=g?g({},""):"none",this.hasProjected=!1),V}const S=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=LM(this.projectionDeltaWithTransform,this.treeScale,S),g&&(m.transform=g(S,m.transform));const{x:T,y:A}=this.projectionDelta;m.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,v.animationValues?m.opacity=v===this?(f=(h=S.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:m.opacity=v===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const V in al){if(S[V]===void 0)continue;const{correct:z,applyTo:j,isCSSVariable:Z}=al[V],te=m.transform==="none"?S[V]:z(S[V],v);if(j){const oe=j.length;for(let ge=0;ge<oe;ge++)m[j[ge]]=te}else Z?this.options.visualElement.renderState.vars[V]=te:m[V]=te}return this.options.layoutId&&(m.pointerEvents=v===this?Ic(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(rE),this.root.sharedNodes.clear()}}}function OM(n){n.updateLayout()}function jM(n){var e;const r=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=n.layout,{animationType:u}=n.options,h=r.source!==n.layout.source;u==="size"?jn(S=>{const T=h?r.measuredBox[S]:r.layoutBox[S],A=fn(T);T.min=o[S].min,T.max=T.min+A}):cE(u,r.layoutBox,o)&&jn(S=>{const T=h?r.measuredBox[S]:r.layoutBox[S],A=fn(o[S]);T.max=T.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[S].max=n.relativeTarget[S].min+A)});const f=js();vl(f,o,r.layoutBox);const m=js();h?vl(m,n.applyTransform(a,!0),r.measuredBox):vl(m,o,r.layoutBox);const g=!KS(f);let v=!1;if(!n.resumeFrom){const S=n.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:T,layout:A}=S;if(T&&A){const V=St();bl(V,r.layoutBox,T.layoutBox);const z=St();bl(z,o,A.layoutBox),YS(V,z)||(v=!0),S.options.layoutRoot&&(n.relativeTarget=z,n.relativeTargetOrigin=V,n.relativeParent=S)}}}n.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:o}=n.options;o&&o()}n.options.transition=void 0}function FM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function UM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function BM(n){n.clearSnapshot()}function rE(n){n.clearMeasurements()}function zM(n){n.isLayoutDirty=!1}function $M(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function iE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function qM(n){n.resolveTargetDelta()}function WM(n){n.calcProjection()}function QM(n){n.resetSkewAndRotation()}function GM(n){n.removeLeadSnapshot()}function oE(n,e,r){n.translate=ut(e.translate,0,r),n.scale=ut(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function sE(n,e,r,o){n.min=ut(e.min,r.min,o),n.max=ut(e.max,r.max,o)}function KM(n,e,r,o){sE(n.x,e.x,r.x,o),sE(n.y,e.y,r.y,o)}function HM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const XM={duration:.45,ease:[.4,0,.1,1]},aE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),lE=aE("applewebkit/")&&!aE("chrome/")?Math.round:Dn;function uE(n){n.min=lE(n.min),n.max=lE(n.max)}function YM(n){uE(n.x),uE(n.y)}function cE(n,e,r){return n==="position"||n==="preserve-aspect"&&!ZN(JS(e),JS(r),.2)}function JM(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const ZM=nE({attachResizeListener:(n,e)=>ml(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Np={current:void 0},hE=nE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Np.current){const n=new ZM({});n.mount(window),n.setOptions({layoutScroll:!0}),Np.current=n}return Np.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),e4={pan:{Feature:gM},drag:{Feature:mM,ProjectionNode:hE,MeasureLayout:VS}};function dE(n,e,r){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,u=o[a];u&&it.postRender(()=>u(e,gl(e)))}class t4 extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=lD(e,(r,o)=>(dE(this.node,o,"Start"),a=>dE(this.node,a,"End"))))}unmount(){}}class n4 extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pl(ml(this.node.current,"focus",()=>this.onFocus()),ml(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fE(n,e,r){const{props:o}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),u=o[a];u&&it.postRender(()=>u(e,gl(e)))}class r4 extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=dD(e,(r,o)=>(fE(this.node,o,"Start"),(a,{success:u})=>fE(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mp=new WeakMap,Lp=new WeakMap,i4=n=>{const e=Mp.get(n.target);e&&e(n)},o4=n=>{n.forEach(i4)};function s4({root:n,...e}){const r=n||document;Lp.has(r)||Lp.set(r,{});const o=Lp.get(r),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(o4,{root:n,...e})),o[a]}function a4(n,e,r){const o=s4(e);return Mp.set(n,r),o.observe(n),()=>{Mp.delete(n),o.unobserve(n)}}const l4={some:0,all:1};class u4 extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:o,amount:a="some",once:u}=e,h={root:r?r.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:l4[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:S}=this.node.getProps(),T=g?v:S;T&&T(m)};return a4(this.node.current,h,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(c4(e,r))&&this.startObserver()}unmount(){}}function c4({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const h4={inView:{Feature:u4},tap:{Feature:r4},focus:{Feature:n4},hover:{Feature:t4}},d4={layout:{ProjectionNode:hE,MeasureLayout:VS}},Rp={current:null},pE={current:!1};function f4(){if(pE.current=!0,!!If)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rp.current=n.matches;n.addListener(e),e()}else Rp.current=!1}const p4=[...Bw,un,Li],m4=n=>p4.find(Uw(n)),g4=new WeakMap;function y4(n,e,r){for(const o in e){const a=e[o],u=r[o];if(ln(a))n.addValue(o,a);else if(ln(u))n.addValue(o,ol(a,{owner:n}));else if(u!==a)if(n.hasValue(o)){const h=n.getValue(o);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=n.getStaticValue(o);n.addValue(o,ol(h!==void 0?h:a,{owner:n}))}}for(const o in r)e[o]===void 0&&n.removeValue(o);return e}const mE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v4{scrapeMotionValuesFromProps(e,r,o){return{}}constructor({parent:e,props:r,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:u,visualState:h},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=vr.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,it.render(this.render,!1,!0))};const{latestValues:m,renderState:g,onUpdate:v}=h;this.onUpdate=v,this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=r,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Tc(r),this.isVariantNode=Wb(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:S,...T}=this.scrapeMotionValuesFromProps(r,{},this);for(const A in T){const V=T[A];m[A]!==void 0&&ln(V)&&V.set(m[A],!1)}}mount(e){this.current=e,g4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),pE.current||f4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=Ao.has(e);o&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&it.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),u(),h&&h(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ns){const r=Ns[e];if(!r)continue;const{isEnabled:o,Feature:a}=r;if(!this.features[e]&&a&&o(this.props)&&(this.features[e]=new a(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<mE.length;o++){const a=mE[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,h=e[u];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=y4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const o=this.values.get(e);r!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&r!==void 0&&(o=ol(r===null?void 0:r,{owner:this}),this.addValue(e,o)),o}readValue(e,r){var o;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(o=this.getBaseTargetFromProps(this.props,e))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(jw(a)||Ew(a))?a=parseFloat(a):!m4(a)&&Li.test(r)&&(a=Dw(e,r)),this.setBaseTarget(e,ln(a)?a.get():a)),ln(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const h=Zf(this.props,o,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);h&&(a=h[e])}if(o&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!ln(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Nf),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class gE extends v4{constructor(){super(...arguments),this.KeyframeResolver=$w}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:o}){delete r[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function b4(n){return window.getComputedStyle(n)}class w4 extends gE{constructor(){super(...arguments),this.type="html",this.renderInstance=aw}readValueFromInstance(e,r){if(Ao.has(r))return PP(e,r);{const o=b4(e),a=(Wf(r)?o.getPropertyValue(r):o[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return xS(e,r)}build(e,r,o){Kf(e,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,r,o){return tp(e,r,o)}}class S4 extends gE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&sw(this.current,this.renderState)}}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ao.has(r)){const o=Aw(r);return o&&o.default||0}return r=lw.has(r)?r:qf(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,o){return cw(e,r,o)}onBindTransform(){this.current&&!this.renderState.dimensions&&it.postRender(this.updateDimensions)}build(e,r,o){Yf(e,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,r,o,a){uw(e,r,o,a)}mount(e){this.isSVGTag=Jf(e.tagName),super.mount(e)}}const E4=(n,e)=>Xf(n)?new S4(e):new w4(e,{allowProjection:n!==me.Fragment}),k4=iP({...WN,...h4,...e4,...d4},E4),x4=wD(k4);var Rc={};(function n(e,r,o,a){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;var E=new OffscreenCanvas(1,1),_=E.getContext("2d");_.fillRect(0,0,1,1);var Y=E.transferToImageBitmap();try{_.createPattern(Y,"no-repeat")}catch{return!1}return!0})();function m(){}function g(E){var _=r.exports.Promise,Y=_!==void 0?_:e.Promise;return typeof Y=="function"?new Y(E):(E(m,m),null)}var v=(function(E,_){return{transform:function(Y){if(E)return Y;if(_.has(Y))return _.get(Y);var K=new OffscreenCanvas(Y.width,Y.height),J=K.getContext("2d");return J.drawImage(Y,0,0),_.set(Y,K),K},clear:function(){_.clear()}}})(f,new Map),S=(function(){var E=Math.floor(16.666666666666668),_,Y,K={},J=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(ue){var le=Math.random();return K[le]=requestAnimationFrame(function fe(he){J===he||J+E-1<he?(J=he,delete K[le],ue()):K[le]=requestAnimationFrame(fe)}),le},Y=function(ue){K[ue]&&cancelAnimationFrame(K[ue])}):(_=function(ue){return setTimeout(ue,E)},Y=function(ue){return clearTimeout(ue)}),{frame:_,cancel:Y}})(),T=(function(){var E,_,Y={};function K(J){function ue(le,fe){J.postMessage({options:le||{},callback:fe})}J.init=function(le){var fe=le.transferControlToOffscreen();J.postMessage({canvas:fe},[fe])},J.fire=function(le,fe,he){if(_)return ue(le,null),_;var Ee=Math.random().toString(36).slice(2);return _=g(function(Ce){function Pe(Je){Je.data.callback===Ee&&(delete Y[Ee],J.removeEventListener("message",Pe),_=null,v.clear(),he(),Ce())}J.addEventListener("message",Pe),ue(le,Ee),Y[Ee]=Pe.bind(null,{data:{callback:Ee}})}),_},J.reset=function(){J.postMessage({reset:!0});for(var le in Y)Y[le](),delete Y[le]}}return function(){if(E)return E;if(!o&&u){var J=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{E=new Worker(URL.createObjectURL(new Blob([J])))}catch(ue){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ue),null}K(E)}return E}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(E,_){return _?_(E):E}function z(E){return E!=null}function j(E,_,Y){return V(E&&z(E[_])?E[_]:A[_],Y)}function Z(E){return E<0?0:Math.floor(E)}function te(E,_){return Math.floor(Math.random()*(_-E))+E}function oe(E){return parseInt(E,16)}function ge(E){return E.map(ae)}function ae(E){var _=String(E).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:oe(_.substring(0,2)),g:oe(_.substring(2,4)),b:oe(_.substring(4,6))}}function ye(E){var _=j(E,"origin",Object);return _.x=j(_,"x",Number),_.y=j(_,"y",Number),_}function L(E){E.width=document.documentElement.clientWidth,E.height=document.documentElement.clientHeight}function C(E){var _=E.getBoundingClientRect();E.width=_.width,E.height=_.height}function I(E){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=E,_}function N(E,_,Y,K,J,ue,le,fe,he){E.save(),E.translate(_,Y),E.rotate(ue),E.scale(K,J),E.arc(0,0,1,le,fe,he),E.restore()}function M(E){var _=E.angle*(Math.PI/180),Y=E.spread*(Math.PI/180);return{x:E.x,y:E.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:E.startVelocity*.5+Math.random()*E.startVelocity,angle2D:-_+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:E.color,shape:E.shape,tick:0,totalTicks:E.ticks,decay:E.decay,drift:E.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:E.gravity*3,ovalScalar:.6,scalar:E.scalar,flat:E.flat}}function F(E,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var Y=_.tick++/_.totalTicks,K=_.x+_.random*_.tiltCos,J=_.y+_.random*_.tiltSin,ue=_.wobbleX+_.random*_.tiltCos,le=_.wobbleY+_.random*_.tiltSin;if(E.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-Y)+")",E.beginPath(),h&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))E.fill(de(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(ue-K)*.1,Math.abs(le-J)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var fe=Math.PI/10*_.wobble,he=Math.abs(ue-K)*.1,Ee=Math.abs(le-J)*.1,Ce=_.shape.bitmap.width*_.scalar,Pe=_.shape.bitmap.height*_.scalar,Je=new DOMMatrix([Math.cos(fe)*he,Math.sin(fe)*he,-Math.sin(fe)*Ee,Math.cos(fe)*Ee,_.x,_.y]);Je.multiplySelf(new DOMMatrix(_.shape.matrix));var et=E.createPattern(v.transform(_.shape.bitmap),"no-repeat");et.setTransform(Je),E.globalAlpha=1-Y,E.fillStyle=et,E.fillRect(_.x-Ce/2,_.y-Pe/2,Ce,Pe),E.globalAlpha=1}else if(_.shape==="circle")E.ellipse?E.ellipse(_.x,_.y,Math.abs(ue-K)*_.ovalScalar,Math.abs(le-J)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):N(E,_.x,_.y,Math.abs(ue-K)*_.ovalScalar,Math.abs(le-J)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var Me=Math.PI/2*3,ct=4*_.scalar,Et=8*_.scalar,Xt=_.x,cn=_.y,xn=5,Ft=Math.PI/xn;xn--;)Xt=_.x+Math.cos(Me)*Et,cn=_.y+Math.sin(Me)*Et,E.lineTo(Xt,cn),Me+=Ft,Xt=_.x+Math.cos(Me)*ct,cn=_.y+Math.sin(Me)*ct,E.lineTo(Xt,cn),Me+=Ft;else E.moveTo(Math.floor(_.x),Math.floor(_.y)),E.lineTo(Math.floor(_.wobbleX),Math.floor(J)),E.lineTo(Math.floor(ue),Math.floor(le)),E.lineTo(Math.floor(K),Math.floor(_.wobbleY));return E.closePath(),E.fill(),_.tick<_.totalTicks}function P(E,_,Y,K,J){var ue=_.slice(),le=E.getContext("2d"),fe,he,Ee=g(function(Ce){function Pe(){fe=he=null,le.clearRect(0,0,K.width,K.height),v.clear(),J(),Ce()}function Je(){o&&!(K.width===a.width&&K.height===a.height)&&(K.width=E.width=a.width,K.height=E.height=a.height),!K.width&&!K.height&&(Y(E),K.width=E.width,K.height=E.height),le.clearRect(0,0,K.width,K.height),ue=ue.filter(function(et){return F(le,et)}),ue.length?fe=S.frame(Je):Pe()}fe=S.frame(Je),he=Pe});return{addFettis:function(Ce){return ue=ue.concat(Ce),Ee},canvas:E,promise:Ee,reset:function(){fe&&S.cancel(fe),he&&he()}}}function $e(E,_){var Y=!E,K=!!j(_||{},"resize"),J=!1,ue=j(_,"disableForReducedMotion",Boolean),le=u&&!!j(_||{},"useWorker"),fe=le?T():null,he=Y?L:C,Ee=E&&fe?!!E.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Pe;function Je(Me,ct,Et){for(var Xt=j(Me,"particleCount",Z),cn=j(Me,"angle",Number),xn=j(Me,"spread",Number),Ft=j(Me,"startVelocity",Number),Vi=j(Me,"decay",Number),Sl=j(Me,"gravity",Number),Ro=j(Me,"drift",Number),Yt=j(Me,"colors",ge),Bs=j(Me,"ticks",Number),mt=j(Me,"shapes"),It=j(Me,"scalar"),ir=!!j(Me,"flat"),Vo=ye(Me),Oi=Xt,Oo=[],$r=E.width*Vo.x,wr=E.height*Vo.y;Oi--;)Oo.push(M({x:$r,y:wr,angle:cn,spread:xn,startVelocity:Ft,color:Yt[Oi%Yt.length],shape:mt[te(0,mt.length)],ticks:Bs,decay:Vi,gravity:Sl,drift:Ro,scalar:It,flat:ir}));return Pe?Pe.addFettis(Oo):(Pe=P(E,Oo,he,ct,Et),Pe.promise)}function et(Me){var ct=ue||j(Me,"disableForReducedMotion",Boolean),Et=j(Me,"zIndex",Number);if(ct&&Ce)return g(function(Ft){Ft()});Y&&Pe?E=Pe.canvas:Y&&!E&&(E=I(Et),document.body.appendChild(E)),K&&!Ee&&he(E);var Xt={width:E.width,height:E.height};fe&&!Ee&&fe.init(E),Ee=!0,fe&&(E.__confetti_initialized=!0);function cn(){if(fe){var Ft={getBoundingClientRect:function(){if(!Y)return E.getBoundingClientRect()}};he(Ft),fe.postMessage({resize:{width:Ft.width,height:Ft.height}});return}Xt.width=Xt.height=null}function xn(){Pe=null,K&&(J=!1,e.removeEventListener("resize",cn)),Y&&E&&(document.body.contains(E)&&document.body.removeChild(E),E=null,Ee=!1)}return K&&!J&&(J=!0,e.addEventListener("resize",cn,!1)),fe?fe.fire(Me,Xt,xn):Je(Me,Xt,xn)}return et.reset=function(){fe&&fe.reset(),Pe&&Pe.reset()},et}var _e;function ie(){return _e||(_e=$e(null,{useWorker:!0,resize:!0})),_e}function de(E,_,Y,K,J,ue,le){var fe=new Path2D(E),he=new Path2D;he.addPath(fe,new DOMMatrix(_));var Ee=new Path2D;return Ee.addPath(he,new DOMMatrix([Math.cos(le)*J,Math.sin(le)*J,-Math.sin(le)*ue,Math.cos(le)*ue,Y,K])),Ee}function ve(E){if(!h)throw new Error("path confetti are not supported in this browser");var _,Y;typeof E=="string"?_=E:(_=E.path,Y=E.matrix);var K=new Path2D(_),J=document.createElement("canvas"),ue=J.getContext("2d");if(!Y){for(var le=1e3,fe=le,he=le,Ee=0,Ce=0,Pe,Je,et=0;et<le;et+=2)for(var Me=0;Me<le;Me+=2)ue.isPointInPath(K,et,Me,"nonzero")&&(fe=Math.min(fe,et),he=Math.min(he,Me),Ee=Math.max(Ee,et),Ce=Math.max(Ce,Me));Pe=Ee-fe,Je=Ce-he;var ct=10,Et=Math.min(ct/Pe,ct/Je);Y=[Et,0,0,Et,-Math.round(Pe/2+fe)*Et,-Math.round(Je/2+he)*Et]}return{type:"path",path:_,matrix:Y}}function We(E){var _,Y=1,K="#000000",J='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof E=="string"?_=E:(_=E.text,Y="scalar"in E?E.scalar:Y,J="fontFamily"in E?E.fontFamily:J,K="color"in E?E.color:K);var ue=10*Y,le=""+ue+"px "+J,fe=new OffscreenCanvas(ue,ue),he=fe.getContext("2d");he.font=le;var Ee=he.measureText(_),Ce=Math.ceil(Ee.actualBoundingBoxRight+Ee.actualBoundingBoxLeft),Pe=Math.ceil(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent),Je=2,et=Ee.actualBoundingBoxLeft+Je,Me=Ee.actualBoundingBoxAscent+Je;Ce+=Je+Je,Pe+=Je+Je,fe=new OffscreenCanvas(Ce,Pe),he=fe.getContext("2d"),he.font=le,he.fillStyle=K,he.fillText(_,et,Me);var ct=1/Y;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[ct,0,0,ct,-Ce*ct/2,-Pe*ct/2]}}r.exports=function(){return ie().apply(this,arguments)},r.exports.reset=function(){ie().reset()},r.exports.create=$e,r.exports.shapeFromPath=ve,r.exports.shapeFromText=We})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Rc,!1);const yE=Rc.exports;Rc.exports.create;const vE=17;function T4({streak:n,triggerCelebration:e,onResetStreak:r}){const o=Math.min(n/vE*100,100),a=n===vE;return me.useEffect(()=>{a&&(yE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{yE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[a]),re.jsx("div",{className:"streak-wrapper",children:re.jsxs("div",{className:"streak-bar-background",children:[re.jsx(x4.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${o}%`},transition:{duration:.4}}),re.jsxs("div",{className:"streak-bar-content",children:[re.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),a&&re.jsx("button",{className:"streak-reset-inline",onClick:r,children:"Reset"})]})]})})}function C4({onClose:n,questions:e}){const[r,o]=me.useState([]),[a,u]=me.useState(0),[h,f]=me.useState(0);me.useEffect(()=>{An("stats_modal_opened");const A=$A(IA(nl,"questionStats"),V=>{const z=[];let j=0,Z=0;V.forEach(te=>{const oe=te.data();z.push({id:te.id,...oe}),j+=oe.total||0,Z+=oe.correct||0}),o(z),u(j),f(Z)});return()=>A()},[]);const m=a?Math.round(h/a*100):0,g=[...r].filter(A=>A.correct>0).sort((A,V)=>V.correct-A.correct).slice(0,3),v=[...r].filter(A=>A.wrong>0).sort((A,V)=>V.wrong-A.wrong).slice(0,3),S=A=>{if(!Array.isArray(e))return`Frage #${A}`;const V=e.find(z=>String(z.id)===String(A));return(V==null?void 0:V.question)||`Frage #${A}`},T=(A,V)=>{An("stats_question_clicked",{question_id:A,type:V});const z=e.findIndex(j=>String(j.id)===String(A));z!==-1&&n(z)};return re.jsx("div",{className:"about-modal-overlay",onClick:A=>{A.target.classList.contains("about-modal-overlay")&&n()},children:re.jsxs("div",{className:"about-modal",children:[re.jsx("button",{className:"close-button",onClick:()=>n(),children:"×"}),re.jsx("h2",{className:"text-xl font-bold mb-4",children:"Globale Statistiken"}),re.jsxs("div",{className:"modal-content",children:[re.jsxs("div",{className:"stats-summary",children:[re.jsxs("div",{className:"stats-summary-box",children:[re.jsxs("p",{className:"text-sm",children:["Beantwortete",re.jsx("br",{}),"Fragen"]}),re.jsx("p",{className:"big-number",children:a})]}),re.jsxs("div",{className:"stats-summary-box",children:[re.jsxs("p",{className:"text-sm",children:["Richtig",re.jsx("br",{}),"beantwortet"]}),re.jsxs("p",{className:"big-number",children:[m,"%"]})]})]}),re.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",re.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),re.jsx("div",{className:"answer-list mb-4",children:g.map(A=>re.jsx("div",{className:"answer-button text-sm",onClick:()=>T(A.id,"correct"),children:S(A.id)},A.id))}),re.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",re.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),re.jsx("div",{className:"answer-list",children:v.map(A=>re.jsx("div",{className:"answer-button text-sm",onClick:()=>T(A.id,"wrong"),children:S(A.id)},A.id))})]})]})})}function I4(){const[n,e]=me.useState(()=>localStorage.getItem("user_consent")==="true");me.useEffect(()=>{var o;n||(o=window.gtag)==null||o.call(window,"consent","default",{ad_storage:"denied",analytics_storage:"granted"})},[n]);const r=()=>{var o;localStorage.setItem("user_consent","true"),e(!0),(o=window.gtag)==null||o.call(window,"consent","update",{ad_storage:"granted",analytics_storage:"granted"}),console.log("✅ User accepted cookies")};return n?null:re.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:re.jsxs("div",{style:{background:"white",color:"#222",borderRadius:"12px",padding:"24px",maxWidth:"300px",textAlign:"center",boxShadow:"0 6px 16px rgba(0,0,0,0.1)"},children:[re.jsx("p",{style:{marginBottom:"16px",fontSize:"15px",lineHeight:1.5},children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsdaten zu sammeln. Keine persönlichen Daten werden gespeichert oder weitergegeben."}),re.jsx("button",{onClick:r,style:{fontSize:"15px",padding:"10px 16px",fontWeight:"500",backgroundColor:"var(--color-primary)",color:"white",borderRadius:"8px",border:"none",cursor:"pointer"},children:"OK, verstanden"})]})})}function _4(){var n,e,r,o,a;const[u,h]=me.useState([]),[f,m]=me.useState(0),[g,v]=me.useState(null),[S,T]=me.useState(!0),[A,V]=me.useState(!1),[z,j]=me.useState(!1),[Z,te]=me.useState(0),[oe,ge]=me.useState(!1),ae=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);me.useEffect(()=>{const N=setInterval(()=>{var M;(window.gtag||(M=window.firebase)!=null&&M.analytics)&&(An("session_start"),clearInterval(N))},100);return fetch("/data/questions.json").then(M=>M.json()).then(M=>{const F=M.map($e=>{var _e;const ie=$e.question_number;return{id:ie??"N/A",question:$e.question??"No question provided",answers:$e.options??[],correct:((_e=$e.options)==null?void 0:_e.indexOf($e.correct_answer))??-1,imageId:ae.has(ie)?ie:null}});h(F);const P=Math.floor(Math.random()*F.length);m(P),T(!1)}).catch(M=>{console.error("❌ Failed to load questions:",M),T(!1)}),()=>clearInterval(N)},[]);const ye=async N=>{var M,F;const P=N===((M=u[f])==null?void 0:M.correct);v(N);const $e=P?Z+1:0;te($e),$e===17&&(An("completed_streak_17"),ge(!0),setTimeout(()=>ge(!1),3e3));const _e=String((F=u[f])==null?void 0:F.id);An("question_answered",{question_id:_e,correct:P});let ie=Number(sessionStorage.getItem("answered_count")||0)+1;sessionStorage.setItem("answered_count",ie),ie===3&&(An("answered_3_in_session"),console.log("🎯 Logged: answered_3_in_session"));try{const de=dc(nl,"questionStats",_e);await bb(de,{total:Ds(1),correct:Ds(P?1:0),wrong:Ds(P?0:1)})}catch(de){de.code==="not-found"?await vb(dc(nl,"questionStats",_e),{total:1,correct:P?1:0,wrong:P?0:1}):console.error("❌ Firestore update failed:",de)}try{const de=dc(nl,"metrics","totals");await bb(de,{total:Ds(1),correct:Ds(P?1:0),wrong:Ds(P?0:1)})}catch(de){de.code==="not-found"?await vb(dc(nl,"metrics","totals"),{total:1,correct:P?1:0,wrong:P?0:1}):console.error("❌ Failed to update global totals:",de)}},L=()=>{v(null),m(Math.floor(Math.random()*u.length)),An("random_question_clicked")},C=()=>{j(!1),V(!0),An("about_modal_opened")},I=()=>{V(!1),j(!0),An("stats_modal_opened")};return re.jsxs("div",{className:"app-wrapper",children:[re.jsx("header",{className:"app-header",children:re.jsxs("div",{className:"header-inner",children:[re.jsxs("div",{className:"header-titles",children:[re.jsx("h1",{className:"app-title",children:"Fragen-Katalog"}),re.jsx("p",{className:"subtitle",children:"Under Construction"})]}),re.jsxs("div",{className:"header-links",children:[re.jsx("a",{href:"#",className:"about-link",onClick:N=>{N.preventDefault(),I()},children:"Statistiken"}),re.jsx("a",{href:"#",className:"about-link",onClick:N=>{N.preventDefault(),C()},children:"Über"})]})]})}),re.jsx("main",{className:"main-content",children:S?re.jsx("p",{className:"loading-text",children:"Loading questions..."}):re.jsxs(re.Fragment,{children:[re.jsx(T4,{streak:Z,triggerCelebration:oe,onResetStreak:()=>te(0)}),re.jsx(QA,{id:(n=u[f])==null?void 0:n.id,question:(e=u[f])==null?void 0:e.question,answers:(r=u[f])==null?void 0:r.answers,correctIndex:(o=u[f])==null?void 0:o.correct,selectedAnswer:g,onSelectAnswer:ye,imageId:(a=u[f])==null?void 0:a.imageId}),re.jsx("div",{className:"controls",children:re.jsx("button",{className:"controls-button",onClick:()=>{An("next_question_clicked"),L()},children:"Nächste Frage"})}),re.jsx("div",{style:{height:"10px"}})]})}),A&&!z&&re.jsx(GA,{onClose:()=>V(!1)}),z&&!A&&re.jsx(C4,{onClose:N=>{j(!1),typeof N=="number"&&m(N)},questions:u}),re.jsx(I4,{}),!A&&!z&&re.jsx("div",{style:{position:"fixed",bottom:16,right:16,zIndex:1e3,width:"100%",maxWidth:"200px"},children:re.jsx(kb,{})})]})}(function(n,e,r,o,a,u,h){n[r]=n[r]||function(){(n[r].q=n[r].q||[]).push(arguments)},u=e.createElement(o),u.async=1,u.src="https://www.clarity.ms/tag/qyg3chkjg3",h=e.getElementsByTagName(o)[0],h.parentNode.insertBefore(u,h)})(window,document,"clarity","script"),Dx.createRoot(document.getElementById("root")).render(re.jsx(Ex.StrictMode,{children:re.jsx(_4,{})}))});eR();
